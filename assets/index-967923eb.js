(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function cv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ip={exports:{}},_a={},Sp={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _s=Symbol.for("react.element"),hv=Symbol.for("react.portal"),fv=Symbol.for("react.fragment"),dv=Symbol.for("react.strict_mode"),pv=Symbol.for("react.profiler"),mv=Symbol.for("react.provider"),gv=Symbol.for("react.context"),yv=Symbol.for("react.forward_ref"),_v=Symbol.for("react.suspense"),vv=Symbol.for("react.memo"),Ev=Symbol.for("react.lazy"),ff=Symbol.iterator;function wv(t){return t===null||typeof t!="object"?null:(t=ff&&t[ff]||t["@@iterator"],typeof t=="function"?t:null)}var Ap={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Cp=Object.assign,Rp={};function Gr(t,e,n){this.props=t,this.context=e,this.refs=Rp,this.updater=n||Ap}Gr.prototype.isReactComponent={};Gr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Gr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Pp(){}Pp.prototype=Gr.prototype;function wc(t,e,n){this.props=t,this.context=e,this.refs=Rp,this.updater=n||Ap}var Tc=wc.prototype=new Pp;Tc.constructor=wc;Cp(Tc,Gr.prototype);Tc.isPureReactComponent=!0;var df=Array.isArray,kp=Object.prototype.hasOwnProperty,Ic={current:null},Vp={key:!0,ref:!0,__self:!0,__source:!0};function Dp(t,e,n){var r,s={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)kp.call(e,r)&&!Vp.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:_s,type:t,key:o,ref:a,props:s,_owner:Ic.current}}function Tv(t,e){return{$$typeof:_s,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Sc(t){return typeof t=="object"&&t!==null&&t.$$typeof===_s}function Iv(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var pf=/\/+/g;function cl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Iv(""+t.key):e.toString(36)}function po(t,e,n,r,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case _s:case hv:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+cl(a,0):r,df(s)?(n="",t!=null&&(n=t.replace(pf,"$&/")+"/"),po(s,e,n,"",function(c){return c})):s!=null&&(Sc(s)&&(s=Tv(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(pf,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",df(t))for(var l=0;l<t.length;l++){o=t[l];var u=r+cl(o,l);a+=po(o,e,n,u,s)}else if(u=wv(t),typeof u=="function")for(t=u.call(t),l=0;!(o=t.next()).done;)o=o.value,u=r+cl(o,l++),a+=po(o,e,n,u,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function zs(t,e,n){if(t==null)return t;var r=[],s=0;return po(t,r,"","",function(o){return e.call(n,o,s++)}),r}function Sv(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qe={current:null},mo={transition:null},Av={ReactCurrentDispatcher:Qe,ReactCurrentBatchConfig:mo,ReactCurrentOwner:Ic};H.Children={map:zs,forEach:function(t,e,n){zs(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return zs(t,function(){e++}),e},toArray:function(t){return zs(t,function(e){return e})||[]},only:function(t){if(!Sc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};H.Component=Gr;H.Fragment=fv;H.Profiler=pv;H.PureComponent=wc;H.StrictMode=dv;H.Suspense=_v;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Av;H.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Cp({},t.props),s=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=Ic.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)kp.call(e,u)&&!Vp.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:_s,type:t.type,key:s,ref:o,props:r,_owner:a}};H.createContext=function(t){return t={$$typeof:gv,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:mv,_context:t},t.Consumer=t};H.createElement=Dp;H.createFactory=function(t){var e=Dp.bind(null,t);return e.type=t,e};H.createRef=function(){return{current:null}};H.forwardRef=function(t){return{$$typeof:yv,render:t}};H.isValidElement=Sc;H.lazy=function(t){return{$$typeof:Ev,_payload:{_status:-1,_result:t},_init:Sv}};H.memo=function(t,e){return{$$typeof:vv,type:t,compare:e===void 0?null:e}};H.startTransition=function(t){var e=mo.transition;mo.transition={};try{t()}finally{mo.transition=e}};H.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};H.useCallback=function(t,e){return Qe.current.useCallback(t,e)};H.useContext=function(t){return Qe.current.useContext(t)};H.useDebugValue=function(){};H.useDeferredValue=function(t){return Qe.current.useDeferredValue(t)};H.useEffect=function(t,e){return Qe.current.useEffect(t,e)};H.useId=function(){return Qe.current.useId()};H.useImperativeHandle=function(t,e,n){return Qe.current.useImperativeHandle(t,e,n)};H.useInsertionEffect=function(t,e){return Qe.current.useInsertionEffect(t,e)};H.useLayoutEffect=function(t,e){return Qe.current.useLayoutEffect(t,e)};H.useMemo=function(t,e){return Qe.current.useMemo(t,e)};H.useReducer=function(t,e,n){return Qe.current.useReducer(t,e,n)};H.useRef=function(t){return Qe.current.useRef(t)};H.useState=function(t){return Qe.current.useState(t)};H.useSyncExternalStore=function(t,e,n){return Qe.current.useSyncExternalStore(t,e,n)};H.useTransition=function(){return Qe.current.useTransition()};H.version="18.2.0";Sp.exports=H;var Nr=Sp.exports;const Cv=cv(Nr);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv=Nr,Pv=Symbol.for("react.element"),kv=Symbol.for("react.fragment"),Vv=Object.prototype.hasOwnProperty,Dv=Rv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Nv={key:!0,ref:!0,__self:!0,__source:!0};function Np(t,e,n){var r,s={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Vv.call(e,r)&&!Nv.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Pv,type:t,key:o,ref:a,props:s,_owner:Dv.current}}_a.Fragment=kv;_a.jsx=Np;_a.jsxs=Np;Ip.exports=_a;var Re=Ip.exports,Jl={},xp={exports:{}},st={},Mp={exports:{}},Op={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,U){var B=k.length;k.push(U);e:for(;0<B;){var ce=B-1>>>1,ve=k[ce];if(0<s(ve,U))k[ce]=U,k[B]=ve,B=ce;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var U=k[0],B=k.pop();if(B!==U){k[0]=B;e:for(var ce=0,ve=k.length,$s=ve>>>1;ce<$s;){var Vn=2*(ce+1)-1,ul=k[Vn],Dn=Vn+1,Us=k[Dn];if(0>s(ul,B))Dn<ve&&0>s(Us,ul)?(k[ce]=Us,k[Dn]=B,ce=Dn):(k[ce]=ul,k[Vn]=B,ce=Vn);else if(Dn<ve&&0>s(Us,B))k[ce]=Us,k[Dn]=B,ce=Dn;else break e}}return U}function s(k,U){var B=k.sortIndex-U.sortIndex;return B!==0?B:k.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],h=1,f=null,d=3,y=!1,_=!1,v=!1,C=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(k){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=k)r(c),U.sortIndex=U.expirationTime,e(u,U);else break;U=n(c)}}function E(k){if(v=!1,g(k),!_)if(n(u)!==null)_=!0,al(A);else{var U=n(c);U!==null&&ll(E,U.startTime-k)}}function A(k,U){_=!1,v&&(v=!1,m(N),N=-1),y=!0;var B=d;try{for(g(U),f=n(u);f!==null&&(!(f.expirationTime>U)||k&&!mt());){var ce=f.callback;if(typeof ce=="function"){f.callback=null,d=f.priorityLevel;var ve=ce(f.expirationTime<=U);U=t.unstable_now(),typeof ve=="function"?f.callback=ve:f===n(u)&&r(u),g(U)}else r(u);f=n(u)}if(f!==null)var $s=!0;else{var Vn=n(c);Vn!==null&&ll(E,Vn.startTime-U),$s=!1}return $s}finally{f=null,d=B,y=!1}}var R=!1,V=null,N=-1,re=5,z=-1;function mt(){return!(t.unstable_now()-z<re)}function ii(){if(V!==null){var k=t.unstable_now();z=k;var U=!0;try{U=V(!0,k)}finally{U?si():(R=!1,V=null)}}else R=!1}var si;if(typeof p=="function")si=function(){p(ii)};else if(typeof MessageChannel<"u"){var hf=new MessageChannel,uv=hf.port2;hf.port1.onmessage=ii,si=function(){uv.postMessage(null)}}else si=function(){C(ii,0)};function al(k){V=k,R||(R=!0,si())}function ll(k,U){N=C(function(){k(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){_||y||(_=!0,al(A))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(k){switch(d){case 1:case 2:case 3:var U=3;break;default:U=d}var B=d;d=U;try{return k()}finally{d=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,U){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var B=d;d=k;try{return U()}finally{d=B}},t.unstable_scheduleCallback=function(k,U,B){var ce=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?ce+B:ce):B=ce,k){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=B+ve,k={id:h++,callback:U,priorityLevel:k,startTime:B,expirationTime:ve,sortIndex:-1},B>ce?(k.sortIndex=B,e(c,k),n(u)===null&&k===n(c)&&(v?(m(N),N=-1):v=!0,ll(E,B-ce))):(k.sortIndex=ve,e(u,k),_||y||(_=!0,al(A))),k},t.unstable_shouldYield=mt,t.unstable_wrapCallback=function(k){var U=d;return function(){var B=d;d=U;try{return k.apply(this,arguments)}finally{d=B}}}})(Op);Mp.exports=Op;var xv=Mp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp=Nr,rt=xv;function T(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Fp=new Set,$i={};function Zn(t,e){xr(t,e),xr(t+"Capture",e)}function xr(t,e){for($i[t]=e,t=0;t<e.length;t++)Fp.add(e[t])}var Wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zl=Object.prototype.hasOwnProperty,Mv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mf={},gf={};function Ov(t){return Zl.call(gf,t)?!0:Zl.call(mf,t)?!1:Mv.test(t)?gf[t]=!0:(mf[t]=!0,!1)}function Lv(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Fv(t,e,n,r){if(e===null||typeof e>"u"||Lv(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ge(t,e,n,r,s,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var De={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){De[t]=new Ge(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];De[e]=new Ge(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){De[t]=new Ge(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){De[t]=new Ge(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){De[t]=new Ge(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){De[t]=new Ge(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){De[t]=new Ge(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){De[t]=new Ge(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){De[t]=new Ge(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ac=/[\-:]([a-z])/g;function Cc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ac,Cc);De[e]=new Ge(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ac,Cc);De[e]=new Ge(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ac,Cc);De[e]=new Ge(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){De[t]=new Ge(t,1,!1,t.toLowerCase(),null,!1,!1)});De.xlinkHref=new Ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){De[t]=new Ge(t,1,!1,t.toLowerCase(),null,!0,!0)});function Rc(t,e,n,r){var s=De.hasOwnProperty(e)?De[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Fv(e,n,s,r)&&(n=null),r||s===null?Ov(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Jt=Lp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bs=Symbol.for("react.element"),lr=Symbol.for("react.portal"),ur=Symbol.for("react.fragment"),Pc=Symbol.for("react.strict_mode"),eu=Symbol.for("react.profiler"),$p=Symbol.for("react.provider"),Up=Symbol.for("react.context"),kc=Symbol.for("react.forward_ref"),tu=Symbol.for("react.suspense"),nu=Symbol.for("react.suspense_list"),Vc=Symbol.for("react.memo"),en=Symbol.for("react.lazy"),zp=Symbol.for("react.offscreen"),yf=Symbol.iterator;function oi(t){return t===null||typeof t!="object"?null:(t=yf&&t[yf]||t["@@iterator"],typeof t=="function"?t:null)}var oe=Object.assign,hl;function gi(t){if(hl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);hl=e&&e[1]||""}return`
`+hl+t}var fl=!1;function dl(t,e){if(!t||fl)return"";fl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),o=r.stack.split(`
`),a=s.length-1,l=o.length-1;1<=a&&0<=l&&s[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==o[l]){var u=`
`+s[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=a&&0<=l);break}}}finally{fl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?gi(t):""}function $v(t){switch(t.tag){case 5:return gi(t.type);case 16:return gi("Lazy");case 13:return gi("Suspense");case 19:return gi("SuspenseList");case 0:case 2:case 15:return t=dl(t.type,!1),t;case 11:return t=dl(t.type.render,!1),t;case 1:return t=dl(t.type,!0),t;default:return""}}function ru(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ur:return"Fragment";case lr:return"Portal";case eu:return"Profiler";case Pc:return"StrictMode";case tu:return"Suspense";case nu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Up:return(t.displayName||"Context")+".Consumer";case $p:return(t._context.displayName||"Context")+".Provider";case kc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Vc:return e=t.displayName||null,e!==null?e:ru(t.type)||"Memo";case en:e=t._payload,t=t._init;try{return ru(t(e))}catch{}}return null}function Uv(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ru(e);case 8:return e===Pc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function En(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Bp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function zv(t){var e=Bp(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function js(t){t._valueTracker||(t._valueTracker=zv(t))}function jp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Bp(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Vo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function iu(t,e){var n=e.checked;return oe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function _f(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=En(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Hp(t,e){e=e.checked,e!=null&&Rc(t,"checked",e,!1)}function su(t,e){Hp(t,e);var n=En(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ou(t,e.type,n):e.hasOwnProperty("defaultValue")&&ou(t,e.type,En(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function vf(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ou(t,e,n){(e!=="number"||Vo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var yi=Array.isArray;function wr(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+En(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function au(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(T(91));return oe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ef(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(T(92));if(yi(n)){if(1<n.length)throw Error(T(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:En(n)}}function Wp(t,e){var n=En(e.value),r=En(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function wf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Kp(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Kp(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hs,qp=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Hs=Hs||document.createElement("div"),Hs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ui(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Si={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bv=["Webkit","ms","Moz","O"];Object.keys(Si).forEach(function(t){Bv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Si[e]=Si[t]})});function Qp(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Si.hasOwnProperty(t)&&Si[t]?(""+e).trim():e+"px"}function Gp(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Qp(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var jv=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function uu(t,e){if(e){if(jv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(T(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(T(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(T(61))}if(e.style!=null&&typeof e.style!="object")throw Error(T(62))}}function cu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hu=null;function Dc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fu=null,Tr=null,Ir=null;function Tf(t){if(t=ws(t)){if(typeof fu!="function")throw Error(T(280));var e=t.stateNode;e&&(e=Ia(e),fu(t.stateNode,t.type,e))}}function bp(t){Tr?Ir?Ir.push(t):Ir=[t]:Tr=t}function Xp(){if(Tr){var t=Tr,e=Ir;if(Ir=Tr=null,Tf(t),e)for(t=0;t<e.length;t++)Tf(e[t])}}function Yp(t,e){return t(e)}function Jp(){}var pl=!1;function Zp(t,e,n){if(pl)return t(e,n);pl=!0;try{return Yp(t,e,n)}finally{pl=!1,(Tr!==null||Ir!==null)&&(Jp(),Xp())}}function zi(t,e){var n=t.stateNode;if(n===null)return null;var r=Ia(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(T(231,e,typeof n));return n}var du=!1;if(Wt)try{var ai={};Object.defineProperty(ai,"passive",{get:function(){du=!0}}),window.addEventListener("test",ai,ai),window.removeEventListener("test",ai,ai)}catch{du=!1}function Hv(t,e,n,r,s,o,a,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Ai=!1,Do=null,No=!1,pu=null,Wv={onError:function(t){Ai=!0,Do=t}};function Kv(t,e,n,r,s,o,a,l,u){Ai=!1,Do=null,Hv.apply(Wv,arguments)}function qv(t,e,n,r,s,o,a,l,u){if(Kv.apply(this,arguments),Ai){if(Ai){var c=Do;Ai=!1,Do=null}else throw Error(T(198));No||(No=!0,pu=c)}}function er(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function em(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function If(t){if(er(t)!==t)throw Error(T(188))}function Qv(t){var e=t.alternate;if(!e){if(e=er(t),e===null)throw Error(T(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return If(s),t;if(o===r)return If(s),e;o=o.sibling}throw Error(T(188))}if(n.return!==r.return)n=s,r=o;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=o;break}if(l===r){a=!0,r=s,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=s;break}if(l===r){a=!0,r=o,n=s;break}l=l.sibling}if(!a)throw Error(T(189))}}if(n.alternate!==r)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?t:e}function tm(t){return t=Qv(t),t!==null?nm(t):null}function nm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=nm(t);if(e!==null)return e;t=t.sibling}return null}var rm=rt.unstable_scheduleCallback,Sf=rt.unstable_cancelCallback,Gv=rt.unstable_shouldYield,bv=rt.unstable_requestPaint,he=rt.unstable_now,Xv=rt.unstable_getCurrentPriorityLevel,Nc=rt.unstable_ImmediatePriority,im=rt.unstable_UserBlockingPriority,xo=rt.unstable_NormalPriority,Yv=rt.unstable_LowPriority,sm=rt.unstable_IdlePriority,va=null,Nt=null;function Jv(t){if(Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(va,t,void 0,(t.current.flags&128)===128)}catch{}}var wt=Math.clz32?Math.clz32:t0,Zv=Math.log,e0=Math.LN2;function t0(t){return t>>>=0,t===0?32:31-(Zv(t)/e0|0)|0}var Ws=64,Ks=4194304;function _i(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Mo(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=_i(l):(o&=a,o!==0&&(r=_i(o)))}else a=n&~s,a!==0?r=_i(a):o!==0&&(r=_i(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-wt(e),s=1<<n,r|=t[n],e&=~s;return r}function n0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function r0(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-wt(o),l=1<<a,u=s[a];u===-1?(!(l&n)||l&r)&&(s[a]=n0(l,e)):u<=e&&(t.expiredLanes|=l),o&=~l}}function mu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function om(){var t=Ws;return Ws<<=1,!(Ws&4194240)&&(Ws=64),t}function ml(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function vs(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-wt(e),t[e]=n}function i0(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-wt(n),o=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~o}}function xc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-wt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var G=0;function am(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var lm,Mc,um,cm,hm,gu=!1,qs=[],ln=null,un=null,cn=null,Bi=new Map,ji=new Map,nn=[],s0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Af(t,e){switch(t){case"focusin":case"focusout":ln=null;break;case"dragenter":case"dragleave":un=null;break;case"mouseover":case"mouseout":cn=null;break;case"pointerover":case"pointerout":Bi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ji.delete(e.pointerId)}}function li(t,e,n,r,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},e!==null&&(e=ws(e),e!==null&&Mc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function o0(t,e,n,r,s){switch(e){case"focusin":return ln=li(ln,t,e,n,r,s),!0;case"dragenter":return un=li(un,t,e,n,r,s),!0;case"mouseover":return cn=li(cn,t,e,n,r,s),!0;case"pointerover":var o=s.pointerId;return Bi.set(o,li(Bi.get(o)||null,t,e,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,ji.set(o,li(ji.get(o)||null,t,e,n,r,s)),!0}return!1}function fm(t){var e=On(t.target);if(e!==null){var n=er(e);if(n!==null){if(e=n.tag,e===13){if(e=em(n),e!==null){t.blockedOn=e,hm(t.priority,function(){um(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function go(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=yu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);hu=r,n.target.dispatchEvent(r),hu=null}else return e=ws(n),e!==null&&Mc(e),t.blockedOn=n,!1;e.shift()}return!0}function Cf(t,e,n){go(t)&&n.delete(e)}function a0(){gu=!1,ln!==null&&go(ln)&&(ln=null),un!==null&&go(un)&&(un=null),cn!==null&&go(cn)&&(cn=null),Bi.forEach(Cf),ji.forEach(Cf)}function ui(t,e){t.blockedOn===e&&(t.blockedOn=null,gu||(gu=!0,rt.unstable_scheduleCallback(rt.unstable_NormalPriority,a0)))}function Hi(t){function e(s){return ui(s,t)}if(0<qs.length){ui(qs[0],t);for(var n=1;n<qs.length;n++){var r=qs[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ln!==null&&ui(ln,t),un!==null&&ui(un,t),cn!==null&&ui(cn,t),Bi.forEach(e),ji.forEach(e),n=0;n<nn.length;n++)r=nn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<nn.length&&(n=nn[0],n.blockedOn===null);)fm(n),n.blockedOn===null&&nn.shift()}var Sr=Jt.ReactCurrentBatchConfig,Oo=!0;function l0(t,e,n,r){var s=G,o=Sr.transition;Sr.transition=null;try{G=1,Oc(t,e,n,r)}finally{G=s,Sr.transition=o}}function u0(t,e,n,r){var s=G,o=Sr.transition;Sr.transition=null;try{G=4,Oc(t,e,n,r)}finally{G=s,Sr.transition=o}}function Oc(t,e,n,r){if(Oo){var s=yu(t,e,n,r);if(s===null)Al(t,e,r,Lo,n),Af(t,r);else if(o0(s,t,e,n,r))r.stopPropagation();else if(Af(t,r),e&4&&-1<s0.indexOf(t)){for(;s!==null;){var o=ws(s);if(o!==null&&lm(o),o=yu(t,e,n,r),o===null&&Al(t,e,r,Lo,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Al(t,e,r,null,n)}}var Lo=null;function yu(t,e,n,r){if(Lo=null,t=Dc(r),t=On(t),t!==null)if(e=er(t),e===null)t=null;else if(n=e.tag,n===13){if(t=em(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Lo=t,null}function dm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xv()){case Nc:return 1;case im:return 4;case xo:case Yv:return 16;case sm:return 536870912;default:return 16}default:return 16}}var sn=null,Lc=null,yo=null;function pm(){if(yo)return yo;var t,e=Lc,n=e.length,r,s="value"in sn?sn.value:sn.textContent,o=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[o-r];r++);return yo=s.slice(t,1<r?1-r:void 0)}function _o(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Qs(){return!0}function Rf(){return!1}function ot(t){function e(n,r,s,o,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Qs:Rf,this.isPropagationStopped=Rf,this}return oe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qs)},persist:function(){},isPersistent:Qs}),e}var br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fc=ot(br),Es=oe({},br,{view:0,detail:0}),c0=ot(Es),gl,yl,ci,Ea=oe({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$c,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ci&&(ci&&t.type==="mousemove"?(gl=t.screenX-ci.screenX,yl=t.screenY-ci.screenY):yl=gl=0,ci=t),gl)},movementY:function(t){return"movementY"in t?t.movementY:yl}}),Pf=ot(Ea),h0=oe({},Ea,{dataTransfer:0}),f0=ot(h0),d0=oe({},Es,{relatedTarget:0}),_l=ot(d0),p0=oe({},br,{animationName:0,elapsedTime:0,pseudoElement:0}),m0=ot(p0),g0=oe({},br,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),y0=ot(g0),_0=oe({},br,{data:0}),kf=ot(_0),v0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},E0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},w0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function T0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=w0[t])?!!e[t]:!1}function $c(){return T0}var I0=oe({},Es,{key:function(t){if(t.key){var e=v0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_o(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?E0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$c,charCode:function(t){return t.type==="keypress"?_o(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_o(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),S0=ot(I0),A0=oe({},Ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vf=ot(A0),C0=oe({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$c}),R0=ot(C0),P0=oe({},br,{propertyName:0,elapsedTime:0,pseudoElement:0}),k0=ot(P0),V0=oe({},Ea,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),D0=ot(V0),N0=[9,13,27,32],Uc=Wt&&"CompositionEvent"in window,Ci=null;Wt&&"documentMode"in document&&(Ci=document.documentMode);var x0=Wt&&"TextEvent"in window&&!Ci,mm=Wt&&(!Uc||Ci&&8<Ci&&11>=Ci),Df=String.fromCharCode(32),Nf=!1;function gm(t,e){switch(t){case"keyup":return N0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ym(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var cr=!1;function M0(t,e){switch(t){case"compositionend":return ym(e);case"keypress":return e.which!==32?null:(Nf=!0,Df);case"textInput":return t=e.data,t===Df&&Nf?null:t;default:return null}}function O0(t,e){if(cr)return t==="compositionend"||!Uc&&gm(t,e)?(t=pm(),yo=Lc=sn=null,cr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return mm&&e.locale!=="ko"?null:e.data;default:return null}}var L0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!L0[t.type]:e==="textarea"}function _m(t,e,n,r){bp(r),e=Fo(e,"onChange"),0<e.length&&(n=new Fc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ri=null,Wi=null;function F0(t){km(t,0)}function wa(t){var e=dr(t);if(jp(e))return t}function $0(t,e){if(t==="change")return e}var vm=!1;if(Wt){var vl;if(Wt){var El="oninput"in document;if(!El){var Mf=document.createElement("div");Mf.setAttribute("oninput","return;"),El=typeof Mf.oninput=="function"}vl=El}else vl=!1;vm=vl&&(!document.documentMode||9<document.documentMode)}function Of(){Ri&&(Ri.detachEvent("onpropertychange",Em),Wi=Ri=null)}function Em(t){if(t.propertyName==="value"&&wa(Wi)){var e=[];_m(e,Wi,t,Dc(t)),Zp(F0,e)}}function U0(t,e,n){t==="focusin"?(Of(),Ri=e,Wi=n,Ri.attachEvent("onpropertychange",Em)):t==="focusout"&&Of()}function z0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wa(Wi)}function B0(t,e){if(t==="click")return wa(e)}function j0(t,e){if(t==="input"||t==="change")return wa(e)}function H0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var St=typeof Object.is=="function"?Object.is:H0;function Ki(t,e){if(St(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Zl.call(e,s)||!St(t[s],e[s]))return!1}return!0}function Lf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ff(t,e){var n=Lf(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Lf(n)}}function wm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?wm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Tm(){for(var t=window,e=Vo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Vo(t.document)}return e}function zc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function W0(t){var e=Tm(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&wm(n.ownerDocument.documentElement,n)){if(r!==null&&zc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!t.extend&&o>r&&(s=r,r=o,o=s),s=Ff(n,o);var a=Ff(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var K0=Wt&&"documentMode"in document&&11>=document.documentMode,hr=null,_u=null,Pi=null,vu=!1;function $f(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vu||hr==null||hr!==Vo(r)||(r=hr,"selectionStart"in r&&zc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pi&&Ki(Pi,r)||(Pi=r,r=Fo(_u,"onSelect"),0<r.length&&(e=new Fc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=hr)))}function Gs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var fr={animationend:Gs("Animation","AnimationEnd"),animationiteration:Gs("Animation","AnimationIteration"),animationstart:Gs("Animation","AnimationStart"),transitionend:Gs("Transition","TransitionEnd")},wl={},Im={};Wt&&(Im=document.createElement("div").style,"AnimationEvent"in window||(delete fr.animationend.animation,delete fr.animationiteration.animation,delete fr.animationstart.animation),"TransitionEvent"in window||delete fr.transitionend.transition);function Ta(t){if(wl[t])return wl[t];if(!fr[t])return t;var e=fr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Im)return wl[t]=e[n];return t}var Sm=Ta("animationend"),Am=Ta("animationiteration"),Cm=Ta("animationstart"),Rm=Ta("transitionend"),Pm=new Map,Uf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function An(t,e){Pm.set(t,e),Zn(e,[t])}for(var Tl=0;Tl<Uf.length;Tl++){var Il=Uf[Tl],q0=Il.toLowerCase(),Q0=Il[0].toUpperCase()+Il.slice(1);An(q0,"on"+Q0)}An(Sm,"onAnimationEnd");An(Am,"onAnimationIteration");An(Cm,"onAnimationStart");An("dblclick","onDoubleClick");An("focusin","onFocus");An("focusout","onBlur");An(Rm,"onTransitionEnd");xr("onMouseEnter",["mouseout","mouseover"]);xr("onMouseLeave",["mouseout","mouseover"]);xr("onPointerEnter",["pointerout","pointerover"]);xr("onPointerLeave",["pointerout","pointerover"]);Zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G0=new Set("cancel close invalid load scroll toggle".split(" ").concat(vi));function zf(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,qv(r,e,void 0,t),t.currentTarget=null}function km(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==o&&s.isPropagationStopped())break e;zf(s,l,c),o=u}else for(a=0;a<r.length;a++){if(l=r[a],u=l.instance,c=l.currentTarget,l=l.listener,u!==o&&s.isPropagationStopped())break e;zf(s,l,c),o=u}}}if(No)throw t=pu,No=!1,pu=null,t}function Y(t,e){var n=e[Su];n===void 0&&(n=e[Su]=new Set);var r=t+"__bubble";n.has(r)||(Vm(e,t,2,!1),n.add(r))}function Sl(t,e,n){var r=0;e&&(r|=4),Vm(n,t,r,e)}var bs="_reactListening"+Math.random().toString(36).slice(2);function qi(t){if(!t[bs]){t[bs]=!0,Fp.forEach(function(n){n!=="selectionchange"&&(G0.has(n)||Sl(n,!1,t),Sl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[bs]||(e[bs]=!0,Sl("selectionchange",!1,e))}}function Vm(t,e,n,r){switch(dm(e)){case 1:var s=l0;break;case 4:s=u0;break;default:s=Oc}n=s.bind(null,e,n,t),s=void 0,!du||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Al(t,e,n,r,s){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;a=a.return}for(;l!==null;){if(a=On(l),a===null)return;if(u=a.tag,u===5||u===6){r=o=a;continue e}l=l.parentNode}}r=r.return}Zp(function(){var c=o,h=Dc(n),f=[];e:{var d=Pm.get(t);if(d!==void 0){var y=Fc,_=t;switch(t){case"keypress":if(_o(n)===0)break e;case"keydown":case"keyup":y=S0;break;case"focusin":_="focus",y=_l;break;case"focusout":_="blur",y=_l;break;case"beforeblur":case"afterblur":y=_l;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Pf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=f0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=R0;break;case Sm:case Am:case Cm:y=m0;break;case Rm:y=k0;break;case"scroll":y=c0;break;case"wheel":y=D0;break;case"copy":case"cut":case"paste":y=y0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Vf}var v=(e&4)!==0,C=!v&&t==="scroll",m=v?d!==null?d+"Capture":null:d;v=[];for(var p=c,g;p!==null;){g=p;var E=g.stateNode;if(g.tag===5&&E!==null&&(g=E,m!==null&&(E=zi(p,m),E!=null&&v.push(Qi(p,E,g)))),C)break;p=p.return}0<v.length&&(d=new y(d,_,null,n,h),f.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",d&&n!==hu&&(_=n.relatedTarget||n.fromElement)&&(On(_)||_[Kt]))break e;if((y||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,y?(_=n.relatedTarget||n.toElement,y=c,_=_?On(_):null,_!==null&&(C=er(_),_!==C||_.tag!==5&&_.tag!==6)&&(_=null)):(y=null,_=c),y!==_)){if(v=Pf,E="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(v=Vf,E="onPointerLeave",m="onPointerEnter",p="pointer"),C=y==null?d:dr(y),g=_==null?d:dr(_),d=new v(E,p+"leave",y,n,h),d.target=C,d.relatedTarget=g,E=null,On(h)===c&&(v=new v(m,p+"enter",_,n,h),v.target=g,v.relatedTarget=C,E=v),C=E,y&&_)t:{for(v=y,m=_,p=0,g=v;g;g=ir(g))p++;for(g=0,E=m;E;E=ir(E))g++;for(;0<p-g;)v=ir(v),p--;for(;0<g-p;)m=ir(m),g--;for(;p--;){if(v===m||m!==null&&v===m.alternate)break t;v=ir(v),m=ir(m)}v=null}else v=null;y!==null&&Bf(f,d,y,v,!1),_!==null&&C!==null&&Bf(f,C,_,v,!0)}}e:{if(d=c?dr(c):window,y=d.nodeName&&d.nodeName.toLowerCase(),y==="select"||y==="input"&&d.type==="file")var A=$0;else if(xf(d))if(vm)A=j0;else{A=z0;var R=U0}else(y=d.nodeName)&&y.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(A=B0);if(A&&(A=A(t,c))){_m(f,A,n,h);break e}R&&R(t,d,c),t==="focusout"&&(R=d._wrapperState)&&R.controlled&&d.type==="number"&&ou(d,"number",d.value)}switch(R=c?dr(c):window,t){case"focusin":(xf(R)||R.contentEditable==="true")&&(hr=R,_u=c,Pi=null);break;case"focusout":Pi=_u=hr=null;break;case"mousedown":vu=!0;break;case"contextmenu":case"mouseup":case"dragend":vu=!1,$f(f,n,h);break;case"selectionchange":if(K0)break;case"keydown":case"keyup":$f(f,n,h)}var V;if(Uc)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else cr?gm(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(mm&&n.locale!=="ko"&&(cr||N!=="onCompositionStart"?N==="onCompositionEnd"&&cr&&(V=pm()):(sn=h,Lc="value"in sn?sn.value:sn.textContent,cr=!0)),R=Fo(c,N),0<R.length&&(N=new kf(N,t,null,n,h),f.push({event:N,listeners:R}),V?N.data=V:(V=ym(n),V!==null&&(N.data=V)))),(V=x0?M0(t,n):O0(t,n))&&(c=Fo(c,"onBeforeInput"),0<c.length&&(h=new kf("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=V))}km(f,e)})}function Qi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Fo(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=zi(t,n),o!=null&&r.unshift(Qi(t,o,s)),o=zi(t,e),o!=null&&r.push(Qi(t,o,s))),t=t.return}return r}function ir(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Bf(t,e,n,r,s){for(var o=e._reactName,a=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,s?(u=zi(n,o),u!=null&&a.unshift(Qi(n,u,l))):s||(u=zi(n,o),u!=null&&a.push(Qi(n,u,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var b0=/\r\n?/g,X0=/\u0000|\uFFFD/g;function jf(t){return(typeof t=="string"?t:""+t).replace(b0,`
`).replace(X0,"")}function Xs(t,e,n){if(e=jf(e),jf(t)!==e&&n)throw Error(T(425))}function $o(){}var Eu=null,wu=null;function Tu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Iu=typeof setTimeout=="function"?setTimeout:void 0,Y0=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,J0=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(t){return Hf.resolve(null).then(t).catch(Z0)}:Iu;function Z0(t){setTimeout(function(){throw t})}function Cl(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Hi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Hi(e)}function hn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Wf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Xr=Math.random().toString(36).slice(2),Pt="__reactFiber$"+Xr,Gi="__reactProps$"+Xr,Kt="__reactContainer$"+Xr,Su="__reactEvents$"+Xr,e1="__reactListeners$"+Xr,t1="__reactHandles$"+Xr;function On(t){var e=t[Pt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Kt]||n[Pt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Wf(t);t!==null;){if(n=t[Pt])return n;t=Wf(t)}return e}t=n,n=t.parentNode}return null}function ws(t){return t=t[Pt]||t[Kt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function dr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(T(33))}function Ia(t){return t[Gi]||null}var Au=[],pr=-1;function Cn(t){return{current:t}}function Z(t){0>pr||(t.current=Au[pr],Au[pr]=null,pr--)}function X(t,e){pr++,Au[pr]=t.current,t.current=e}var wn={},je=Cn(wn),Ye=Cn(!1),Wn=wn;function Mr(t,e){var n=t.type.contextTypes;if(!n)return wn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Je(t){return t=t.childContextTypes,t!=null}function Uo(){Z(Ye),Z(je)}function Kf(t,e,n){if(je.current!==wn)throw Error(T(168));X(je,e),X(Ye,n)}function Dm(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(T(108,Uv(t)||"Unknown",s));return oe({},n,r)}function zo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||wn,Wn=je.current,X(je,t),X(Ye,Ye.current),!0}function qf(t,e,n){var r=t.stateNode;if(!r)throw Error(T(169));n?(t=Dm(t,e,Wn),r.__reactInternalMemoizedMergedChildContext=t,Z(Ye),Z(je),X(je,t)):Z(Ye),X(Ye,n)}var $t=null,Sa=!1,Rl=!1;function Nm(t){$t===null?$t=[t]:$t.push(t)}function n1(t){Sa=!0,Nm(t)}function Rn(){if(!Rl&&$t!==null){Rl=!0;var t=0,e=G;try{var n=$t;for(G=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}$t=null,Sa=!1}catch(s){throw $t!==null&&($t=$t.slice(t+1)),rm(Nc,Rn),s}finally{G=e,Rl=!1}}return null}var mr=[],gr=0,Bo=null,jo=0,at=[],lt=0,Kn=null,Ut=1,zt="";function Nn(t,e){mr[gr++]=jo,mr[gr++]=Bo,Bo=t,jo=e}function xm(t,e,n){at[lt++]=Ut,at[lt++]=zt,at[lt++]=Kn,Kn=t;var r=Ut;t=zt;var s=32-wt(r)-1;r&=~(1<<s),n+=1;var o=32-wt(e)+s;if(30<o){var a=s-s%5;o=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Ut=1<<32-wt(e)+s|n<<s|r,zt=o+t}else Ut=1<<o|n<<s|r,zt=t}function Bc(t){t.return!==null&&(Nn(t,1),xm(t,1,0))}function jc(t){for(;t===Bo;)Bo=mr[--gr],mr[gr]=null,jo=mr[--gr],mr[gr]=null;for(;t===Kn;)Kn=at[--lt],at[lt]=null,zt=at[--lt],at[lt]=null,Ut=at[--lt],at[lt]=null}var nt=null,tt=null,te=!1,vt=null;function Mm(t,e){var n=ht(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Qf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,nt=t,tt=hn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,nt=t,tt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Kn!==null?{id:Ut,overflow:zt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ht(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,nt=t,tt=null,!0):!1;default:return!1}}function Cu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ru(t){if(te){var e=tt;if(e){var n=e;if(!Qf(t,e)){if(Cu(t))throw Error(T(418));e=hn(n.nextSibling);var r=nt;e&&Qf(t,e)?Mm(r,n):(t.flags=t.flags&-4097|2,te=!1,nt=t)}}else{if(Cu(t))throw Error(T(418));t.flags=t.flags&-4097|2,te=!1,nt=t}}}function Gf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;nt=t}function Ys(t){if(t!==nt)return!1;if(!te)return Gf(t),te=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Tu(t.type,t.memoizedProps)),e&&(e=tt)){if(Cu(t))throw Om(),Error(T(418));for(;e;)Mm(t,e),e=hn(e.nextSibling)}if(Gf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(T(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){tt=hn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}tt=null}}else tt=nt?hn(t.stateNode.nextSibling):null;return!0}function Om(){for(var t=tt;t;)t=hn(t.nextSibling)}function Or(){tt=nt=null,te=!1}function Hc(t){vt===null?vt=[t]:vt.push(t)}var r1=Jt.ReactCurrentBatchConfig;function yt(t,e){if(t&&t.defaultProps){e=oe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Ho=Cn(null),Wo=null,yr=null,Wc=null;function Kc(){Wc=yr=Wo=null}function qc(t){var e=Ho.current;Z(Ho),t._currentValue=e}function Pu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ar(t,e){Wo=t,Wc=yr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Xe=!0),t.firstContext=null)}function dt(t){var e=t._currentValue;if(Wc!==t)if(t={context:t,memoizedValue:e,next:null},yr===null){if(Wo===null)throw Error(T(308));yr=t,Wo.dependencies={lanes:0,firstContext:t}}else yr=yr.next=t;return e}var Ln=null;function Qc(t){Ln===null?Ln=[t]:Ln.push(t)}function Lm(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Qc(e)):(n.next=s.next,s.next=n),e.interleaved=n,qt(t,r)}function qt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var tn=!1;function Gc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function jt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function fn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,K&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,qt(t,n)}return s=r.interleaved,s===null?(e.next=e,Qc(r)):(e.next=s.next,s.next=e),r.interleaved=e,qt(t,n)}function vo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,xc(t,n)}}function bf(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?s=o=e:o=o.next=e}else s=o=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ko(t,e,n,r){var s=t.updateQueue;tn=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,a===null?o=c:a.next=c,a=u;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=c:l.next=c,h.lastBaseUpdate=u))}if(o!==null){var f=s.baseState;a=0,h=c=u=null,l=o;do{var d=l.lane,y=l.eventTime;if((r&d)===d){h!==null&&(h=h.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=t,v=l;switch(d=e,y=n,v.tag){case 1:if(_=v.payload,typeof _=="function"){f=_.call(y,f,d);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=v.payload,d=typeof _=="function"?_.call(y,f,d):_,d==null)break e;f=oe({},f,d);break e;case 2:tn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,d=s.effects,d===null?s.effects=[l]:d.push(l))}else y={eventTime:y,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(c=h=y,u=f):h=h.next=y,a|=d;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;d=l,l=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(1);if(h===null&&(u=f),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);Qn|=a,t.lanes=a,t.memoizedState=f}}function Xf(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(T(191,s));s.call(r)}}}var $m=new Lp.Component().refs;function ku(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:oe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Aa={isMounted:function(t){return(t=t._reactInternals)?er(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=qe(),s=pn(t),o=jt(r,s);o.payload=e,n!=null&&(o.callback=n),e=fn(t,o,s),e!==null&&(Tt(e,t,s,r),vo(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=qe(),s=pn(t),o=jt(r,s);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=fn(t,o,s),e!==null&&(Tt(e,t,s,r),vo(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=qe(),r=pn(t),s=jt(n,r);s.tag=2,e!=null&&(s.callback=e),e=fn(t,s,r),e!==null&&(Tt(e,t,r,n),vo(e,t,r))}};function Yf(t,e,n,r,s,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Ki(n,r)||!Ki(s,o):!0}function Um(t,e,n){var r=!1,s=wn,o=e.contextType;return typeof o=="object"&&o!==null?o=dt(o):(s=Je(e)?Wn:je.current,r=e.contextTypes,o=(r=r!=null)?Mr(t,s):wn),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Aa,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function Jf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Aa.enqueueReplaceState(e,e.state,null)}function Vu(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=$m,Gc(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=dt(o):(o=Je(e)?Wn:je.current,s.context=Mr(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(ku(t,e,o,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Aa.enqueueReplaceState(s,s.state,null),Ko(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function hi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var r=n.stateNode}if(!r)throw Error(T(147,t));var s=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var l=s.refs;l===$m&&(l=s.refs={}),a===null?delete l[o]:l[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,t))}return t}function Js(t,e){throw t=Object.prototype.toString.call(e),Error(T(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Zf(t){var e=t._init;return e(t._payload)}function zm(t){function e(m,p){if(t){var g=m.deletions;g===null?(m.deletions=[p],m.flags|=16):g.push(p)}}function n(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=mn(m,p),m.index=0,m.sibling=null,m}function o(m,p,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<p?(m.flags|=2,p):g):(m.flags|=2,p)):(m.flags|=1048576,p)}function a(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,p,g,E){return p===null||p.tag!==6?(p=Ml(g,m.mode,E),p.return=m,p):(p=s(p,g),p.return=m,p)}function u(m,p,g,E){var A=g.type;return A===ur?h(m,p,g.props.children,E,g.key):p!==null&&(p.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===en&&Zf(A)===p.type)?(E=s(p,g.props),E.ref=hi(m,p,g),E.return=m,E):(E=Ao(g.type,g.key,g.props,null,m.mode,E),E.ref=hi(m,p,g),E.return=m,E)}function c(m,p,g,E){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=Ol(g,m.mode,E),p.return=m,p):(p=s(p,g.children||[]),p.return=m,p)}function h(m,p,g,E,A){return p===null||p.tag!==7?(p=jn(g,m.mode,E,A),p.return=m,p):(p=s(p,g),p.return=m,p)}function f(m,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Ml(""+p,m.mode,g),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Bs:return g=Ao(p.type,p.key,p.props,null,m.mode,g),g.ref=hi(m,null,p),g.return=m,g;case lr:return p=Ol(p,m.mode,g),p.return=m,p;case en:var E=p._init;return f(m,E(p._payload),g)}if(yi(p)||oi(p))return p=jn(p,m.mode,g,null),p.return=m,p;Js(m,p)}return null}function d(m,p,g,E){var A=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return A!==null?null:l(m,p,""+g,E);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Bs:return g.key===A?u(m,p,g,E):null;case lr:return g.key===A?c(m,p,g,E):null;case en:return A=g._init,d(m,p,A(g._payload),E)}if(yi(g)||oi(g))return A!==null?null:h(m,p,g,E,null);Js(m,g)}return null}function y(m,p,g,E,A){if(typeof E=="string"&&E!==""||typeof E=="number")return m=m.get(g)||null,l(p,m,""+E,A);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Bs:return m=m.get(E.key===null?g:E.key)||null,u(p,m,E,A);case lr:return m=m.get(E.key===null?g:E.key)||null,c(p,m,E,A);case en:var R=E._init;return y(m,p,g,R(E._payload),A)}if(yi(E)||oi(E))return m=m.get(g)||null,h(p,m,E,A,null);Js(p,E)}return null}function _(m,p,g,E){for(var A=null,R=null,V=p,N=p=0,re=null;V!==null&&N<g.length;N++){V.index>N?(re=V,V=null):re=V.sibling;var z=d(m,V,g[N],E);if(z===null){V===null&&(V=re);break}t&&V&&z.alternate===null&&e(m,V),p=o(z,p,N),R===null?A=z:R.sibling=z,R=z,V=re}if(N===g.length)return n(m,V),te&&Nn(m,N),A;if(V===null){for(;N<g.length;N++)V=f(m,g[N],E),V!==null&&(p=o(V,p,N),R===null?A=V:R.sibling=V,R=V);return te&&Nn(m,N),A}for(V=r(m,V);N<g.length;N++)re=y(V,m,N,g[N],E),re!==null&&(t&&re.alternate!==null&&V.delete(re.key===null?N:re.key),p=o(re,p,N),R===null?A=re:R.sibling=re,R=re);return t&&V.forEach(function(mt){return e(m,mt)}),te&&Nn(m,N),A}function v(m,p,g,E){var A=oi(g);if(typeof A!="function")throw Error(T(150));if(g=A.call(g),g==null)throw Error(T(151));for(var R=A=null,V=p,N=p=0,re=null,z=g.next();V!==null&&!z.done;N++,z=g.next()){V.index>N?(re=V,V=null):re=V.sibling;var mt=d(m,V,z.value,E);if(mt===null){V===null&&(V=re);break}t&&V&&mt.alternate===null&&e(m,V),p=o(mt,p,N),R===null?A=mt:R.sibling=mt,R=mt,V=re}if(z.done)return n(m,V),te&&Nn(m,N),A;if(V===null){for(;!z.done;N++,z=g.next())z=f(m,z.value,E),z!==null&&(p=o(z,p,N),R===null?A=z:R.sibling=z,R=z);return te&&Nn(m,N),A}for(V=r(m,V);!z.done;N++,z=g.next())z=y(V,m,N,z.value,E),z!==null&&(t&&z.alternate!==null&&V.delete(z.key===null?N:z.key),p=o(z,p,N),R===null?A=z:R.sibling=z,R=z);return t&&V.forEach(function(ii){return e(m,ii)}),te&&Nn(m,N),A}function C(m,p,g,E){if(typeof g=="object"&&g!==null&&g.type===ur&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Bs:e:{for(var A=g.key,R=p;R!==null;){if(R.key===A){if(A=g.type,A===ur){if(R.tag===7){n(m,R.sibling),p=s(R,g.props.children),p.return=m,m=p;break e}}else if(R.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===en&&Zf(A)===R.type){n(m,R.sibling),p=s(R,g.props),p.ref=hi(m,R,g),p.return=m,m=p;break e}n(m,R);break}else e(m,R);R=R.sibling}g.type===ur?(p=jn(g.props.children,m.mode,E,g.key),p.return=m,m=p):(E=Ao(g.type,g.key,g.props,null,m.mode,E),E.ref=hi(m,p,g),E.return=m,m=E)}return a(m);case lr:e:{for(R=g.key;p!==null;){if(p.key===R)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(m,p.sibling),p=s(p,g.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else e(m,p);p=p.sibling}p=Ol(g,m.mode,E),p.return=m,m=p}return a(m);case en:return R=g._init,C(m,p,R(g._payload),E)}if(yi(g))return _(m,p,g,E);if(oi(g))return v(m,p,g,E);Js(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(m,p.sibling),p=s(p,g),p.return=m,m=p):(n(m,p),p=Ml(g,m.mode,E),p.return=m,m=p),a(m)):n(m,p)}return C}var Lr=zm(!0),Bm=zm(!1),Ts={},xt=Cn(Ts),bi=Cn(Ts),Xi=Cn(Ts);function Fn(t){if(t===Ts)throw Error(T(174));return t}function bc(t,e){switch(X(Xi,e),X(bi,t),X(xt,Ts),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=lu(e,t)}Z(xt),X(xt,e)}function Fr(){Z(xt),Z(bi),Z(Xi)}function jm(t){Fn(Xi.current);var e=Fn(xt.current),n=lu(e,t.type);e!==n&&(X(bi,t),X(xt,n))}function Xc(t){bi.current===t&&(Z(xt),Z(bi))}var ie=Cn(0);function qo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Pl=[];function Yc(){for(var t=0;t<Pl.length;t++)Pl[t]._workInProgressVersionPrimary=null;Pl.length=0}var Eo=Jt.ReactCurrentDispatcher,kl=Jt.ReactCurrentBatchConfig,qn=0,se=null,me=null,we=null,Qo=!1,ki=!1,Yi=0,i1=0;function Ne(){throw Error(T(321))}function Jc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!St(t[n],e[n]))return!1;return!0}function Zc(t,e,n,r,s,o){if(qn=o,se=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Eo.current=t===null||t.memoizedState===null?l1:u1,t=n(r,s),ki){o=0;do{if(ki=!1,Yi=0,25<=o)throw Error(T(301));o+=1,we=me=null,e.updateQueue=null,Eo.current=c1,t=n(r,s)}while(ki)}if(Eo.current=Go,e=me!==null&&me.next!==null,qn=0,we=me=se=null,Qo=!1,e)throw Error(T(300));return t}function eh(){var t=Yi!==0;return Yi=0,t}function Rt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?se.memoizedState=we=t:we=we.next=t,we}function pt(){if(me===null){var t=se.alternate;t=t!==null?t.memoizedState:null}else t=me.next;var e=we===null?se.memoizedState:we.next;if(e!==null)we=e,me=t;else{if(t===null)throw Error(T(310));me=t,t={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},we===null?se.memoizedState=we=t:we=we.next=t}return we}function Ji(t,e){return typeof e=="function"?e(t):e}function Vl(t){var e=pt(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var r=me,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var l=a=null,u=null,c=o;do{var h=c.lane;if((qn&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=f,a=r):u=u.next=f,se.lanes|=h,Qn|=h}c=c.next}while(c!==null&&c!==o);u===null?a=r:u.next=l,St(r,e.memoizedState)||(Xe=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do o=s.lane,se.lanes|=o,Qn|=o,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Dl(t){var e=pt(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,o=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do o=t(o,a.action),a=a.next;while(a!==s);St(o,e.memoizedState)||(Xe=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Hm(){}function Wm(t,e){var n=se,r=pt(),s=e(),o=!St(r.memoizedState,s);if(o&&(r.memoizedState=s,Xe=!0),r=r.queue,th(Qm.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||we!==null&&we.memoizedState.tag&1){if(n.flags|=2048,Zi(9,qm.bind(null,n,r,s,e),void 0,null),Te===null)throw Error(T(349));qn&30||Km(n,e,s)}return s}function Km(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=se.updateQueue,e===null?(e={lastEffect:null,stores:null},se.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function qm(t,e,n,r){e.value=n,e.getSnapshot=r,Gm(e)&&bm(t)}function Qm(t,e,n){return n(function(){Gm(e)&&bm(t)})}function Gm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!St(t,n)}catch{return!0}}function bm(t){var e=qt(t,1);e!==null&&Tt(e,t,1,-1)}function ed(t){var e=Rt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:t},e.queue=t,t=t.dispatch=a1.bind(null,se,t),[e.memoizedState,t]}function Zi(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=se.updateQueue,e===null?(e={lastEffect:null,stores:null},se.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Xm(){return pt().memoizedState}function wo(t,e,n,r){var s=Rt();se.flags|=t,s.memoizedState=Zi(1|e,n,void 0,r===void 0?null:r)}function Ca(t,e,n,r){var s=pt();r=r===void 0?null:r;var o=void 0;if(me!==null){var a=me.memoizedState;if(o=a.destroy,r!==null&&Jc(r,a.deps)){s.memoizedState=Zi(e,n,o,r);return}}se.flags|=t,s.memoizedState=Zi(1|e,n,o,r)}function td(t,e){return wo(8390656,8,t,e)}function th(t,e){return Ca(2048,8,t,e)}function Ym(t,e){return Ca(4,2,t,e)}function Jm(t,e){return Ca(4,4,t,e)}function Zm(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function eg(t,e,n){return n=n!=null?n.concat([t]):null,Ca(4,4,Zm.bind(null,e,t),n)}function nh(){}function tg(t,e){var n=pt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Jc(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ng(t,e){var n=pt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Jc(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function rg(t,e,n){return qn&21?(St(n,e)||(n=om(),se.lanes|=n,Qn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Xe=!0),t.memoizedState=n)}function s1(t,e){var n=G;G=n!==0&&4>n?n:4,t(!0);var r=kl.transition;kl.transition={};try{t(!1),e()}finally{G=n,kl.transition=r}}function ig(){return pt().memoizedState}function o1(t,e,n){var r=pn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},sg(t))og(e,n);else if(n=Lm(t,e,n,r),n!==null){var s=qe();Tt(n,t,r,s),ag(n,e,r)}}function a1(t,e,n){var r=pn(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(sg(t))og(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,l=o(a,n);if(s.hasEagerState=!0,s.eagerState=l,St(l,a)){var u=e.interleaved;u===null?(s.next=s,Qc(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=Lm(t,e,s,r),n!==null&&(s=qe(),Tt(n,t,r,s),ag(n,e,r))}}function sg(t){var e=t.alternate;return t===se||e!==null&&e===se}function og(t,e){ki=Qo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ag(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,xc(t,n)}}var Go={readContext:dt,useCallback:Ne,useContext:Ne,useEffect:Ne,useImperativeHandle:Ne,useInsertionEffect:Ne,useLayoutEffect:Ne,useMemo:Ne,useReducer:Ne,useRef:Ne,useState:Ne,useDebugValue:Ne,useDeferredValue:Ne,useTransition:Ne,useMutableSource:Ne,useSyncExternalStore:Ne,useId:Ne,unstable_isNewReconciler:!1},l1={readContext:dt,useCallback:function(t,e){return Rt().memoizedState=[t,e===void 0?null:e],t},useContext:dt,useEffect:td,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wo(4194308,4,Zm.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wo(4194308,4,t,e)},useInsertionEffect:function(t,e){return wo(4,2,t,e)},useMemo:function(t,e){var n=Rt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Rt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=o1.bind(null,se,t),[r.memoizedState,t]},useRef:function(t){var e=Rt();return t={current:t},e.memoizedState=t},useState:ed,useDebugValue:nh,useDeferredValue:function(t){return Rt().memoizedState=t},useTransition:function(){var t=ed(!1),e=t[0];return t=s1.bind(null,t[1]),Rt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=se,s=Rt();if(te){if(n===void 0)throw Error(T(407));n=n()}else{if(n=e(),Te===null)throw Error(T(349));qn&30||Km(r,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,td(Qm.bind(null,r,o,t),[t]),r.flags|=2048,Zi(9,qm.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Rt(),e=Te.identifierPrefix;if(te){var n=zt,r=Ut;n=(r&~(1<<32-wt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Yi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=i1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},u1={readContext:dt,useCallback:tg,useContext:dt,useEffect:th,useImperativeHandle:eg,useInsertionEffect:Ym,useLayoutEffect:Jm,useMemo:ng,useReducer:Vl,useRef:Xm,useState:function(){return Vl(Ji)},useDebugValue:nh,useDeferredValue:function(t){var e=pt();return rg(e,me.memoizedState,t)},useTransition:function(){var t=Vl(Ji)[0],e=pt().memoizedState;return[t,e]},useMutableSource:Hm,useSyncExternalStore:Wm,useId:ig,unstable_isNewReconciler:!1},c1={readContext:dt,useCallback:tg,useContext:dt,useEffect:th,useImperativeHandle:eg,useInsertionEffect:Ym,useLayoutEffect:Jm,useMemo:ng,useReducer:Dl,useRef:Xm,useState:function(){return Dl(Ji)},useDebugValue:nh,useDeferredValue:function(t){var e=pt();return me===null?e.memoizedState=t:rg(e,me.memoizedState,t)},useTransition:function(){var t=Dl(Ji)[0],e=pt().memoizedState;return[t,e]},useMutableSource:Hm,useSyncExternalStore:Wm,useId:ig,unstable_isNewReconciler:!1};function $r(t,e){try{var n="",r=e;do n+=$v(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function Nl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Du(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var h1=typeof WeakMap=="function"?WeakMap:Map;function lg(t,e,n){n=jt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Xo||(Xo=!0,Bu=r),Du(t,e)},n}function ug(t,e,n){n=jt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Du(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Du(t,e),typeof r!="function"&&(dn===null?dn=new Set([this]):dn.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function nd(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new h1;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=A1.bind(null,t,e,n),e.then(t,t))}function rd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function id(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=jt(-1,1),e.tag=2,fn(n,e,1))),n.lanes|=1),t)}var f1=Jt.ReactCurrentOwner,Xe=!1;function We(t,e,n,r){e.child=t===null?Bm(e,null,n,r):Lr(e,t.child,n,r)}function sd(t,e,n,r,s){n=n.render;var o=e.ref;return Ar(e,s),r=Zc(t,e,n,r,o,s),n=eh(),t!==null&&!Xe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Qt(t,e,s)):(te&&n&&Bc(e),e.flags|=1,We(t,e,r,s),e.child)}function od(t,e,n,r,s){if(t===null){var o=n.type;return typeof o=="function"&&!ch(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,cg(t,e,o,r,s)):(t=Ao(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ki,n(a,r)&&t.ref===e.ref)return Qt(t,e,s)}return e.flags|=1,t=mn(o,r),t.ref=e.ref,t.return=e,e.child=t}function cg(t,e,n,r,s){if(t!==null){var o=t.memoizedProps;if(Ki(o,r)&&t.ref===e.ref)if(Xe=!1,e.pendingProps=r=o,(t.lanes&s)!==0)t.flags&131072&&(Xe=!0);else return e.lanes=t.lanes,Qt(t,e,s)}return Nu(t,e,n,r,s)}function hg(t,e,n){var r=e.pendingProps,s=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},X(vr,et),et|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,X(vr,et),et|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,X(vr,et),et|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,X(vr,et),et|=r;return We(t,e,s,n),e.child}function fg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Nu(t,e,n,r,s){var o=Je(n)?Wn:je.current;return o=Mr(e,o),Ar(e,s),n=Zc(t,e,n,r,o,s),r=eh(),t!==null&&!Xe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Qt(t,e,s)):(te&&r&&Bc(e),e.flags|=1,We(t,e,n,s),e.child)}function ad(t,e,n,r,s){if(Je(n)){var o=!0;zo(e)}else o=!1;if(Ar(e,s),e.stateNode===null)To(t,e),Um(e,n,r),Vu(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var u=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=dt(c):(c=Je(n)?Wn:je.current,c=Mr(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||u!==c)&&Jf(e,a,r,c),tn=!1;var d=e.memoizedState;a.state=d,Ko(e,r,a,s),u=e.memoizedState,l!==r||d!==u||Ye.current||tn?(typeof h=="function"&&(ku(e,n,h,r),u=e.memoizedState),(l=tn||Yf(e,n,l,r,d,u,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=c,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Fm(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:yt(e.type,l),a.props=c,f=e.pendingProps,d=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=dt(u):(u=Je(n)?Wn:je.current,u=Mr(e,u));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||d!==u)&&Jf(e,a,r,u),tn=!1,d=e.memoizedState,a.state=d,Ko(e,r,a,s);var _=e.memoizedState;l!==f||d!==_||Ye.current||tn?(typeof y=="function"&&(ku(e,n,y,r),_=e.memoizedState),(c=tn||Yf(e,n,c,r,d,_,u)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,_,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,_,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),a.props=r,a.state=_,a.context=u,r=c):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return xu(t,e,n,r,o,s)}function xu(t,e,n,r,s,o){fg(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&qf(e,n,!1),Qt(t,e,o);r=e.stateNode,f1.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Lr(e,t.child,null,o),e.child=Lr(e,null,l,o)):We(t,e,l,o),e.memoizedState=r.state,s&&qf(e,n,!0),e.child}function dg(t){var e=t.stateNode;e.pendingContext?Kf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Kf(t,e.context,!1),bc(t,e.containerInfo)}function ld(t,e,n,r,s){return Or(),Hc(s),e.flags|=256,We(t,e,n,r),e.child}var Mu={dehydrated:null,treeContext:null,retryLane:0};function Ou(t){return{baseLanes:t,cachePool:null,transitions:null}}function pg(t,e,n){var r=e.pendingProps,s=ie.current,o=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),X(ie,s&1),t===null)return Ru(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=ka(a,r,0,null),t=jn(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Ou(n),e.memoizedState=Mu,t):rh(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return d1(t,e,a,r,l,s,n);if(o){o=r.fallback,a=e.mode,s=t.child,l=s.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=mn(s,u),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=mn(l,o):(o=jn(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?Ou(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=Mu,r}return o=t.child,t=o.sibling,r=mn(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function rh(t,e){return e=ka({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Zs(t,e,n,r){return r!==null&&Hc(r),Lr(e,t.child,null,n),t=rh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function d1(t,e,n,r,s,o,a){if(n)return e.flags&256?(e.flags&=-257,r=Nl(Error(T(422))),Zs(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,s=e.mode,r=ka({mode:"visible",children:r.children},s,0,null),o=jn(o,s,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Lr(e,t.child,null,a),e.child.memoizedState=Ou(a),e.memoizedState=Mu,o);if(!(e.mode&1))return Zs(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(T(419)),r=Nl(o,r,void 0),Zs(t,e,a,r)}if(l=(a&t.childLanes)!==0,Xe||l){if(r=Te,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,qt(t,s),Tt(r,t,s,-1))}return uh(),r=Nl(Error(T(421))),Zs(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=C1.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,tt=hn(s.nextSibling),nt=e,te=!0,vt=null,t!==null&&(at[lt++]=Ut,at[lt++]=zt,at[lt++]=Kn,Ut=t.id,zt=t.overflow,Kn=e),e=rh(e,r.children),e.flags|=4096,e)}function ud(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Pu(t.return,e,n)}function xl(t,e,n,r,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function mg(t,e,n){var r=e.pendingProps,s=r.revealOrder,o=r.tail;if(We(t,e,r.children,n),r=ie.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ud(t,n,e);else if(t.tag===19)ud(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(X(ie,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&qo(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),xl(e,!1,s,n,o);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&qo(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}xl(e,!0,n,null,o);break;case"together":xl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function To(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Qt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Qn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(T(153));if(e.child!==null){for(t=e.child,n=mn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=mn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function p1(t,e,n){switch(e.tag){case 3:dg(e),Or();break;case 5:jm(e);break;case 1:Je(e.type)&&zo(e);break;case 4:bc(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;X(Ho,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(X(ie,ie.current&1),e.flags|=128,null):n&e.child.childLanes?pg(t,e,n):(X(ie,ie.current&1),t=Qt(t,e,n),t!==null?t.sibling:null);X(ie,ie.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return mg(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),X(ie,ie.current),r)break;return null;case 22:case 23:return e.lanes=0,hg(t,e,n)}return Qt(t,e,n)}var gg,Lu,yg,_g;gg=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Lu=function(){};yg=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Fn(xt.current);var o=null;switch(n){case"input":s=iu(t,s),r=iu(t,r),o=[];break;case"select":s=oe({},s,{value:void 0}),r=oe({},r,{value:void 0}),o=[];break;case"textarea":s=au(t,s),r=au(t,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=$o)}uu(n,r);var a;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&($i.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(o=o||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&($i.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Y("scroll",t),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};_g=function(t,e,n,r){n!==r&&(e.flags|=4)};function fi(t,e){if(!te)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function xe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function m1(t,e,n){var r=e.pendingProps;switch(jc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xe(e),null;case 1:return Je(e.type)&&Uo(),xe(e),null;case 3:return r=e.stateNode,Fr(),Z(Ye),Z(je),Yc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ys(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,vt!==null&&(Wu(vt),vt=null))),Lu(t,e),xe(e),null;case 5:Xc(e);var s=Fn(Xi.current);if(n=e.type,t!==null&&e.stateNode!=null)yg(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(T(166));return xe(e),null}if(t=Fn(xt.current),Ys(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Pt]=e,r[Gi]=o,t=(e.mode&1)!==0,n){case"dialog":Y("cancel",r),Y("close",r);break;case"iframe":case"object":case"embed":Y("load",r);break;case"video":case"audio":for(s=0;s<vi.length;s++)Y(vi[s],r);break;case"source":Y("error",r);break;case"img":case"image":case"link":Y("error",r),Y("load",r);break;case"details":Y("toggle",r);break;case"input":_f(r,o),Y("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Y("invalid",r);break;case"textarea":Ef(r,o),Y("invalid",r)}uu(n,o),s=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Xs(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Xs(r.textContent,l,t),s=["children",""+l]):$i.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Y("scroll",r)}switch(n){case"input":js(r),vf(r,o,!0);break;case"textarea":js(r),wf(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=$o)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Kp(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Pt]=e,t[Gi]=r,gg(t,e,!1,!1),e.stateNode=t;e:{switch(a=cu(n,r),n){case"dialog":Y("cancel",t),Y("close",t),s=r;break;case"iframe":case"object":case"embed":Y("load",t),s=r;break;case"video":case"audio":for(s=0;s<vi.length;s++)Y(vi[s],t);s=r;break;case"source":Y("error",t),s=r;break;case"img":case"image":case"link":Y("error",t),Y("load",t),s=r;break;case"details":Y("toggle",t),s=r;break;case"input":_f(t,r),s=iu(t,r),Y("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=oe({},r,{value:void 0}),Y("invalid",t);break;case"textarea":Ef(t,r),s=au(t,r),Y("invalid",t);break;default:s=r}uu(n,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="style"?Gp(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&qp(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Ui(t,u):typeof u=="number"&&Ui(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&($i.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Y("scroll",t):u!=null&&Rc(t,o,u,a))}switch(n){case"input":js(t),vf(t,r,!1);break;case"textarea":js(t),wf(t);break;case"option":r.value!=null&&t.setAttribute("value",""+En(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?wr(t,!!r.multiple,o,!1):r.defaultValue!=null&&wr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=$o)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xe(e),null;case 6:if(t&&e.stateNode!=null)_g(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(T(166));if(n=Fn(Xi.current),Fn(xt.current),Ys(e)){if(r=e.stateNode,n=e.memoizedProps,r[Pt]=e,(o=r.nodeValue!==n)&&(t=nt,t!==null))switch(t.tag){case 3:Xs(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xs(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pt]=e,e.stateNode=r}return xe(e),null;case 13:if(Z(ie),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(te&&tt!==null&&e.mode&1&&!(e.flags&128))Om(),Or(),e.flags|=98560,o=!1;else if(o=Ys(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(T(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(T(317));o[Pt]=e}else Or(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xe(e),o=!1}else vt!==null&&(Wu(vt),vt=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ie.current&1?ye===0&&(ye=3):uh())),e.updateQueue!==null&&(e.flags|=4),xe(e),null);case 4:return Fr(),Lu(t,e),t===null&&qi(e.stateNode.containerInfo),xe(e),null;case 10:return qc(e.type._context),xe(e),null;case 17:return Je(e.type)&&Uo(),xe(e),null;case 19:if(Z(ie),o=e.memoizedState,o===null)return xe(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)fi(o,!1);else{if(ye!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=qo(t),a!==null){for(e.flags|=128,fi(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return X(ie,ie.current&1|2),e.child}t=t.sibling}o.tail!==null&&he()>Ur&&(e.flags|=128,r=!0,fi(o,!1),e.lanes=4194304)}else{if(!r)if(t=qo(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),fi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!te)return xe(e),null}else 2*he()-o.renderingStartTime>Ur&&n!==1073741824&&(e.flags|=128,r=!0,fi(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=he(),e.sibling=null,n=ie.current,X(ie,r?n&1|2:n&1),e):(xe(e),null);case 22:case 23:return lh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?et&1073741824&&(xe(e),e.subtreeFlags&6&&(e.flags|=8192)):xe(e),null;case 24:return null;case 25:return null}throw Error(T(156,e.tag))}function g1(t,e){switch(jc(e),e.tag){case 1:return Je(e.type)&&Uo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fr(),Z(Ye),Z(je),Yc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Xc(e),null;case 13:if(Z(ie),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(T(340));Or()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Z(ie),null;case 4:return Fr(),null;case 10:return qc(e.type._context),null;case 22:case 23:return lh(),null;case 24:return null;default:return null}}var eo=!1,Le=!1,y1=typeof WeakSet=="function"?WeakSet:Set,P=null;function _r(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){le(t,e,r)}else n.current=null}function Fu(t,e,n){try{n()}catch(r){le(t,e,r)}}var cd=!1;function _1(t,e){if(Eu=Oo,t=Tm(),zc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,c=0,h=0,f=t,d=null;t:for(;;){for(var y;f!==n||s!==0&&f.nodeType!==3||(l=a+s),f!==o||r!==0&&f.nodeType!==3||(u=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(y=f.firstChild)!==null;)d=f,f=y;for(;;){if(f===t)break t;if(d===n&&++c===s&&(l=a),d===o&&++h===r&&(u=a),(y=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=y}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(wu={focusedElem:t,selectionRange:n},Oo=!1,P=e;P!==null;)if(e=P,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,P=t;else for(;P!==null;){e=P;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var v=_.memoizedProps,C=_.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?v:yt(e.type,v),C);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(E){le(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,P=t;break}P=e.return}return _=cd,cd=!1,_}function Vi(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&Fu(e,n,o)}s=s.next}while(s!==r)}}function Ra(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function $u(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function vg(t){var e=t.alternate;e!==null&&(t.alternate=null,vg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Pt],delete e[Gi],delete e[Su],delete e[e1],delete e[t1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Eg(t){return t.tag===5||t.tag===3||t.tag===4}function hd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Eg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Uu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=$o));else if(r!==4&&(t=t.child,t!==null))for(Uu(t,e,n),t=t.sibling;t!==null;)Uu(t,e,n),t=t.sibling}function zu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(zu(t,e,n),t=t.sibling;t!==null;)zu(t,e,n),t=t.sibling}var Ae=null,_t=!1;function Zt(t,e,n){for(n=n.child;n!==null;)wg(t,e,n),n=n.sibling}function wg(t,e,n){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(va,n)}catch{}switch(n.tag){case 5:Le||_r(n,e);case 6:var r=Ae,s=_t;Ae=null,Zt(t,e,n),Ae=r,_t=s,Ae!==null&&(_t?(t=Ae,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ae.removeChild(n.stateNode));break;case 18:Ae!==null&&(_t?(t=Ae,n=n.stateNode,t.nodeType===8?Cl(t.parentNode,n):t.nodeType===1&&Cl(t,n),Hi(t)):Cl(Ae,n.stateNode));break;case 4:r=Ae,s=_t,Ae=n.stateNode.containerInfo,_t=!0,Zt(t,e,n),Ae=r,_t=s;break;case 0:case 11:case 14:case 15:if(!Le&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Fu(n,e,a),s=s.next}while(s!==r)}Zt(t,e,n);break;case 1:if(!Le&&(_r(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){le(n,e,l)}Zt(t,e,n);break;case 21:Zt(t,e,n);break;case 22:n.mode&1?(Le=(r=Le)||n.memoizedState!==null,Zt(t,e,n),Le=r):Zt(t,e,n);break;default:Zt(t,e,n)}}function fd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new y1),e.forEach(function(r){var s=R1.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function gt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Ae=l.stateNode,_t=!1;break e;case 3:Ae=l.stateNode.containerInfo,_t=!0;break e;case 4:Ae=l.stateNode.containerInfo,_t=!0;break e}l=l.return}if(Ae===null)throw Error(T(160));wg(o,a,s),Ae=null,_t=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){le(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Tg(e,t),e=e.sibling}function Tg(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gt(e,t),Ct(t),r&4){try{Vi(3,t,t.return),Ra(3,t)}catch(v){le(t,t.return,v)}try{Vi(5,t,t.return)}catch(v){le(t,t.return,v)}}break;case 1:gt(e,t),Ct(t),r&512&&n!==null&&_r(n,n.return);break;case 5:if(gt(e,t),Ct(t),r&512&&n!==null&&_r(n,n.return),t.flags&32){var s=t.stateNode;try{Ui(s,"")}catch(v){le(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Hp(s,o),cu(l,a);var c=cu(l,o);for(a=0;a<u.length;a+=2){var h=u[a],f=u[a+1];h==="style"?Gp(s,f):h==="dangerouslySetInnerHTML"?qp(s,f):h==="children"?Ui(s,f):Rc(s,h,f,c)}switch(l){case"input":su(s,o);break;case"textarea":Wp(s,o);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?wr(s,!!o.multiple,y,!1):d!==!!o.multiple&&(o.defaultValue!=null?wr(s,!!o.multiple,o.defaultValue,!0):wr(s,!!o.multiple,o.multiple?[]:"",!1))}s[Gi]=o}catch(v){le(t,t.return,v)}}break;case 6:if(gt(e,t),Ct(t),r&4){if(t.stateNode===null)throw Error(T(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(v){le(t,t.return,v)}}break;case 3:if(gt(e,t),Ct(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hi(e.containerInfo)}catch(v){le(t,t.return,v)}break;case 4:gt(e,t),Ct(t);break;case 13:gt(e,t),Ct(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(oh=he())),r&4&&fd(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Le=(c=Le)||h,gt(e,t),Le=c):gt(e,t),Ct(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(P=t,h=t.child;h!==null;){for(f=P=h;P!==null;){switch(d=P,y=d.child,d.tag){case 0:case 11:case 14:case 15:Vi(4,d,d.return);break;case 1:_r(d,d.return);var _=d.stateNode;if(typeof _.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(v){le(r,n,v)}}break;case 5:_r(d,d.return);break;case 22:if(d.memoizedState!==null){pd(f);continue}}y!==null?(y.return=d,P=y):pd(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,c?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,u=f.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Qp("display",a))}catch(v){le(t,t.return,v)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){le(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gt(e,t),Ct(t),r&4&&fd(t);break;case 21:break;default:gt(e,t),Ct(t)}}function Ct(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Eg(n)){var r=n;break e}n=n.return}throw Error(T(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ui(s,""),r.flags&=-33);var o=hd(t);zu(t,o,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=hd(t);Uu(t,l,a);break;default:throw Error(T(161))}}catch(u){le(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function v1(t,e,n){P=t,Ig(t)}function Ig(t,e,n){for(var r=(t.mode&1)!==0;P!==null;){var s=P,o=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||eo;if(!a){var l=s.alternate,u=l!==null&&l.memoizedState!==null||Le;l=eo;var c=Le;if(eo=a,(Le=u)&&!c)for(P=s;P!==null;)a=P,u=a.child,a.tag===22&&a.memoizedState!==null?md(s):u!==null?(u.return=a,P=u):md(s);for(;o!==null;)P=o,Ig(o),o=o.sibling;P=s,eo=l,Le=c}dd(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,P=o):dd(t)}}function dd(t){for(;P!==null;){var e=P;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Le||Ra(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Le)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:yt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Xf(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Xf(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Hi(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Le||e.flags&512&&$u(e)}catch(d){le(e,e.return,d)}}if(e===t){P=null;break}if(n=e.sibling,n!==null){n.return=e.return,P=n;break}P=e.return}}function pd(t){for(;P!==null;){var e=P;if(e===t){P=null;break}var n=e.sibling;if(n!==null){n.return=e.return,P=n;break}P=e.return}}function md(t){for(;P!==null;){var e=P;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ra(4,e)}catch(u){le(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){le(e,s,u)}}var o=e.return;try{$u(e)}catch(u){le(e,o,u)}break;case 5:var a=e.return;try{$u(e)}catch(u){le(e,a,u)}}}catch(u){le(e,e.return,u)}if(e===t){P=null;break}var l=e.sibling;if(l!==null){l.return=e.return,P=l;break}P=e.return}}var E1=Math.ceil,bo=Jt.ReactCurrentDispatcher,ih=Jt.ReactCurrentOwner,ft=Jt.ReactCurrentBatchConfig,K=0,Te=null,pe=null,ke=0,et=0,vr=Cn(0),ye=0,es=null,Qn=0,Pa=0,sh=0,Di=null,be=null,oh=0,Ur=1/0,Ft=null,Xo=!1,Bu=null,dn=null,to=!1,on=null,Yo=0,Ni=0,ju=null,Io=-1,So=0;function qe(){return K&6?he():Io!==-1?Io:Io=he()}function pn(t){return t.mode&1?K&2&&ke!==0?ke&-ke:r1.transition!==null?(So===0&&(So=om()),So):(t=G,t!==0||(t=window.event,t=t===void 0?16:dm(t.type)),t):1}function Tt(t,e,n,r){if(50<Ni)throw Ni=0,ju=null,Error(T(185));vs(t,n,r),(!(K&2)||t!==Te)&&(t===Te&&(!(K&2)&&(Pa|=n),ye===4&&rn(t,ke)),Ze(t,r),n===1&&K===0&&!(e.mode&1)&&(Ur=he()+500,Sa&&Rn()))}function Ze(t,e){var n=t.callbackNode;r0(t,e);var r=Mo(t,t===Te?ke:0);if(r===0)n!==null&&Sf(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Sf(n),e===1)t.tag===0?n1(gd.bind(null,t)):Nm(gd.bind(null,t)),J0(function(){!(K&6)&&Rn()}),n=null;else{switch(am(r)){case 1:n=Nc;break;case 4:n=im;break;case 16:n=xo;break;case 536870912:n=sm;break;default:n=xo}n=Dg(n,Sg.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Sg(t,e){if(Io=-1,So=0,K&6)throw Error(T(327));var n=t.callbackNode;if(Cr()&&t.callbackNode!==n)return null;var r=Mo(t,t===Te?ke:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Jo(t,r);else{e=r;var s=K;K|=2;var o=Cg();(Te!==t||ke!==e)&&(Ft=null,Ur=he()+500,Bn(t,e));do try{I1();break}catch(l){Ag(t,l)}while(1);Kc(),bo.current=o,K=s,pe!==null?e=0:(Te=null,ke=0,e=ye)}if(e!==0){if(e===2&&(s=mu(t),s!==0&&(r=s,e=Hu(t,s))),e===1)throw n=es,Bn(t,0),rn(t,r),Ze(t,he()),n;if(e===6)rn(t,r);else{if(s=t.current.alternate,!(r&30)&&!w1(s)&&(e=Jo(t,r),e===2&&(o=mu(t),o!==0&&(r=o,e=Hu(t,o))),e===1))throw n=es,Bn(t,0),rn(t,r),Ze(t,he()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(T(345));case 2:xn(t,be,Ft);break;case 3:if(rn(t,r),(r&130023424)===r&&(e=oh+500-he(),10<e)){if(Mo(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){qe(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Iu(xn.bind(null,t,be,Ft),e);break}xn(t,be,Ft);break;case 4:if(rn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-wt(r);o=1<<a,a=e[a],a>s&&(s=a),r&=~o}if(r=s,r=he()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*E1(r/1960))-r,10<r){t.timeoutHandle=Iu(xn.bind(null,t,be,Ft),r);break}xn(t,be,Ft);break;case 5:xn(t,be,Ft);break;default:throw Error(T(329))}}}return Ze(t,he()),t.callbackNode===n?Sg.bind(null,t):null}function Hu(t,e){var n=Di;return t.current.memoizedState.isDehydrated&&(Bn(t,e).flags|=256),t=Jo(t,e),t!==2&&(e=be,be=n,e!==null&&Wu(e)),t}function Wu(t){be===null?be=t:be.push.apply(be,t)}function w1(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!St(o(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function rn(t,e){for(e&=~sh,e&=~Pa,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-wt(e),r=1<<n;t[n]=-1,e&=~r}}function gd(t){if(K&6)throw Error(T(327));Cr();var e=Mo(t,0);if(!(e&1))return Ze(t,he()),null;var n=Jo(t,e);if(t.tag!==0&&n===2){var r=mu(t);r!==0&&(e=r,n=Hu(t,r))}if(n===1)throw n=es,Bn(t,0),rn(t,e),Ze(t,he()),n;if(n===6)throw Error(T(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xn(t,be,Ft),Ze(t,he()),null}function ah(t,e){var n=K;K|=1;try{return t(e)}finally{K=n,K===0&&(Ur=he()+500,Sa&&Rn())}}function Gn(t){on!==null&&on.tag===0&&!(K&6)&&Cr();var e=K;K|=1;var n=ft.transition,r=G;try{if(ft.transition=null,G=1,t)return t()}finally{G=r,ft.transition=n,K=e,!(K&6)&&Rn()}}function lh(){et=vr.current,Z(vr)}function Bn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Y0(n)),pe!==null)for(n=pe.return;n!==null;){var r=n;switch(jc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Uo();break;case 3:Fr(),Z(Ye),Z(je),Yc();break;case 5:Xc(r);break;case 4:Fr();break;case 13:Z(ie);break;case 19:Z(ie);break;case 10:qc(r.type._context);break;case 22:case 23:lh()}n=n.return}if(Te=t,pe=t=mn(t.current,null),ke=et=e,ye=0,es=null,sh=Pa=Qn=0,be=Di=null,Ln!==null){for(e=0;e<Ln.length;e++)if(n=Ln[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=s,r.next=a}n.pending=r}Ln=null}return t}function Ag(t,e){do{var n=pe;try{if(Kc(),Eo.current=Go,Qo){for(var r=se.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Qo=!1}if(qn=0,we=me=se=null,ki=!1,Yi=0,ih.current=null,n===null||n.return===null){ye=1,es=e,pe=null;break}e:{var o=t,a=n.return,l=n,u=e;if(e=ke,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=rd(a);if(y!==null){y.flags&=-257,id(y,a,l,o,e),y.mode&1&&nd(o,c,e),e=y,u=c;var _=e.updateQueue;if(_===null){var v=new Set;v.add(u),e.updateQueue=v}else _.add(u);break e}else{if(!(e&1)){nd(o,c,e),uh();break e}u=Error(T(426))}}else if(te&&l.mode&1){var C=rd(a);if(C!==null){!(C.flags&65536)&&(C.flags|=256),id(C,a,l,o,e),Hc($r(u,l));break e}}o=u=$r(u,l),ye!==4&&(ye=2),Di===null?Di=[o]:Di.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var m=lg(o,u,e);bf(o,m);break e;case 1:l=u;var p=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(dn===null||!dn.has(g)))){o.flags|=65536,e&=-e,o.lanes|=e;var E=ug(o,l,e);bf(o,E);break e}}o=o.return}while(o!==null)}Pg(n)}catch(A){e=A,pe===n&&n!==null&&(pe=n=n.return);continue}break}while(1)}function Cg(){var t=bo.current;return bo.current=Go,t===null?Go:t}function uh(){(ye===0||ye===3||ye===2)&&(ye=4),Te===null||!(Qn&268435455)&&!(Pa&268435455)||rn(Te,ke)}function Jo(t,e){var n=K;K|=2;var r=Cg();(Te!==t||ke!==e)&&(Ft=null,Bn(t,e));do try{T1();break}catch(s){Ag(t,s)}while(1);if(Kc(),K=n,bo.current=r,pe!==null)throw Error(T(261));return Te=null,ke=0,ye}function T1(){for(;pe!==null;)Rg(pe)}function I1(){for(;pe!==null&&!Gv();)Rg(pe)}function Rg(t){var e=Vg(t.alternate,t,et);t.memoizedProps=t.pendingProps,e===null?Pg(t):pe=e,ih.current=null}function Pg(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=g1(n,e),n!==null){n.flags&=32767,pe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ye=6,pe=null;return}}else if(n=m1(n,e,et),n!==null){pe=n;return}if(e=e.sibling,e!==null){pe=e;return}pe=e=t}while(e!==null);ye===0&&(ye=5)}function xn(t,e,n){var r=G,s=ft.transition;try{ft.transition=null,G=1,S1(t,e,n,r)}finally{ft.transition=s,G=r}return null}function S1(t,e,n,r){do Cr();while(on!==null);if(K&6)throw Error(T(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(T(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(i0(t,o),t===Te&&(pe=Te=null,ke=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||to||(to=!0,Dg(xo,function(){return Cr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=ft.transition,ft.transition=null;var a=G;G=1;var l=K;K|=4,ih.current=null,_1(t,n),Tg(n,t),W0(wu),Oo=!!Eu,wu=Eu=null,t.current=n,v1(n),bv(),K=l,G=a,ft.transition=o}else t.current=n;if(to&&(to=!1,on=t,Yo=s),o=t.pendingLanes,o===0&&(dn=null),Jv(n.stateNode),Ze(t,he()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Xo)throw Xo=!1,t=Bu,Bu=null,t;return Yo&1&&t.tag!==0&&Cr(),o=t.pendingLanes,o&1?t===ju?Ni++:(Ni=0,ju=t):Ni=0,Rn(),null}function Cr(){if(on!==null){var t=am(Yo),e=ft.transition,n=G;try{if(ft.transition=null,G=16>t?16:t,on===null)var r=!1;else{if(t=on,on=null,Yo=0,K&6)throw Error(T(331));var s=K;for(K|=4,P=t.current;P!==null;){var o=P,a=o.child;if(P.flags&16){var l=o.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(P=c;P!==null;){var h=P;switch(h.tag){case 0:case 11:case 15:Vi(8,h,o)}var f=h.child;if(f!==null)f.return=h,P=f;else for(;P!==null;){h=P;var d=h.sibling,y=h.return;if(vg(h),h===c){P=null;break}if(d!==null){d.return=y,P=d;break}P=y}}}var _=o.alternate;if(_!==null){var v=_.child;if(v!==null){_.child=null;do{var C=v.sibling;v.sibling=null,v=C}while(v!==null)}}P=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,P=a;else e:for(;P!==null;){if(o=P,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Vi(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,P=m;break e}P=o.return}}var p=t.current;for(P=p;P!==null;){a=P;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,P=g;else e:for(a=p;P!==null;){if(l=P,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ra(9,l)}}catch(A){le(l,l.return,A)}if(l===a){P=null;break e}var E=l.sibling;if(E!==null){E.return=l.return,P=E;break e}P=l.return}}if(K=s,Rn(),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(va,t)}catch{}r=!0}return r}finally{G=n,ft.transition=e}}return!1}function yd(t,e,n){e=$r(n,e),e=lg(t,e,1),t=fn(t,e,1),e=qe(),t!==null&&(vs(t,1,e),Ze(t,e))}function le(t,e,n){if(t.tag===3)yd(t,t,n);else for(;e!==null;){if(e.tag===3){yd(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(dn===null||!dn.has(r))){t=$r(n,t),t=ug(e,t,1),e=fn(e,t,1),t=qe(),e!==null&&(vs(e,1,t),Ze(e,t));break}}e=e.return}}function A1(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=qe(),t.pingedLanes|=t.suspendedLanes&n,Te===t&&(ke&n)===n&&(ye===4||ye===3&&(ke&130023424)===ke&&500>he()-oh?Bn(t,0):sh|=n),Ze(t,e)}function kg(t,e){e===0&&(t.mode&1?(e=Ks,Ks<<=1,!(Ks&130023424)&&(Ks=4194304)):e=1);var n=qe();t=qt(t,e),t!==null&&(vs(t,e,n),Ze(t,n))}function C1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),kg(t,n)}function R1(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(T(314))}r!==null&&r.delete(e),kg(t,n)}var Vg;Vg=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ye.current)Xe=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Xe=!1,p1(t,e,n);Xe=!!(t.flags&131072)}else Xe=!1,te&&e.flags&1048576&&xm(e,jo,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;To(t,e),t=e.pendingProps;var s=Mr(e,je.current);Ar(e,n),s=Zc(null,e,r,t,s,n);var o=eh();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Je(r)?(o=!0,zo(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Gc(e),s.updater=Aa,e.stateNode=s,s._reactInternals=e,Vu(e,r,t,n),e=xu(null,e,r,!0,o,n)):(e.tag=0,te&&o&&Bc(e),We(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(To(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=k1(r),t=yt(r,t),s){case 0:e=Nu(null,e,r,t,n);break e;case 1:e=ad(null,e,r,t,n);break e;case 11:e=sd(null,e,r,t,n);break e;case 14:e=od(null,e,r,yt(r.type,t),n);break e}throw Error(T(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:yt(r,s),Nu(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:yt(r,s),ad(t,e,r,s,n);case 3:e:{if(dg(e),t===null)throw Error(T(387));r=e.pendingProps,o=e.memoizedState,s=o.element,Fm(t,e),Ko(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=$r(Error(T(423)),e),e=ld(t,e,r,n,s);break e}else if(r!==s){s=$r(Error(T(424)),e),e=ld(t,e,r,n,s);break e}else for(tt=hn(e.stateNode.containerInfo.firstChild),nt=e,te=!0,vt=null,n=Bm(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Or(),r===s){e=Qt(t,e,n);break e}We(t,e,r,n)}e=e.child}return e;case 5:return jm(e),t===null&&Ru(e),r=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,a=s.children,Tu(r,s)?a=null:o!==null&&Tu(r,o)&&(e.flags|=32),fg(t,e),We(t,e,a,n),e.child;case 6:return t===null&&Ru(e),null;case 13:return pg(t,e,n);case 4:return bc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Lr(e,null,r,n):We(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:yt(r,s),sd(t,e,r,s,n);case 7:return We(t,e,e.pendingProps,n),e.child;case 8:return We(t,e,e.pendingProps.children,n),e.child;case 12:return We(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,o=e.memoizedProps,a=s.value,X(Ho,r._currentValue),r._currentValue=a,o!==null)if(St(o.value,a)){if(o.children===s.children&&!Ye.current){e=Qt(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=jt(-1,n&-n),u.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Pu(o.return,n,e),l.lanes|=n;break}u=u.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(T(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Pu(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}We(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ar(e,n),s=dt(s),r=r(s),e.flags|=1,We(t,e,r,n),e.child;case 14:return r=e.type,s=yt(r,e.pendingProps),s=yt(r.type,s),od(t,e,r,s,n);case 15:return cg(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:yt(r,s),To(t,e),e.tag=1,Je(r)?(t=!0,zo(e)):t=!1,Ar(e,n),Um(e,r,s),Vu(e,r,s,n),xu(null,e,r,!0,t,n);case 19:return mg(t,e,n);case 22:return hg(t,e,n)}throw Error(T(156,e.tag))};function Dg(t,e){return rm(t,e)}function P1(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ht(t,e,n,r){return new P1(t,e,n,r)}function ch(t){return t=t.prototype,!(!t||!t.isReactComponent)}function k1(t){if(typeof t=="function")return ch(t)?1:0;if(t!=null){if(t=t.$$typeof,t===kc)return 11;if(t===Vc)return 14}return 2}function mn(t,e){var n=t.alternate;return n===null?(n=ht(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ao(t,e,n,r,s,o){var a=2;if(r=t,typeof t=="function")ch(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ur:return jn(n.children,s,o,e);case Pc:a=8,s|=8;break;case eu:return t=ht(12,n,e,s|2),t.elementType=eu,t.lanes=o,t;case tu:return t=ht(13,n,e,s),t.elementType=tu,t.lanes=o,t;case nu:return t=ht(19,n,e,s),t.elementType=nu,t.lanes=o,t;case zp:return ka(n,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $p:a=10;break e;case Up:a=9;break e;case kc:a=11;break e;case Vc:a=14;break e;case en:a=16,r=null;break e}throw Error(T(130,t==null?t:typeof t,""))}return e=ht(a,n,e,s),e.elementType=t,e.type=r,e.lanes=o,e}function jn(t,e,n,r){return t=ht(7,t,r,e),t.lanes=n,t}function ka(t,e,n,r){return t=ht(22,t,r,e),t.elementType=zp,t.lanes=n,t.stateNode={isHidden:!1},t}function Ml(t,e,n){return t=ht(6,t,null,e),t.lanes=n,t}function Ol(t,e,n){return e=ht(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function V1(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ml(0),this.expirationTimes=ml(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ml(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function hh(t,e,n,r,s,o,a,l,u){return t=new V1(t,e,n,l,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=ht(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gc(o),t}function D1(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ng(t){if(!t)return wn;t=t._reactInternals;e:{if(er(t)!==t||t.tag!==1)throw Error(T(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Je(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(T(171))}if(t.tag===1){var n=t.type;if(Je(n))return Dm(t,n,e)}return e}function xg(t,e,n,r,s,o,a,l,u){return t=hh(n,r,!0,t,s,o,a,l,u),t.context=Ng(null),n=t.current,r=qe(),s=pn(n),o=jt(r,s),o.callback=e??null,fn(n,o,s),t.current.lanes=s,vs(t,s,r),Ze(t,r),t}function Va(t,e,n,r){var s=e.current,o=qe(),a=pn(s);return n=Ng(n),e.context===null?e.context=n:e.pendingContext=n,e=jt(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=fn(s,e,a),t!==null&&(Tt(t,s,a,o),vo(t,s,a)),a}function Zo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function _d(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function fh(t,e){_d(t,e),(t=t.alternate)&&_d(t,e)}function N1(){return null}var Mg=typeof reportError=="function"?reportError:function(t){console.error(t)};function dh(t){this._internalRoot=t}Da.prototype.render=dh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(T(409));Va(t,e,null,null)};Da.prototype.unmount=dh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Gn(function(){Va(null,t,null,null)}),e[Kt]=null}};function Da(t){this._internalRoot=t}Da.prototype.unstable_scheduleHydration=function(t){if(t){var e=cm();t={blockedOn:null,target:t,priority:e};for(var n=0;n<nn.length&&e!==0&&e<nn[n].priority;n++);nn.splice(n,0,t),n===0&&fm(t)}};function ph(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Na(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function vd(){}function x1(t,e,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var c=Zo(a);o.call(c)}}var a=xg(e,r,t,0,null,!1,!1,"",vd);return t._reactRootContainer=a,t[Kt]=a.current,qi(t.nodeType===8?t.parentNode:t),Gn(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=Zo(u);l.call(c)}}var u=hh(t,0,!1,null,null,!1,!1,"",vd);return t._reactRootContainer=u,t[Kt]=u.current,qi(t.nodeType===8?t.parentNode:t),Gn(function(){Va(e,u,n,r)}),u}function xa(t,e,n,r,s){var o=n._reactRootContainer;if(o){var a=o;if(typeof s=="function"){var l=s;s=function(){var u=Zo(a);l.call(u)}}Va(e,a,t,s)}else a=x1(n,e,t,s,r);return Zo(a)}lm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=_i(e.pendingLanes);n!==0&&(xc(e,n|1),Ze(e,he()),!(K&6)&&(Ur=he()+500,Rn()))}break;case 13:Gn(function(){var r=qt(t,1);if(r!==null){var s=qe();Tt(r,t,1,s)}}),fh(t,1)}};Mc=function(t){if(t.tag===13){var e=qt(t,134217728);if(e!==null){var n=qe();Tt(e,t,134217728,n)}fh(t,134217728)}};um=function(t){if(t.tag===13){var e=pn(t),n=qt(t,e);if(n!==null){var r=qe();Tt(n,t,e,r)}fh(t,e)}};cm=function(){return G};hm=function(t,e){var n=G;try{return G=t,e()}finally{G=n}};fu=function(t,e,n){switch(e){case"input":if(su(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Ia(r);if(!s)throw Error(T(90));jp(r),su(r,s)}}}break;case"textarea":Wp(t,n);break;case"select":e=n.value,e!=null&&wr(t,!!n.multiple,e,!1)}};Yp=ah;Jp=Gn;var M1={usingClientEntryPoint:!1,Events:[ws,dr,Ia,bp,Xp,ah]},di={findFiberByHostInstance:On,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},O1={bundleType:di.bundleType,version:di.version,rendererPackageName:di.rendererPackageName,rendererConfig:di.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=tm(t),t===null?null:t.stateNode},findFiberByHostInstance:di.findFiberByHostInstance||N1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var no=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!no.isDisabled&&no.supportsFiber)try{va=no.inject(O1),Nt=no}catch{}}st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M1;st.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ph(e))throw Error(T(200));return D1(t,e,null,n)};st.createRoot=function(t,e){if(!ph(t))throw Error(T(299));var n=!1,r="",s=Mg;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=hh(t,1,!1,null,null,n,!1,r,s),t[Kt]=e.current,qi(t.nodeType===8?t.parentNode:t),new dh(e)};st.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(T(188)):(t=Object.keys(t).join(","),Error(T(268,t)));return t=tm(e),t=t===null?null:t.stateNode,t};st.flushSync=function(t){return Gn(t)};st.hydrate=function(t,e,n){if(!Na(e))throw Error(T(200));return xa(null,t,e,!0,n)};st.hydrateRoot=function(t,e,n){if(!ph(t))throw Error(T(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",a=Mg;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=xg(e,null,t,1,n??null,s,!1,o,a),t[Kt]=e.current,qi(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Da(e)};st.render=function(t,e,n){if(!Na(e))throw Error(T(200));return xa(null,t,e,!1,n)};st.unmountComponentAtNode=function(t){if(!Na(t))throw Error(T(40));return t._reactRootContainer?(Gn(function(){xa(null,null,t,!1,function(){t._reactRootContainer=null,t[Kt]=null})}),!0):!1};st.unstable_batchedUpdates=ah;st.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Na(n))throw Error(T(200));if(t==null||t._reactInternals===void 0)throw Error(T(38));return xa(t,e,n,!1,r)};st.version="18.2.0-next-9e3b772b8-20220608";function Og(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Og)}catch(t){console.error(t)}}Og(),xp.exports=st;var L1=xp.exports,Ed=L1;Jl.createRoot=Ed.createRoot,Jl.hydrateRoot=Ed.hydrateRoot;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},F1=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],a=t[n++],l=t[n++],u=((s&7)<<18|(o&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|a&63)}}return e.join("")},Fg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],a=s+1<t.length,l=a?t[s+1]:0,u=s+2<t.length,c=u?t[s+2]:0,h=o>>2,f=(o&3)<<4|l>>4;let d=(l&15)<<2|c>>6,y=c&63;u||(y=64,a||(d=64)),r.push(n[h],n[f],n[d],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Lg(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):F1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||l==null||c==null||f==null)throw new $1;const d=o<<2|l>>4;if(r.push(d),c!==64){const y=l<<4&240|c>>2;if(r.push(y),f!==64){const _=c<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const U1=function(t){const e=Lg(t);return Fg.encodeByteArray(e,!0)},ea=function(t){return U1(t).replace(/\./g,"")},z1=function(t){try{return Fg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=()=>B1().__FIREBASE_DEFAULTS__,H1=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},W1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&z1(t[1]);return e&&JSON.parse(e)},$g=()=>{try{return j1()||H1()||W1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},K1=t=>{var e,n;return(n=(e=$g())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},q1=t=>{const e=K1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ug=()=>{var t;return(t=$g())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[ea(JSON.stringify(n)),ea(JSON.stringify(a)),l].join(".")}function b1(){try{return typeof indexedDB=="object"}catch{return!1}}function X1(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="FirebaseError";class Yr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Y1,Object.setPrototypeOf(this,Yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zg.prototype.create)}}class zg{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],a=o?J1(o,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new Yr(s,l,r)}}function J1(t,e){return t.replace(Z1,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Z1=/\{\$([^}]+)}/g;function Ku(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],a=e[s];if(wd(o)&&wd(a)){if(!Ku(o,a))return!1}else if(o!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function wd(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(t){return t&&t._delegate?t._delegate:t}class ns{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Q1;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nE(e))try{this.getOrInitializeService({instanceIdentifier:Mn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Mn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mn){return this.instances.has(e)}getOptions(e=Mn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&a.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const a=this.instances.get(s);return a&&e(a,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tE(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Mn){return this.component?this.component.multipleInstances?e:Mn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tE(t){return t===Mn?void 0:t}function nE(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new eE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Q||(Q={}));const iE={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},sE=Q.INFO,oE={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},aE=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=oE[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bg{constructor(e){this.name=e,this._logLevel=sE,this._logHandler=aE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Q))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...e),this._logHandler(this,Q.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...e),this._logHandler(this,Q.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...e),this._logHandler(this,Q.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...e),this._logHandler(this,Q.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...e),this._logHandler(this,Q.ERROR,...e)}}const lE=(t,e)=>e.some(n=>t instanceof n);let Td,Id;function uE(){return Td||(Td=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cE(){return Id||(Id=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jg=new WeakMap,qu=new WeakMap,Hg=new WeakMap,Ll=new WeakMap,mh=new WeakMap;function hE(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(gn(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&jg.set(n,t)}).catch(()=>{}),mh.set(e,t),e}function fE(t){if(qu.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});qu.set(t,e)}let Qu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return qu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Hg.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dE(t){Qu=t(Qu)}function pE(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Fl(this),e,...n);return Hg.set(r,e.sort?e.sort():[e]),gn(r)}:cE().includes(t)?function(...e){return t.apply(Fl(this),e),gn(jg.get(this))}:function(...e){return gn(t.apply(Fl(this),e))}}function mE(t){return typeof t=="function"?pE(t):(t instanceof IDBTransaction&&fE(t),lE(t,uE())?new Proxy(t,Qu):t)}function gn(t){if(t instanceof IDBRequest)return hE(t);if(Ll.has(t))return Ll.get(t);const e=mE(t);return e!==t&&(Ll.set(t,e),mh.set(e,t)),e}const Fl=t=>mh.get(t);function gE(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const a=indexedDB.open(t,e),l=gn(a);return r&&a.addEventListener("upgradeneeded",u=>{r(gn(a.result),u.oldVersion,u.newVersion,gn(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{o&&u.addEventListener("close",()=>o()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const yE=["get","getKey","getAll","getAllKeys","count"],_E=["put","add","delete","clear"],$l=new Map;function Sd(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($l.get(e))return $l.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=_E.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||yE.includes(n)))return;const o=async function(a,...l){const u=this.transaction(a,s?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),s&&u.done]))[0]};return $l.set(e,o),o}dE(t=>({...t,get:(e,n,r)=>Sd(e,n)||t.get(e,n,r),has:(e,n)=>!!Sd(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(EE(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function EE(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gu="@firebase/app",Ad="0.9.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn=new Bg("@firebase/app"),wE="@firebase/app-compat",TE="@firebase/analytics-compat",IE="@firebase/analytics",SE="@firebase/app-check-compat",AE="@firebase/app-check",CE="@firebase/auth",RE="@firebase/auth-compat",PE="@firebase/database",kE="@firebase/database-compat",VE="@firebase/functions",DE="@firebase/functions-compat",NE="@firebase/installations",xE="@firebase/installations-compat",ME="@firebase/messaging",OE="@firebase/messaging-compat",LE="@firebase/performance",FE="@firebase/performance-compat",$E="@firebase/remote-config",UE="@firebase/remote-config-compat",zE="@firebase/storage",BE="@firebase/storage-compat",jE="@firebase/firestore",HE="@firebase/firestore-compat",WE="firebase",KE="10.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu="[DEFAULT]",qE={[Gu]:"fire-core",[wE]:"fire-core-compat",[IE]:"fire-analytics",[TE]:"fire-analytics-compat",[AE]:"fire-app-check",[SE]:"fire-app-check-compat",[CE]:"fire-auth",[RE]:"fire-auth-compat",[PE]:"fire-rtdb",[kE]:"fire-rtdb-compat",[VE]:"fire-fn",[DE]:"fire-fn-compat",[NE]:"fire-iid",[xE]:"fire-iid-compat",[ME]:"fire-fcm",[OE]:"fire-fcm-compat",[LE]:"fire-perf",[FE]:"fire-perf-compat",[$E]:"fire-rc",[UE]:"fire-rc-compat",[zE]:"fire-gcs",[BE]:"fire-gcs-compat",[jE]:"fire-fst",[HE]:"fire-fst-compat","fire-js":"fire-js",[WE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta=new Map,Xu=new Map;function QE(t,e){try{t.container.addComponent(e)}catch(n){bn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function na(t){const e=t.name;if(Xu.has(e))return bn.debug(`There were multiple attempts to register component ${e}.`),!1;Xu.set(e,t);for(const n of ta.values())QE(n,t);return!0}function GE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},yn=new zg("app","Firebase",bE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=KE;function Wg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:bu,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw yn.create("bad-app-name",{appName:String(s)});if(n||(n=Ug()),!n)throw yn.create("no-options");const o=ta.get(s);if(o){if(Ku(n,o.options)&&Ku(r,o.config))return o;throw yn.create("duplicate-app",{appName:s})}const a=new rE(s);for(const u of Xu.values())a.addComponent(u);const l=new XE(n,r,a);return ta.set(s,l),l}function JE(t=bu){const e=ta.get(t);if(!e&&t===bu&&Ug())return Wg();if(!e)throw yn.create("no-app",{appName:t});return e}function Rr(t,e,n){var r;let s=(r=qE[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const l=[`Unable to register library "${s}" with version "${e}":`];o&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bn.warn(l.join(" "));return}na(new ns(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="firebase-heartbeat-database",ew=1,rs="firebase-heartbeat-store";let Ul=null;function Kg(){return Ul||(Ul=gE(ZE,ew,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(rs)}}}).catch(t=>{throw yn.create("idb-open",{originalErrorMessage:t.message})})),Ul}async function tw(t){try{return await(await Kg()).transaction(rs).objectStore(rs).get(qg(t))}catch(e){if(e instanceof Yr)bn.warn(e.message);else{const n=yn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});bn.warn(n.message)}}}async function Cd(t,e){try{const r=(await Kg()).transaction(rs,"readwrite");await r.objectStore(rs).put(e,qg(t)),await r.done}catch(n){if(n instanceof Yr)bn.warn(n.message);else{const r=yn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});bn.warn(r.message)}}}function qg(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=1024,rw=30*24*60*60*1e3;class iw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ow(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Rd();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=rw}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Rd(),{heartbeatsToSend:n,unsentEntries:r}=sw(this._heartbeatsCache.heartbeats),s=ea(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Rd(){return new Date().toISOString().substring(0,10)}function sw(t,e=nw){const n=[];let r=t.slice();for(const s of t){const o=n.find(a=>a.agent===s.agent);if(o){if(o.dates.push(s.date),Pd(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Pd(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ow{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return b1()?X1().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await tw(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Cd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Cd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Pd(t){return ea(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(t){na(new ns("platform-logger",e=>new vE(e),"PRIVATE")),na(new ns("heartbeat",e=>new iw(e),"PRIVATE")),Rr(Gu,Ad,t),Rr(Gu,Ad,"esm2017"),Rr("fire-js","")}aw("");var lw="firebase",uw="10.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rr(lw,uw,"app");var cw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},S,gh=gh||{},L=cw||self;function Ma(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Is(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function hw(t){return Object.prototype.hasOwnProperty.call(t,zl)&&t[zl]||(t[zl]=++fw)}var zl="closure_uid_"+(1e9*Math.random()>>>0),fw=0;function dw(t,e,n){return t.call.apply(t.bind,arguments)}function pw(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Ue(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ue=dw:Ue=pw,Ue.apply(null,arguments)}function ro(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Se(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,o){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return e.prototype[s].apply(r,a)}}function Pn(){this.s=this.s,this.o=this.o}var mw=0;Pn.prototype.s=!1;Pn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),mw!=0)&&hw(this)};Pn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Qg=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function yh(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function kd(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Ma(r)){const s=t.length||0,o=r.length||0;t.length=s+o;for(let a=0;a<o;a++)t[s+a]=r[a]}else t.push(r)}}function ze(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ze.prototype.h=function(){this.defaultPrevented=!0};var gw=function(){if(!L.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{L.addEventListener("test",()=>{},e),L.removeEventListener("test",()=>{},e)}catch{}return t}();function is(t){return/^[\s\xa0]*$/.test(t)}function Oa(){var t=L.navigator;return t&&(t=t.userAgent)?t:""}function kt(t){return Oa().indexOf(t)!=-1}function _h(t){return _h[" "](t),t}_h[" "]=function(){};function yw(t,e){var n=uT;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var _w=kt("Opera"),zr=kt("Trident")||kt("MSIE"),Gg=kt("Edge"),Yu=Gg||zr,bg=kt("Gecko")&&!(Oa().toLowerCase().indexOf("webkit")!=-1&&!kt("Edge"))&&!(kt("Trident")||kt("MSIE"))&&!kt("Edge"),vw=Oa().toLowerCase().indexOf("webkit")!=-1&&!kt("Edge");function Xg(){var t=L.document;return t?t.documentMode:void 0}var Ju;e:{var Bl="",jl=function(){var t=Oa();if(bg)return/rv:([^\);]+)(\)|;)/.exec(t);if(Gg)return/Edge\/([\d\.]+)/.exec(t);if(zr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(vw)return/WebKit\/(\S+)/.exec(t);if(_w)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(jl&&(Bl=jl?jl[1]:""),zr){var Hl=Xg();if(Hl!=null&&Hl>parseFloat(Bl)){Ju=String(Hl);break e}}Ju=Bl}var Zu;if(L.document&&zr){var Vd=Xg();Zu=Vd||parseInt(Ju,10)||void 0}else Zu=void 0;var Ew=Zu;function ss(t,e){if(ze.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(bg){e:{try{_h(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:ww[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ss.$.h.call(this)}}Se(ss,ze);var ww={2:"touch",3:"pen",4:"mouse"};ss.prototype.h=function(){ss.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ss="closure_listenable_"+(1e6*Math.random()|0),Tw=0;function Iw(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++Tw,this.fa=this.ia=!1}function La(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function vh(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Sw(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function Yg(t){const e={};for(const n in t)e[n]=t[n];return e}const Dd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Jg(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let o=0;o<Dd.length;o++)n=Dd[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Fa(t){this.src=t,this.g={},this.h=0}Fa.prototype.add=function(t,e,n,r,s){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var a=tc(t,e,r,s);return-1<a?(e=t[a],n||(e.ia=!1)):(e=new Iw(e,this.src,o,!!r,s),e.ia=n,t.push(e)),e};function ec(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=Qg(r,e),o;(o=0<=s)&&Array.prototype.splice.call(r,s,1),o&&(La(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function tc(t,e,n,r){for(var s=0;s<t.length;++s){var o=t[s];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return s}return-1}var Eh="closure_lm_"+(1e6*Math.random()|0),Wl={};function Zg(t,e,n,r,s){if(r&&r.once)return ty(t,e,n,r,s);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Zg(t,e[o],n,r,s);return null}return n=Ih(n),t&&t[Ss]?t.O(e,n,Is(r)?!!r.capture:!!r,s):ey(t,e,n,!1,r,s)}function ey(t,e,n,r,s,o){if(!e)throw Error("Invalid event type");var a=Is(s)?!!s.capture:!!s,l=Th(t);if(l||(t[Eh]=l=new Fa(t)),n=l.add(e,n,r,a,o),n.proxy)return n;if(r=Aw(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)gw||(s=a),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(ry(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Aw(){function t(n){return e.call(t.src,t.listener,n)}const e=Cw;return t}function ty(t,e,n,r,s){if(Array.isArray(e)){for(var o=0;o<e.length;o++)ty(t,e[o],n,r,s);return null}return n=Ih(n),t&&t[Ss]?t.P(e,n,Is(r)?!!r.capture:!!r,s):ey(t,e,n,!0,r,s)}function ny(t,e,n,r,s){if(Array.isArray(e))for(var o=0;o<e.length;o++)ny(t,e[o],n,r,s);else r=Is(r)?!!r.capture:!!r,n=Ih(n),t&&t[Ss]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=tc(o,n,r,s),-1<n&&(La(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Th(t))&&(e=t.g[e.toString()],t=-1,e&&(t=tc(e,n,r,s)),(n=-1<t?e[t]:null)&&wh(n))}function wh(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Ss])ec(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ry(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Th(e))?(ec(n,t),n.h==0&&(n.src=null,e[Eh]=null)):La(t)}}}function ry(t){return t in Wl?Wl[t]:Wl[t]="on"+t}function Cw(t,e){if(t.fa)t=!0;else{e=new ss(e,this);var n=t.listener,r=t.la||t.src;t.ia&&wh(t),t=n.call(r,e)}return t}function Th(t){return t=t[Eh],t instanceof Fa?t:null}var Kl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ih(t){return typeof t=="function"?t:(t[Kl]||(t[Kl]=function(e){return t.handleEvent(e)}),t[Kl])}function Ie(){Pn.call(this),this.i=new Fa(this),this.S=this,this.J=null}Se(Ie,Pn);Ie.prototype[Ss]=!0;Ie.prototype.removeEventListener=function(t,e,n,r){ny(this,t,e,n,r)};function Ve(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new ze(e,t);else if(e instanceof ze)e.target=e.target||t;else{var s=e;e=new ze(r,t),Jg(e,s)}if(s=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];s=io(a,r,!0,e)&&s}if(a=e.g=t,s=io(a,r,!0,e)&&s,s=io(a,r,!1,e)&&s,n)for(o=0;o<n.length;o++)a=e.g=n[o],s=io(a,r,!1,e)&&s}Ie.prototype.N=function(){if(Ie.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)La(n[r]);delete t.g[e],t.h--}}this.J=null};Ie.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Ie.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function io(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.fa&&a.capture==n){var l=a.listener,u=a.la||a.src;a.ia&&ec(t.i,a),s=l.call(u,r)!==!1&&s}}return s&&!r.defaultPrevented}var Sh=L.JSON.stringify;class Rw{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function Pw(){var t=Ah;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class kw{constructor(){this.h=this.g=null}add(e,n){const r=iy.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var iy=new Rw(()=>new Vw,t=>t.reset());class Vw{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Dw(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Nw(t){L.setTimeout(()=>{throw t},0)}let os,as=!1,Ah=new kw,sy=()=>{const t=L.Promise.resolve(void 0);os=()=>{t.then(xw)}};var xw=()=>{for(var t;t=Pw();){try{t.h.call(t.g)}catch(n){Nw(n)}var e=iy;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}as=!1};function $a(t,e){Ie.call(this),this.h=t||1,this.g=e||L,this.j=Ue(this.qb,this),this.l=Date.now()}Se($a,Ie);S=$a.prototype;S.ga=!1;S.T=null;S.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ve(this,"tick"),this.ga&&(Ch(this),this.start()))}};S.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ch(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}S.N=function(){$a.$.N.call(this),Ch(this),delete this.g};function Rh(t,e,n){if(typeof t=="function")n&&(t=Ue(t,n));else if(t&&typeof t.handleEvent=="function")t=Ue(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:L.setTimeout(t,e||0)}function oy(t){t.g=Rh(()=>{t.g=null,t.i&&(t.i=!1,oy(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class Mw extends Pn{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:oy(this)}N(){super.N(),this.g&&(L.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ls(t){Pn.call(this),this.h=t,this.g={}}Se(ls,Pn);var Nd=[];function ay(t,e,n,r){Array.isArray(n)||(n&&(Nd[0]=n.toString()),n=Nd);for(var s=0;s<n.length;s++){var o=Zg(e,n[s],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function ly(t){vh(t.g,function(e,n){this.g.hasOwnProperty(n)&&wh(e)},t),t.g={}}ls.prototype.N=function(){ls.$.N.call(this),ly(this)};ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ua(){this.g=!0}Ua.prototype.Ea=function(){this.g=!1};function Ow(t,e,n,r,s,o){t.info(function(){if(t.g)if(o)for(var a="",l=o.split("&"),u=0;u<l.length;u++){var c=l[u].split("=");if(1<c.length){var h=c[0];c=c[1];var f=h.split("_");a=2<=f.length&&f[1]=="type"?a+(h+"="+c+"&"):a+(h+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+a})}function Lw(t,e,n,r,s,o,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+o+" "+a})}function Er(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+$w(t,n)+(r?" "+r:"")})}function Fw(t,e){t.info(function(){return"TIMEOUT: "+e})}Ua.prototype.info=function(){};function $w(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var o=s[0];if(o!="noop"&&o!="stop"&&o!="close")for(var a=1;a<s.length;a++)s[a]=""}}}}return Sh(n)}catch{return e}}var tr={},xd=null;function za(){return xd=xd||new Ie}tr.Ta="serverreachability";function uy(t){ze.call(this,tr.Ta,t)}Se(uy,ze);function us(t){const e=za();Ve(e,new uy(e))}tr.STAT_EVENT="statevent";function cy(t,e){ze.call(this,tr.STAT_EVENT,t),this.stat=e}Se(cy,ze);function Ke(t){const e=za();Ve(e,new cy(e,t))}tr.Ua="timingevent";function hy(t,e){ze.call(this,tr.Ua,t),this.size=e}Se(hy,ze);function As(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return L.setTimeout(function(){t()},e)}var Ba={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},fy={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ph(){}Ph.prototype.h=null;function Md(t){return t.h||(t.h=t.i())}function dy(){}var Cs={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function kh(){ze.call(this,"d")}Se(kh,ze);function Vh(){ze.call(this,"c")}Se(Vh,ze);var nc;function ja(){}Se(ja,Ph);ja.prototype.g=function(){return new XMLHttpRequest};ja.prototype.i=function(){return{}};nc=new ja;function Rs(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ls(this),this.P=Uw,t=Yu?125:void 0,this.V=new $a(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new py}function py(){this.i=null,this.g="",this.h=!1}var Uw=45e3,rc={},ra={};S=Rs.prototype;S.setTimeout=function(t){this.P=t};function ic(t,e,n){t.L=1,t.v=Wa(Gt(e)),t.s=n,t.S=!0,my(t,null)}function my(t,e){t.G=Date.now(),Ps(t),t.A=Gt(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),Iy(n.i,"t",r),t.C=0,n=t.l.J,t.h=new py,t.g=Wy(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Mw(Ue(t.Pa,t,t.g),t.O)),ay(t.U,t.g,"readystatechange",t.nb),e=t.I?Yg(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),us(),Ow(t.j,t.u,t.A,t.m,t.W,t.s)}S.nb=function(t){t=t.target;const e=this.M;e&&Vt(t)==3?e.l():this.Pa(t)};S.Pa=function(t){try{if(t==this.g)e:{const h=Vt(this.g);var e=this.g.Ia();const f=this.g.da();if(!(3>h)&&(h!=3||Yu||this.g&&(this.h.h||this.g.ja()||$d(this.g)))){this.J||h!=4||e==7||(e==8||0>=f?us(3):us(2)),Ha(this);var n=this.g.da();this.ca=n;t:if(gy(this)){var r=$d(this.g);t="";var s=r.length,o=Vt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$n(this),xi(this);var a="";break t}this.h.i=new L.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=n==200,Lw(this.j,this.u,this.A,this.m,this.W,h,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,u=this.g;if((l=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!is(l)){var c=l;break t}}c=null}if(n=c)Er(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sc(this,n);else{this.i=!1,this.o=3,Ke(12),$n(this),xi(this);break e}}this.S?(yy(this,h,a),Yu&&this.i&&h==3&&(ay(this.U,this.V,"tick",this.mb),this.V.start())):(Er(this.j,this.m,a,null),sc(this,a)),h==4&&$n(this),this.i&&!this.J&&(h==4?zy(this.l,this):(this.i=!1,Ps(this)))}else oT(this.g),n==400&&0<a.indexOf("Unknown SID")?(this.o=3,Ke(12)):(this.o=0,Ke(13)),$n(this),xi(this)}}}catch{}finally{}};function gy(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function yy(t,e,n){let r=!0,s;for(;!t.J&&t.C<n.length;)if(s=zw(t,n),s==ra){e==4&&(t.o=4,Ke(14),r=!1),Er(t.j,t.m,null,"[Incomplete Response]");break}else if(s==rc){t.o=4,Ke(15),Er(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Er(t.j,t.m,s,null),sc(t,s);gy(t)&&s!=ra&&s!=rc&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Ke(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Lh(e),e.M=!0,Ke(11))):(Er(t.j,t.m,n,"[Invalid Chunked Response]"),$n(t),xi(t))}S.mb=function(){if(this.g){var t=Vt(this.g),e=this.g.ja();this.C<e.length&&(Ha(this),yy(this,t,e),this.i&&t!=4&&Ps(this))}};function zw(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?ra:(n=Number(e.substring(n,r)),isNaN(n)?rc:(r+=1,r+n>e.length?ra:(e=e.slice(r,r+n),t.C=r+n,e)))}S.cancel=function(){this.J=!0,$n(this)};function Ps(t){t.Y=Date.now()+t.P,_y(t,t.P)}function _y(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=As(Ue(t.lb,t),e)}function Ha(t){t.B&&(L.clearTimeout(t.B),t.B=null)}S.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(Fw(this.j,this.A),this.L!=2&&(us(),Ke(17)),$n(this),this.o=2,xi(this)):_y(this,this.Y-t)};function xi(t){t.l.H==0||t.J||zy(t.l,t)}function $n(t){Ha(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Ch(t.V),ly(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function sc(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||oc(n.i,t))){if(!t.K&&oc(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)oa(n),Qa(n);else break e;Oh(n),Ke(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=As(Ue(n.ib,n),6e3));if(1>=Cy(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Un(n,11)}else if((t.K||n.g==t)&&oa(n),!is(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let c=s[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const h=c[3];h!=null&&(n.ra=h,n.l.info("VER="+n.ra));const f=c[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const d=c[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const y=t.g;if(y){const _=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var o=r.i;o.g||_.indexOf("spdy")==-1&&_.indexOf("quic")==-1&&_.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Dh(o,o.h),o.h=null))}if(r.F){const v=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,J(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var a=t;if(r.wa=Hy(r,r.J?r.pa:null,r.Y),a.K){Ry(r.i,a);var l=a,u=r.L;u&&l.setTimeout(u),l.B&&(Ha(l),Ps(l)),r.g=a}else $y(r);0<n.j.length&&Ga(n)}else c[0]!="stop"&&c[0]!="close"||Un(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Un(n,7):Mh(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}us(4)}catch{}}function Bw(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ma(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function jw(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ma(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function vy(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ma(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=jw(t),r=Bw(t),s=r.length,o=0;o<s;o++)e.call(void 0,r[o],n&&n[o],t)}var Ey=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hw(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var o=t[n].substring(0,r);s=t[n].substring(r+1)}else o=t[n];e(o,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Hn(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Hn){this.h=t.h,ia(this,t.j),this.s=t.s,this.g=t.g,sa(this,t.m),this.l=t.l;var e=t.i,n=new cs;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Od(this,n),this.o=t.o}else t&&(e=String(t).match(Ey))?(this.h=!1,ia(this,e[1]||"",!0),this.s=Ei(e[2]||""),this.g=Ei(e[3]||"",!0),sa(this,e[4]),this.l=Ei(e[5]||"",!0),Od(this,e[6]||"",!0),this.o=Ei(e[7]||"")):(this.h=!1,this.i=new cs(null,this.h))}Hn.prototype.toString=function(){var t=[],e=this.j;e&&t.push(wi(e,Ld,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(wi(e,Ld,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(wi(n,n.charAt(0)=="/"?qw:Kw,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",wi(n,Gw)),t.join("")};function Gt(t){return new Hn(t)}function ia(t,e,n){t.j=n?Ei(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function sa(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Od(t,e,n){e instanceof cs?(t.i=e,bw(t.i,t.h)):(n||(e=wi(e,Qw)),t.i=new cs(e,t.h))}function J(t,e,n){t.i.set(e,n)}function Wa(t){return J(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ei(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function wi(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Ww),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ww(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Ld=/[#\/\?@]/g,Kw=/[#\?:]/g,qw=/[#\?]/g,Qw=/[#\?@]/g,Gw=/#/g;function cs(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function kn(t){t.g||(t.g=new Map,t.h=0,t.i&&Hw(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}S=cs.prototype;S.add=function(t,e){kn(this),this.i=null,t=Jr(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function wy(t,e){kn(t),e=Jr(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Ty(t,e){return kn(t),e=Jr(t,e),t.g.has(e)}S.forEach=function(t,e){kn(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};S.ta=function(){kn(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let o=0;o<s.length;o++)n.push(e[r])}return n};S.Z=function(t){kn(this);let e=[];if(typeof t=="string")Ty(this,t)&&(e=e.concat(this.g.get(Jr(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};S.set=function(t,e){return kn(this),this.i=null,t=Jr(this,t),Ty(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};S.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function Iy(t,e,n){wy(t,e),0<n.length&&(t.i=null,t.g.set(Jr(t,e),yh(n)),t.h+=n.length)}S.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var s=o;a[r]!==""&&(s+="="+encodeURIComponent(String(a[r]))),t.push(s)}}return this.i=t.join("&")};function Jr(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function bw(t,e){e&&!t.j&&(kn(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(wy(this,r),Iy(this,s,n))},t)),t.j=e}var Xw=class{constructor(t,e){this.g=t,this.map=e}};function Sy(t){this.l=t||Yw,L.PerformanceNavigationTiming?(t=L.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(L.g&&L.g.Ka&&L.g.Ka()&&L.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Yw=10;function Ay(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Cy(t){return t.h?1:t.g?t.g.size:0}function oc(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Dh(t,e){t.g?t.g.add(e):t.h=e}function Ry(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Sy.prototype.cancel=function(){if(this.i=Py(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Py(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return yh(t.i)}var Jw=class{stringify(t){return L.JSON.stringify(t,void 0)}parse(t){return L.JSON.parse(t,void 0)}};function Zw(){this.g=new Jw}function eT(t,e,n){const r=n||"";try{vy(t,function(s,o){let a=s;Is(s)&&(a=Sh(s)),e.push(r+o+"="+encodeURIComponent(a))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function tT(t,e){const n=new Ua;if(L.Image){const r=new Image;r.onload=ro(so,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ro(so,n,r,"TestLoadImage: error",!1,e),r.onabort=ro(so,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ro(so,n,r,"TestLoadImage: timeout",!1,e),L.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function so(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function ks(t){this.l=t.fc||null,this.j=t.ob||!1}Se(ks,Ph);ks.prototype.g=function(){return new Ka(this.l,this.j)};ks.prototype.i=function(t){return function(){return t}}({});function Ka(t,e){Ie.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Nh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Se(Ka,Ie);var Nh=0;S=Ka.prototype;S.open=function(t,e){if(this.readyState!=Nh)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,hs(this)};S.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||L).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};S.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vs(this)),this.readyState=Nh};S.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,hs(this)),this.g&&(this.readyState=3,hs(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof L.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ky(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function ky(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}S.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Vs(this):hs(this),this.readyState==3&&ky(this)}};S.Za=function(t){this.g&&(this.response=this.responseText=t,Vs(this))};S.Ya=function(t){this.g&&(this.response=t,Vs(this))};S.ka=function(){this.g&&Vs(this)};function Vs(t){t.readyState=4,t.l=null,t.j=null,t.A=null,hs(t)}S.setRequestHeader=function(t,e){this.v.append(t,e)};S.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};S.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function hs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ka.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var nT=L.JSON.parse;function ue(t){Ie.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Vy,this.L=this.M=!1}Se(ue,Ie);var Vy="",rT=/^https?$/i,iT=["POST","PUT"];S=ue.prototype;S.Oa=function(t){this.M=t};S.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():nc.g(),this.C=this.u?Md(this.u):Md(nc),this.g.onreadystatechange=Ue(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){Fd(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),s=L.FormData&&t instanceof L.FormData,!(0<=Qg(iT,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{xy(this),0<this.B&&((this.L=sT(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ue(this.ua,this)):this.A=Rh(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Fd(this,o)}};function sT(t){return zr&&typeof t.timeout=="number"&&t.ontimeout!==void 0}S.ua=function(){typeof gh<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ve(this,"timeout"),this.abort(8))};function Fd(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Dy(t),qa(t)}function Dy(t){t.F||(t.F=!0,Ve(t,"complete"),Ve(t,"error"))}S.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ve(this,"complete"),Ve(this,"abort"),qa(this))};S.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qa(this,!0)),ue.$.N.call(this)};S.La=function(){this.s||(this.G||this.v||this.l?Ny(this):this.kb())};S.kb=function(){Ny(this)};function Ny(t){if(t.h&&typeof gh<"u"&&(!t.C[1]||Vt(t)!=4||t.da()!=2)){if(t.v&&Vt(t)==4)Rh(t.La,0,t);else if(Ve(t,"readystatechange"),Vt(t)==4){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var s=String(t.I).match(Ey)[1]||null;!s&&L.self&&L.self.location&&(s=L.self.location.protocol.slice(0,-1)),r=!rT.test(s?s.toLowerCase():"")}n=r}if(n)Ve(t,"complete"),Ve(t,"success");else{t.m=6;try{var o=2<Vt(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",Dy(t)}}finally{qa(t)}}}}function qa(t,e){if(t.g){xy(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ve(t,"ready");try{n.onreadystatechange=r}catch{}}}function xy(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(L.clearTimeout(t.A),t.A=null)}S.isActive=function(){return!!this.g};function Vt(t){return t.g?t.g.readyState:0}S.da=function(){try{return 2<Vt(this)?this.g.status:-1}catch{return-1}};S.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};S.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),nT(e)}};function $d(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Vy:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function oT(t){const e={};t=(t.g&&2<=Vt(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(is(t[r]))continue;var n=Dw(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[s]||[];e[s]=o,o.push(n)}Sw(e,function(r){return r.join(", ")})}S.Ia=function(){return this.m};S.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function My(t){let e="";return vh(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function xh(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=My(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):J(t,e,n))}function pi(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Oy(t){this.Ga=0,this.j=[],this.l=new Ua,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=pi("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=pi("baseRetryDelayMs",5e3,t),this.hb=pi("retryDelaySeedMs",1e4,t),this.eb=pi("forwardChannelMaxRetries",2,t),this.xa=pi("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Sy(t&&t.concurrentRequestLimit),this.Ja=new Zw,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}S=Oy.prototype;S.ra=8;S.H=1;function Mh(t){if(Ly(t),t.H==3){var e=t.W++,n=Gt(t.I);if(J(n,"SID",t.K),J(n,"RID",e),J(n,"TYPE","terminate"),Ds(t,n),e=new Rs(t,t.l,e),e.L=2,e.v=Wa(Gt(n)),n=!1,L.navigator&&L.navigator.sendBeacon)try{n=L.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&L.Image&&(new Image().src=e.v,n=!0),n||(e.g=Wy(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ps(e)}jy(t)}function Qa(t){t.g&&(Lh(t),t.g.cancel(),t.g=null)}function Ly(t){Qa(t),t.u&&(L.clearTimeout(t.u),t.u=null),oa(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&L.clearTimeout(t.m),t.m=null)}function Ga(t){if(!Ay(t.i)&&!t.m){t.m=!0;var e=t.Na;os||sy(),as||(os(),as=!0),Ah.add(e,t),t.C=0}}function aT(t,e){return Cy(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=As(Ue(t.Na,t,e),By(t,t.C)),t.C++,!0)}S.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Rs(this,this.l,t);let o=this.s;if(this.U&&(o?(o=Yg(o),Jg(o,this.U)):o=this.U),this.o!==null||this.O||(s.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Fy(this,s,e),n=Gt(this.I),J(n,"RID",t),J(n,"CVER",22),this.F&&J(n,"X-HTTP-Session-Id",this.F),Ds(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(My(o)))+"&"+e:this.o&&xh(n,this.o,o)),Dh(this.i,s),this.bb&&J(n,"TYPE","init"),this.P?(J(n,"$req",e),J(n,"SID","null"),s.aa=!0,ic(s,n,null)):ic(s,n,e),this.H=2}}else this.H==3&&(t?Ud(this,t):this.j.length==0||Ay(this.i)||Ud(this))};function Ud(t,e){var n;e?n=e.m:n=t.W++;const r=Gt(t.I);J(r,"SID",t.K),J(r,"RID",n),J(r,"AID",t.V),Ds(t,r),t.o&&t.s&&xh(r,t.o,t.s),n=new Rs(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Fy(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Dh(t.i,n),ic(n,r,e)}function Ds(t,e){t.na&&vh(t.na,function(n,r){J(e,r,n)}),t.h&&vy({},function(n,r){J(e,r,n)})}function Fy(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ue(t.h.Va,t.h,t):null;e:{var s=t.j;let o=-1;for(;;){const a=["count="+n];o==-1?0<n?(o=s[0].g,a.push("ofs="+o)):o=0:a.push("ofs="+o);let l=!0;for(let u=0;u<n;u++){let c=s[u].g;const h=s[u].map;if(c-=o,0>c)o=Math.max(0,s[u].g-100),l=!1;else try{eT(h,a,"req"+c+"_")}catch{r&&r(h)}}if(l){r=a.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function $y(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;os||sy(),as||(os(),as=!0),Ah.add(e,t),t.A=0}}function Oh(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=As(Ue(t.Ma,t),By(t,t.A)),t.A++,!0)}S.Ma=function(){if(this.u=null,Uy(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=As(Ue(this.jb,this),t)}};S.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ke(10),Qa(this),Uy(this))};function Lh(t){t.B!=null&&(L.clearTimeout(t.B),t.B=null)}function Uy(t){t.g=new Rs(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Gt(t.wa);J(e,"RID","rpc"),J(e,"SID",t.K),J(e,"AID",t.V),J(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&J(e,"TO",t.qa),J(e,"TYPE","xmlhttp"),Ds(t,e),t.o&&t.s&&xh(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Wa(Gt(e)),n.s=null,n.S=!0,my(n,t)}S.ib=function(){this.v!=null&&(this.v=null,Qa(this),Oh(this),Ke(19))};function oa(t){t.v!=null&&(L.clearTimeout(t.v),t.v=null)}function zy(t,e){var n=null;if(t.g==e){oa(t),Lh(t),t.g=null;var r=2}else if(oc(t.i,e))n=e.F,Ry(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;r=za(),Ve(r,new hy(r,n)),Ga(t)}else $y(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(r==1&&aT(t,e)||r==2&&Oh(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:Un(t,5);break;case 4:Un(t,10);break;case 3:Un(t,6);break;default:Un(t,2)}}}function By(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Un(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ue(t.pb,t);n||(n=new Hn("//www.google.com/images/cleardot.gif"),L.location&&L.location.protocol=="http"||ia(n,"https"),Wa(n)),tT(n.toString(),r)}else Ke(2);t.H=0,t.h&&t.h.za(e),jy(t),Ly(t)}S.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Ke(2)):(this.l.info("Failed to ping google.com"),Ke(1))};function jy(t){if(t.H=0,t.ma=[],t.h){const e=Py(t.i);(e.length!=0||t.j.length!=0)&&(kd(t.ma,e),kd(t.ma,t.j),t.i.i.length=0,yh(t.j),t.j.length=0),t.h.ya()}}function Hy(t,e,n){var r=n instanceof Hn?Gt(n):new Hn(n);if(r.g!="")e&&(r.g=e+"."+r.g),sa(r,r.m);else{var s=L.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var o=new Hn(null);r&&ia(o,r),e&&(o.g=e),s&&sa(o,s),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&J(r,n,e),J(r,"VER",t.ra),Ds(t,r),r}function Wy(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new ue(new ks({ob:!0})):new ue(t.va),e.Oa(t.J),e}S.isActive=function(){return!!this.h&&this.h.isActive(this)};function Ky(){}S=Ky.prototype;S.Ba=function(){};S.Aa=function(){};S.za=function(){};S.ya=function(){};S.isActive=function(){return!0};S.Va=function(){};function aa(){if(zr&&!(10<=Number(Ew)))throw Error("Environmental error: no available transport.")}aa.prototype.g=function(t,e){return new it(t,e)};function it(t,e){Ie.call(this),this.g=new Oy(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!is(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!is(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Zr(this)}Se(it,Ie);it.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Ke(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Hy(t,null,t.Y),Ga(t)};it.prototype.close=function(){Mh(this.g)};it.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Sh(t),t=n);e.j.push(new Xw(e.fb++,t)),e.H==3&&Ga(e)};it.prototype.N=function(){this.g.h=null,delete this.j,Mh(this.g),delete this.g,it.$.N.call(this)};function qy(t){kh.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Se(qy,kh);function Qy(){Vh.call(this),this.status=1}Se(Qy,Vh);function Zr(t){this.g=t}Se(Zr,Ky);Zr.prototype.Ba=function(){Ve(this.g,"a")};Zr.prototype.Aa=function(t){Ve(this.g,new qy(t))};Zr.prototype.za=function(t){Ve(this.g,new Qy)};Zr.prototype.ya=function(){Ve(this.g,"b")};function lT(){this.blockSize=-1}function At(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Se(At,lT);At.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function ql(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var o=t.g[3],a=e+(o^n&(s^o))+r[0]+3614090360&4294967295;e=n+(a<<7&4294967295|a>>>25),a=o+(s^e&(n^s))+r[1]+3905402710&4294967295,o=e+(a<<12&4294967295|a>>>20),a=s+(n^o&(e^n))+r[2]+606105819&4294967295,s=o+(a<<17&4294967295|a>>>15),a=n+(e^s&(o^e))+r[3]+3250441966&4294967295,n=s+(a<<22&4294967295|a>>>10),a=e+(o^n&(s^o))+r[4]+4118548399&4294967295,e=n+(a<<7&4294967295|a>>>25),a=o+(s^e&(n^s))+r[5]+1200080426&4294967295,o=e+(a<<12&4294967295|a>>>20),a=s+(n^o&(e^n))+r[6]+2821735955&4294967295,s=o+(a<<17&4294967295|a>>>15),a=n+(e^s&(o^e))+r[7]+4249261313&4294967295,n=s+(a<<22&4294967295|a>>>10),a=e+(o^n&(s^o))+r[8]+1770035416&4294967295,e=n+(a<<7&4294967295|a>>>25),a=o+(s^e&(n^s))+r[9]+2336552879&4294967295,o=e+(a<<12&4294967295|a>>>20),a=s+(n^o&(e^n))+r[10]+4294925233&4294967295,s=o+(a<<17&4294967295|a>>>15),a=n+(e^s&(o^e))+r[11]+2304563134&4294967295,n=s+(a<<22&4294967295|a>>>10),a=e+(o^n&(s^o))+r[12]+1804603682&4294967295,e=n+(a<<7&4294967295|a>>>25),a=o+(s^e&(n^s))+r[13]+4254626195&4294967295,o=e+(a<<12&4294967295|a>>>20),a=s+(n^o&(e^n))+r[14]+2792965006&4294967295,s=o+(a<<17&4294967295|a>>>15),a=n+(e^s&(o^e))+r[15]+1236535329&4294967295,n=s+(a<<22&4294967295|a>>>10),a=e+(s^o&(n^s))+r[1]+4129170786&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^s&(e^n))+r[6]+3225465664&4294967295,o=e+(a<<9&4294967295|a>>>23),a=s+(e^n&(o^e))+r[11]+643717713&4294967295,s=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(s^o))+r[0]+3921069994&4294967295,n=s+(a<<20&4294967295|a>>>12),a=e+(s^o&(n^s))+r[5]+3593408605&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^s&(e^n))+r[10]+38016083&4294967295,o=e+(a<<9&4294967295|a>>>23),a=s+(e^n&(o^e))+r[15]+3634488961&4294967295,s=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(s^o))+r[4]+3889429448&4294967295,n=s+(a<<20&4294967295|a>>>12),a=e+(s^o&(n^s))+r[9]+568446438&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^s&(e^n))+r[14]+3275163606&4294967295,o=e+(a<<9&4294967295|a>>>23),a=s+(e^n&(o^e))+r[3]+4107603335&4294967295,s=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(s^o))+r[8]+1163531501&4294967295,n=s+(a<<20&4294967295|a>>>12),a=e+(s^o&(n^s))+r[13]+2850285829&4294967295,e=n+(a<<5&4294967295|a>>>27),a=o+(n^s&(e^n))+r[2]+4243563512&4294967295,o=e+(a<<9&4294967295|a>>>23),a=s+(e^n&(o^e))+r[7]+1735328473&4294967295,s=o+(a<<14&4294967295|a>>>18),a=n+(o^e&(s^o))+r[12]+2368359562&4294967295,n=s+(a<<20&4294967295|a>>>12),a=e+(n^s^o)+r[5]+4294588738&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^s)+r[8]+2272392833&4294967295,o=e+(a<<11&4294967295|a>>>21),a=s+(o^e^n)+r[11]+1839030562&4294967295,s=o+(a<<16&4294967295|a>>>16),a=n+(s^o^e)+r[14]+4259657740&4294967295,n=s+(a<<23&4294967295|a>>>9),a=e+(n^s^o)+r[1]+2763975236&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^s)+r[4]+1272893353&4294967295,o=e+(a<<11&4294967295|a>>>21),a=s+(o^e^n)+r[7]+4139469664&4294967295,s=o+(a<<16&4294967295|a>>>16),a=n+(s^o^e)+r[10]+3200236656&4294967295,n=s+(a<<23&4294967295|a>>>9),a=e+(n^s^o)+r[13]+681279174&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^s)+r[0]+3936430074&4294967295,o=e+(a<<11&4294967295|a>>>21),a=s+(o^e^n)+r[3]+3572445317&4294967295,s=o+(a<<16&4294967295|a>>>16),a=n+(s^o^e)+r[6]+76029189&4294967295,n=s+(a<<23&4294967295|a>>>9),a=e+(n^s^o)+r[9]+3654602809&4294967295,e=n+(a<<4&4294967295|a>>>28),a=o+(e^n^s)+r[12]+3873151461&4294967295,o=e+(a<<11&4294967295|a>>>21),a=s+(o^e^n)+r[15]+530742520&4294967295,s=o+(a<<16&4294967295|a>>>16),a=n+(s^o^e)+r[2]+3299628645&4294967295,n=s+(a<<23&4294967295|a>>>9),a=e+(s^(n|~o))+r[0]+4096336452&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~s))+r[7]+1126891415&4294967295,o=e+(a<<10&4294967295|a>>>22),a=s+(e^(o|~n))+r[14]+2878612391&4294967295,s=o+(a<<15&4294967295|a>>>17),a=n+(o^(s|~e))+r[5]+4237533241&4294967295,n=s+(a<<21&4294967295|a>>>11),a=e+(s^(n|~o))+r[12]+1700485571&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~s))+r[3]+2399980690&4294967295,o=e+(a<<10&4294967295|a>>>22),a=s+(e^(o|~n))+r[10]+4293915773&4294967295,s=o+(a<<15&4294967295|a>>>17),a=n+(o^(s|~e))+r[1]+2240044497&4294967295,n=s+(a<<21&4294967295|a>>>11),a=e+(s^(n|~o))+r[8]+1873313359&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~s))+r[15]+4264355552&4294967295,o=e+(a<<10&4294967295|a>>>22),a=s+(e^(o|~n))+r[6]+2734768916&4294967295,s=o+(a<<15&4294967295|a>>>17),a=n+(o^(s|~e))+r[13]+1309151649&4294967295,n=s+(a<<21&4294967295|a>>>11),a=e+(s^(n|~o))+r[4]+4149444226&4294967295,e=n+(a<<6&4294967295|a>>>26),a=o+(n^(e|~s))+r[11]+3174756917&4294967295,o=e+(a<<10&4294967295|a>>>22),a=s+(e^(o|~n))+r[2]+718787259&4294967295,s=o+(a<<15&4294967295|a>>>17),a=n+(o^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(a<<21&4294967295|a>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+o&4294967295}At.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,o=0;o<e;){if(s==0)for(;o<=n;)ql(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[s++]=t.charCodeAt(o++),s==this.blockSize){ql(this,r),s=0;break}}else for(;o<e;)if(r[s++]=t[o++],s==this.blockSize){ql(this,r),s=0;break}}this.h=s,this.i+=e};At.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function b(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var o=t[s]|0;r&&o==e||(n[s]=o,r=!1)}this.g=n}var uT={};function Fh(t){return-128<=t&&128>t?yw(t,function(e){return new b([e|0],0>e?-1:0)}):new b([t|0],0>t?-1:0)}function Dt(t){if(isNaN(t)||!isFinite(t))return Pr;if(0>t)return Pe(Dt(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=ac;return new b(e,0)}function Gy(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Pe(Gy(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Dt(Math.pow(e,8)),r=Pr,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+o),e);8>o?(o=Dt(Math.pow(e,o)),r=r.R(o).add(Dt(a))):(r=r.R(n),r=r.add(Dt(a)))}return r}var ac=4294967296,Pr=Fh(0),lc=Fh(1),zd=Fh(16777216);S=b.prototype;S.ea=function(){if(ut(this))return-Pe(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:ac+r)*e,e*=ac}return t};S.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Bt(this))return"0";if(ut(this))return"-"+Pe(this).toString(t);for(var e=Dt(Math.pow(t,6)),n=this,r="";;){var s=ua(n,e).g;n=la(n,s.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,Bt(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};S.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Bt(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function ut(t){return t.h==-1}S.X=function(t){return t=la(this,t),ut(t)?-1:Bt(t)?0:1};function Pe(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new b(n,~t.h).add(lc)}S.abs=function(){return ut(this)?Pe(this):this};S.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var o=r+(this.D(s)&65535)+(t.D(s)&65535),a=(o>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=a>>>16,o&=65535,a&=65535,n[s]=a<<16|o}return new b(n,n[n.length-1]&-2147483648?-1:0)};function la(t,e){return t.add(Pe(e))}S.R=function(t){if(Bt(this)||Bt(t))return Pr;if(ut(this))return ut(t)?Pe(this).R(Pe(t)):Pe(Pe(this).R(t));if(ut(t))return Pe(this.R(Pe(t)));if(0>this.X(zd)&&0>t.X(zd))return Dt(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var o=this.D(r)>>>16,a=this.D(r)&65535,l=t.D(s)>>>16,u=t.D(s)&65535;n[2*r+2*s]+=a*u,oo(n,2*r+2*s),n[2*r+2*s+1]+=o*u,oo(n,2*r+2*s+1),n[2*r+2*s+1]+=a*l,oo(n,2*r+2*s+1),n[2*r+2*s+2]+=o*l,oo(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new b(n,0)};function oo(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function mi(t,e){this.g=t,this.h=e}function ua(t,e){if(Bt(e))throw Error("division by zero");if(Bt(t))return new mi(Pr,Pr);if(ut(t))return e=ua(Pe(t),e),new mi(Pe(e.g),Pe(e.h));if(ut(e))return e=ua(t,Pe(e)),new mi(Pe(e.g),e.h);if(30<t.g.length){if(ut(t)||ut(e))throw Error("slowDivide_ only works with positive integers.");for(var n=lc,r=e;0>=r.X(t);)n=Bd(n),r=Bd(r);var s=sr(n,1),o=sr(r,1);for(r=sr(r,2),n=sr(n,2);!Bt(r);){var a=o.add(r);0>=a.X(t)&&(s=s.add(n),o=a),r=sr(r,1),n=sr(n,1)}return e=la(t,s.R(e)),new mi(s,e)}for(s=Pr;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Dt(n),a=o.R(e);ut(a)||0<a.X(t);)n-=r,o=Dt(n),a=o.R(e);Bt(o)&&(o=lc),s=s.add(o),t=la(t,a)}return new mi(s,t)}S.gb=function(t){return ua(this,t).h};S.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new b(n,this.h&t.h)};S.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new b(n,this.h|t.h)};S.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new b(n,this.h^t.h)};function Bd(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new b(n,t.h)}function sr(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],o=0;o<r;o++)s[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new b(s,t.h)}aa.prototype.createWebChannel=aa.prototype.g;it.prototype.send=it.prototype.u;it.prototype.open=it.prototype.m;it.prototype.close=it.prototype.close;Ba.NO_ERROR=0;Ba.TIMEOUT=8;Ba.HTTP_ERROR=6;fy.COMPLETE="complete";dy.EventType=Cs;Cs.OPEN="a";Cs.CLOSE="b";Cs.ERROR="c";Cs.MESSAGE="d";Ie.prototype.listen=Ie.prototype.O;ue.prototype.listenOnce=ue.prototype.P;ue.prototype.getLastError=ue.prototype.Sa;ue.prototype.getLastErrorCode=ue.prototype.Ia;ue.prototype.getStatus=ue.prototype.da;ue.prototype.getResponseJson=ue.prototype.Wa;ue.prototype.getResponseText=ue.prototype.ja;ue.prototype.send=ue.prototype.ha;ue.prototype.setWithCredentials=ue.prototype.Oa;At.prototype.digest=At.prototype.l;At.prototype.reset=At.prototype.reset;At.prototype.update=At.prototype.j;b.prototype.add=b.prototype.add;b.prototype.multiply=b.prototype.R;b.prototype.modulo=b.prototype.gb;b.prototype.compare=b.prototype.X;b.prototype.toNumber=b.prototype.ea;b.prototype.toString=b.prototype.toString;b.prototype.getBits=b.prototype.D;b.fromNumber=Dt;b.fromString=Gy;var cT=function(){return new aa},hT=function(){return za()},Ql=Ba,fT=fy,dT=tr,jd={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},pT=ks,ao=dy,mT=ue,gT=At,kr=b;const Hd="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Oe.UNAUTHENTICATED=new Oe(null),Oe.GOOGLE_CREDENTIALS=new Oe("google-credentials-uid"),Oe.FIRST_PARTY=new Oe("first-party-uid"),Oe.MOCK_USER=new Oe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ei="10.1.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn=new Bg("@firebase/firestore");function Wd(){return Xn.logLevel}function D(t,...e){if(Xn.logLevel<=Q.DEBUG){const n=e.map($h);Xn.debug(`Firestore (${ei}): ${t}`,...n)}}function bt(t,...e){if(Xn.logLevel<=Q.ERROR){const n=e.map($h);Xn.error(`Firestore (${ei}): ${t}`,...n)}}function Br(t,...e){if(Xn.logLevel<=Q.WARN){const n=e.map($h);Xn.warn(`Firestore (${ei}): ${t}`,...n)}}function $h(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O(t="Unexpected state"){const e=`FIRESTORE (${ei}) INTERNAL ASSERTION FAILED: `+t;throw bt(e),new Error(e)}function ee(t,e){t||O()}function $(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class x extends Yr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Oe.UNAUTHENTICATED))}shutdown(){}}class _T{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class vT{constructor(e){this.t=e,this.currentUser=Oe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new _n;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new _n,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},l=u=>{D("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(D("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new _n)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(D("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ee(typeof r.accessToken=="string"),new by(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ee(e===null||typeof e=="string"),new Oe(e)}}class ET{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Oe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class wT{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new ET(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Oe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class TT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IT{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&D("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,D("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{D("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):D("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ee(typeof n.token=="string"),this.R=n.token,new TT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=ST(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%e.length))}return r}}function q(t,e){return t<e?-1:t>e?1:0}function jr(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new x(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new x(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new x(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new x(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return _e.fromMillis(Date.now())}static fromDate(e){return _e.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new _e(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?q(this.nanoseconds,e.nanoseconds):q(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.timestamp=e}static fromTimestamp(e){return new F(e)}static min(){return new F(new _e(0,0))}static max(){return new F(new _e(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n,r){n===void 0?n=0:n>e.length&&O(),r===void 0?r=e.length-n:r>e.length-n&&O(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return fs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fs?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=e.get(s),a=n.get(s);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ne extends fs{construct(e,n,r){return new ne(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new x(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new ne(n)}static emptyPath(){return new ne([])}}const AT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $e extends fs{construct(e,n,r){return new $e(e,n,r)}static isValidIdentifier(e){return AT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$e.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new $e(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new x(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new x(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new x(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(r+=l,s++):(o(),s++)}if(o(),a)throw new x(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $e(n)}static emptyPath(){return new $e([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e){this.path=e}static fromPath(e){return new M(ne.fromString(e))}static fromName(e){return new M(ne.fromString(e).popFirst(5))}static empty(){return new M(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ne.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new M(new ne(e.slice()))}}function CT(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=F.fromTimestamp(r===1e9?new _e(n+1,0):new _e(n,r));return new Tn(s,M.empty(),e)}function RT(t){return new Tn(t.readTime,t.key,-1)}class Tn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Tn(F.min(),M.empty(),-1)}static max(){return new Tn(F.max(),M.empty(),-1)}}function PT(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=M.comparator(t.documentKey,e.documentKey),n!==0?n:q(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ns(t){if(t.code!==w.FAILED_PRECONDITION||t.message!==kT)throw t;D("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&O(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new I((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof I?n:I.resolve(n)}catch(n){return I.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):I.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):I.reject(n)}static resolve(e){return new I((n,r)=>{n(e)})}static reject(e){return new I((n,r)=>{r(e)})}static waitFor(e){return new I((n,r)=>{let s=0,o=0,a=!1;e.forEach(l=>{++s,l.next(()=>{++o,a&&o===s&&n()},u=>r(u))}),a=!0,o===s&&n()})}static or(e){let n=I.resolve(!1);for(const r of e)n=n.next(s=>s?I.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new I((r,s)=>{const o=e.length,a=new Array(o);let l=0;for(let u=0;u<o;u++){const c=u;n(e[c]).next(h=>{a[c]=h,++l,l===o&&r(a)},h=>s(h))}})}static doWhile(e,n){return new I((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}function xs(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Uh.ae=-1;function ba(t){return t==null}function ca(t){return t===0&&1/t==-1/0}function DT(t){return typeof t=="number"&&Number.isInteger(t)&&!ca(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ti(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Yy(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e,n){this.comparator=e,this.root=n||Ce.EMPTY}insert(e,n){return new ae(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ce.BLACK,null,null))}remove(e){return new ae(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ce.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lo(this.root,e,this.comparator,!1)}getReverseIterator(){return new lo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lo(this.root,e,this.comparator,!0)}}class lo{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ce{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??Ce.RED,this.left=s??Ce.EMPTY,this.right=o??Ce.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new Ce(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ce.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Ce.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ce.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ce.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw O();const e=this.left.check();if(e!==this.right.check())throw O();return e+(this.isRed()?0:1)}}Ce.EMPTY=null,Ce.RED=!0,Ce.BLACK=!1;Ce.EMPTY=new class{constructor(){this.size=0}get key(){throw O()}get value(){throw O()}get color(){throw O()}get left(){throw O()}get right(){throw O()}copy(e,n,r,s,o){return this}insert(e,n,r){return new Ce(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.comparator=e,this.data=new ae(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qd(this.data.getIterator())}getIteratorFrom(e){return new qd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Be)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Be(this.comparator);return n.data=e,n}}class qd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.fields=e,e.sort($e.comparator)}static empty(){return new Et([])}unionWith(e){let n=new Be($e.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Et(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return jr(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Jy("Invalid base64 string: "+o):o}}(e);return new He(n)}static fromUint8Array(e){const n=function(s){let o="";for(let a=0;a<s.length;++a)o+=String.fromCharCode(s[a]);return o}(e);return new He(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return q(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}He.EMPTY_BYTE_STRING=new He("");const NT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function In(t){if(ee(!!t),typeof t=="string"){let e=0;const n=NT.exec(t);if(ee(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:de(t.seconds),nanos:de(t.nanos)}}function de(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Yn(t){return typeof t=="string"?He.fromBase64String(t):He.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Bh(t){const e=t.mapValue.fields.__previous_value__;return zh(e)?Bh(e):e}function ds(t){const e=In(t.mapValue.fields.__local_write_time__.timestampValue);return new _e(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,n,r,s,o,a,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c}}class ps{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ps("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ps&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Jn(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zh(t)?4:MT(t)?9007199254740991:10:O()}function Ot(t,e){if(t===e)return!0;const n=Jn(t);if(n!==Jn(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ds(t).isEqual(ds(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const a=In(s.timestampValue),l=In(o.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return Yn(s.bytesValue).isEqual(Yn(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return de(s.geoPointValue.latitude)===de(o.geoPointValue.latitude)&&de(s.geoPointValue.longitude)===de(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return de(s.integerValue)===de(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const a=de(s.doubleValue),l=de(o.doubleValue);return a===l?ca(a)===ca(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return jr(t.arrayValue.values||[],e.arrayValue.values||[],Ot);case 10:return function(s,o){const a=s.mapValue.fields||{},l=o.mapValue.fields||{};if(Kd(a)!==Kd(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!Ot(a[u],l[u])))return!1;return!0}(t,e);default:return O()}}function ms(t,e){return(t.values||[]).find(n=>Ot(n,e))!==void 0}function Hr(t,e){if(t===e)return 0;const n=Jn(t),r=Jn(e);if(n!==r)return q(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return q(t.booleanValue,e.booleanValue);case 2:return function(o,a){const l=de(o.integerValue||o.doubleValue),u=de(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return Qd(t.timestampValue,e.timestampValue);case 4:return Qd(ds(t),ds(e));case 5:return q(t.stringValue,e.stringValue);case 6:return function(o,a){const l=Yn(o),u=Yn(a);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const l=o.split("/"),u=a.split("/");for(let c=0;c<l.length&&c<u.length;c++){const h=q(l[c],u[c]);if(h!==0)return h}return q(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const l=q(de(o.latitude),de(a.latitude));return l!==0?l:q(de(o.longitude),de(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,a){const l=o.values||[],u=a.values||[];for(let c=0;c<l.length&&c<u.length;++c){const h=Hr(l[c],u[c]);if(h)return h}return q(l.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,a){if(o===uo.mapValue&&a===uo.mapValue)return 0;if(o===uo.mapValue)return 1;if(a===uo.mapValue)return-1;const l=o.fields||{},u=Object.keys(l),c=a.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let f=0;f<u.length&&f<h.length;++f){const d=q(u[f],h[f]);if(d!==0)return d;const y=Hr(l[u[f]],c[h[f]]);if(y!==0)return y}return q(u.length,h.length)}(t.mapValue,e.mapValue);default:throw O()}}function Qd(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return q(t,e);const n=In(t),r=In(e),s=q(n.seconds,r.seconds);return s!==0?s:q(n.nanos,r.nanos)}function Wr(t){return uc(t)}function uc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=In(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Yn(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return M.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=uc(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const a of r)o?o=!1:s+=",",s+=`${a}:${uc(n.fields[a])}`;return s+"}"}(t.mapValue):O()}function cc(t){return!!t&&"integerValue"in t}function jh(t){return!!t&&"arrayValue"in t}function Gd(t){return!!t&&"nullValue"in t}function bd(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Co(t){return!!t&&"mapValue"in t}function Mi(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ti(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Mi(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Mi(t.arrayValue.values[n]);return e}return Object.assign({},t)}function MT(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.value=e}static empty(){return new ct({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Co(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mi(n)}setAll(e){let n=$e.emptyPath(),r={},s=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=l.popLast()}a?r[l.lastSegment()]=Mi(a):s.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());Co(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ot(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Co(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ti(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new ct(Mi(this.value))}}function Zy(t){const e=[];return ti(t.fields,(n,r)=>{const s=new $e([n]);if(Co(r)){const o=Zy(r.mapValue).fields;if(o.length===0)e.push(s);else for(const a of o)e.push(s.child(a))}else e.push(s)}),new Et(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,n,r,s,o,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Fe(e,0,F.min(),F.min(),F.min(),ct.empty(),0)}static newFoundDocument(e,n,r,s){return new Fe(e,1,n,F.min(),r,s,0)}static newNoDocument(e,n){return new Fe(e,2,n,F.min(),F.min(),ct.empty(),0)}static newUnknownDocument(e,n){return new Fe(e,3,n,F.min(),F.min(),ct.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(F.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ct.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ct.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=F.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n){this.position=e,this.inclusive=n}}function Xd(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],a=t.position[s];if(o.field.isKeyField()?r=M.comparator(M.fromName(a.referenceValue),n.key):r=Hr(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Yd(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ot(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n="asc"){this.field=e,this.dir=n}}function OT(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{}class ge extends e_{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new FT(e,n,r):n==="array-contains"?new zT(e,r):n==="in"?new BT(e,r):n==="not-in"?new jT(e,r):n==="array-contains-any"?new HT(e,r):new ge(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new $T(e,r):new UT(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Hr(n,this.value)):n!==null&&Jn(this.value)===Jn(n)&&this.matchesComparison(Hr(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return O()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Lt extends e_{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Lt(e,n)}matches(e){return t_(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function t_(t){return t.op==="and"}function n_(t){return LT(t)&&t_(t)}function LT(t){for(const e of t.filters)if(e instanceof Lt)return!1;return!0}function hc(t){if(t instanceof ge)return t.field.canonicalString()+t.op.toString()+Wr(t.value);if(n_(t))return t.filters.map(e=>hc(e)).join(",");{const e=t.filters.map(n=>hc(n)).join(",");return`${t.op}(${e})`}}function r_(t,e){return t instanceof ge?function(r,s){return s instanceof ge&&r.op===s.op&&r.field.isEqual(s.field)&&Ot(r.value,s.value)}(t,e):t instanceof Lt?function(r,s){return s instanceof Lt&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,a,l)=>o&&r_(a,s.filters[l]),!0):!1}(t,e):void O()}function i_(t){return t instanceof ge?function(n){return`${n.field.canonicalString()} ${n.op} ${Wr(n.value)}`}(t):t instanceof Lt?function(n){return n.op.toString()+" {"+n.getFilters().map(i_).join(" ,")+"}"}(t):"Filter"}class FT extends ge{constructor(e,n,r){super(e,n,r),this.key=M.fromName(r.referenceValue)}matches(e){const n=M.comparator(e.key,this.key);return this.matchesComparison(n)}}class $T extends ge{constructor(e,n){super(e,"in",n),this.keys=s_("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class UT extends ge{constructor(e,n){super(e,"not-in",n),this.keys=s_("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function s_(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>M.fromName(r.referenceValue))}class zT extends ge{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jh(n)&&ms(n.arrayValue,this.value)}}class BT extends ge{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ms(this.value.arrayValue,n)}}class jT extends ge{constructor(e,n){super(e,"not-in",n)}matches(e){if(ms(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ms(this.value.arrayValue,n)}}class HT extends ge{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ms(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,n=null,r=[],s=[],o=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=a,this.endAt=l,this.he=null}}function Jd(t,e=null,n=[],r=[],s=null,o=null,a=null){return new WT(t,e,n,r,s,o,a)}function Hh(t){const e=$(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>hc(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),ba(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Wr(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Wr(r)).join(",")),e.he=n}return e.he}function Wh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!OT(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!r_(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Yd(t.startAt,e.startAt)&&Yd(t.endAt,e.endAt)}function fc(t){return M.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n=null,r=[],s=[],o=null,a="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=a,this.startAt=l,this.endAt=u,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function KT(t,e,n,r,s,o,a,l){return new Xa(t,e,n,r,s,o,a,l)}function o_(t){return new Xa(t)}function Zd(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function qT(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function QT(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function GT(t){return t.collectionGroup!==null}function Vr(t){const e=$(t);if(e.Pe===null){e.Pe=[];const n=QT(e),r=qT(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new Oi(n)),e.Pe.push(new Oi($e.keyField(),"asc"));else{let s=!1;for(const o of e.explicitOrderBy)e.Pe.push(o),o.field.isKeyField()&&(s=!0);if(!s){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new Oi($e.keyField(),o))}}}return e.Pe}function Xt(t){const e=$(t);if(!e.Ie)if(e.limitType==="F")e.Ie=Jd(e.path,e.collectionGroup,Vr(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of Vr(e)){const a=o.dir==="desc"?"asc":"desc";n.push(new Oi(o.field,a))}const r=e.endAt?new ha(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new ha(e.startAt.position,e.startAt.inclusive):null;e.Ie=Jd(e.path,e.collectionGroup,n,e.filters,e.limit,r,s)}return e.Ie}function dc(t,e,n){return new Xa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ya(t,e){return Wh(Xt(t),Xt(e))&&t.limitType===e.limitType}function a_(t){return`${Hh(Xt(t))}|lt:${t.limitType}`}function pc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>i_(s)).join(", ")}]`),ba(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Wr(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Wr(s)).join(",")),`Target(${r})`}(Xt(t))}; limitType=${t.limitType})`}function Ja(t,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):M.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,s){for(const o of Vr(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(a,l,u){const c=Xd(a,l,u);return a.inclusive?c<=0:c<0}(r.startAt,Vr(r),s)||r.endAt&&!function(a,l,u){const c=Xd(a,l,u);return a.inclusive?c>=0:c>0}(r.endAt,Vr(r),s))}(t,e)}function bT(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function l_(t){return(e,n)=>{let r=!1;for(const s of Vr(t)){const o=XT(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function XT(t,e,n){const r=t.field.isKeyField()?M.comparator(e.key,n.key):function(o,a,l){const u=a.data.field(o),c=l.data.field(o);return u!==null&&c!==null?Hr(u,c):O()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return O()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ti(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return Yy(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT=new ae(M.comparator);function Yt(){return YT}const u_=new ae(M.comparator);function Ti(...t){let e=u_;for(const n of t)e=e.insert(n.key,n);return e}function c_(t){let e=u_;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function zn(){return Li()}function h_(){return Li()}function Li(){return new ni(t=>t.toString(),(t,e)=>t.isEqual(e))}const JT=new ae(M.comparator),ZT=new Be(M.comparator);function j(...t){let e=ZT;for(const n of t)e=e.add(n);return e}const eI=new Be(q);function tI(){return eI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ca(e)?"-0":e}}function d_(t){return{integerValue:""+t}}function nI(t,e){return DT(e)?d_(e):f_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(){this._=void 0}}function rI(t,e,n){return t instanceof fa?function(s,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&zh(o)&&(o=Bh(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof gs?m_(t,e):t instanceof ys?g_(t,e):function(s,o){const a=p_(s,o),l=ep(a)+ep(s.Te);return cc(a)&&cc(s.Te)?d_(l):f_(s.serializer,l)}(t,e)}function iI(t,e,n){return t instanceof gs?m_(t,e):t instanceof ys?g_(t,e):n}function p_(t,e){return t instanceof da?function(r){return cc(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class fa extends Za{}class gs extends Za{constructor(e){super(),this.elements=e}}function m_(t,e){const n=y_(e);for(const r of t.elements)n.some(s=>Ot(s,r))||n.push(r);return{arrayValue:{values:n}}}class ys extends Za{constructor(e){super(),this.elements=e}}function g_(t,e){let n=y_(e);for(const r of t.elements)n=n.filter(s=>!Ot(s,r));return{arrayValue:{values:n}}}class da extends Za{constructor(e,n){super(),this.serializer=e,this.Te=n}}function ep(t){return de(t.integerValue||t.doubleValue)}function y_(t){return jh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function sI(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof gs&&s instanceof gs||r instanceof ys&&s instanceof ys?jr(r.elements,s.elements,Ot):r instanceof da&&s instanceof da?Ot(r.Te,s.Te):r instanceof fa&&s instanceof fa}(t.transform,e.transform)}class oI{constructor(e,n){this.version=e,this.transformResults=n}}class Ht{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ht}static exists(e){return new Ht(void 0,e)}static updateTime(e){return new Ht(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ro(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class el{}function __(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new E_(t.key,Ht.none()):new Ms(t.key,t.data,Ht.none());{const n=t.data,r=ct.empty();let s=new Be($e.comparator);for(let o of e.fields)if(!s.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),s=s.add(o)}return new nr(t.key,r,new Et(s.toArray()),Ht.none())}}function aI(t,e,n){t instanceof Ms?function(s,o,a){const l=s.value.clone(),u=np(s.fieldTransforms,o,a.transformResults);l.setAll(u),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof nr?function(s,o,a){if(!Ro(s.precondition,o))return void o.convertToUnknownDocument(a.version);const l=np(s.fieldTransforms,o,a.transformResults),u=o.data;u.setAll(v_(s)),u.setAll(l),o.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(s,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Fi(t,e,n,r){return t instanceof Ms?function(o,a,l,u){if(!Ro(o.precondition,a))return l;const c=o.value.clone(),h=rp(o.fieldTransforms,u,a);return c.setAll(h),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof nr?function(o,a,l,u){if(!Ro(o.precondition,a))return l;const c=rp(o.fieldTransforms,u,a),h=a.data;return h.setAll(v_(o)),h.setAll(c),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,a,l){return Ro(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function lI(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=p_(r.transform,s||null);o!=null&&(n===null&&(n=ct.empty()),n.set(r.field,o))}return n||null}function tp(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&jr(r,s,(o,a)=>sI(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ms extends el{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class nr extends el{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function v_(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function np(t,e,n){const r=new Map;ee(t.length===n.length);for(let s=0;s<n.length;s++){const o=t[s],a=o.transform,l=e.data.field(o.field);r.set(o.field,iI(a,l,n[s]))}return r}function rp(t,e,n){const r=new Map;for(const s of t){const o=s.transform,a=n.data.field(s.field);r.set(s.field,rI(o,a,e))}return r}class E_ extends el{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uI extends el{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&aI(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fi(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Fi(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=h_();return this.mutations.forEach(s=>{const o=e.get(s.key),a=o.overlayedDocument;let l=this.applyToLocalView(a,o.mutatedFields);l=n.has(s.key)?null:l;const u=__(a,l);u!==null&&r.set(s.key,u),a.isValidDocument()||a.convertToNoDocument(F.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),j())}isEqual(e){return this.batchId===e.batchId&&jr(this.mutations,e.mutations,(n,r)=>tp(n,r))&&jr(this.baseMutations,e.baseMutations,(n,r)=>tp(n,r))}}class Kh{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ee(e.mutations.length===r.length);let s=function(){return JT}();const o=e.mutations;for(let a=0;a<o.length;a++)s=s.insert(o[a].key,r[a].version);return new Kh(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe,W;function dI(t){switch(t){default:return O();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}function w_(t){if(t===void 0)return bt("GRPC error has no .code"),w.UNKNOWN;switch(t){case fe.OK:return w.OK;case fe.CANCELLED:return w.CANCELLED;case fe.UNKNOWN:return w.UNKNOWN;case fe.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case fe.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case fe.INTERNAL:return w.INTERNAL;case fe.UNAVAILABLE:return w.UNAVAILABLE;case fe.UNAUTHENTICATED:return w.UNAUTHENTICATED;case fe.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case fe.NOT_FOUND:return w.NOT_FOUND;case fe.ALREADY_EXISTS:return w.ALREADY_EXISTS;case fe.PERMISSION_DENIED:return w.PERMISSION_DENIED;case fe.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case fe.ABORTED:return w.ABORTED;case fe.OUT_OF_RANGE:return w.OUT_OF_RANGE;case fe.UNIMPLEMENTED:return w.UNIMPLEMENTED;case fe.DATA_LOSS:return w.DATA_LOSS;default:return O()}}(W=fe||(fe={}))[W.OK=0]="OK",W[W.CANCELLED=1]="CANCELLED",W[W.UNKNOWN=2]="UNKNOWN",W[W.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",W[W.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",W[W.NOT_FOUND=5]="NOT_FOUND",W[W.ALREADY_EXISTS=6]="ALREADY_EXISTS",W[W.PERMISSION_DENIED=7]="PERMISSION_DENIED",W[W.UNAUTHENTICATED=16]="UNAUTHENTICATED",W[W.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",W[W.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",W[W.ABORTED=10]="ABORTED",W[W.OUT_OF_RANGE=11]="OUT_OF_RANGE",W[W.UNIMPLEMENTED=12]="UNIMPLEMENTED",W[W.INTERNAL=13]="INTERNAL",W[W.UNAVAILABLE=14]="UNAVAILABLE",W[W.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return co}static getOrCreateInstance(){return co===null&&(co=new qh),co}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let co=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=new kr([4294967295,4294967295],0);function ip(t){const e=pI().encode(t),n=new gT;return n.update(e),new Uint8Array(n.digest())}function sp(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new kr([n,r],0),new kr([s,o],0)]}class Qh{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ii(`Invalid padding: ${n}`);if(r<0)throw new Ii(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ii(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ii(`Invalid padding when bitmap length is 0: ${n}`);this.de=8*e.length-n,this.Ae=kr.fromNumber(this.de)}Re(e,n,r){let s=e.add(n.multiply(kr.fromNumber(r)));return s.compare(mI)===1&&(s=new kr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ae).toNumber()}Ve(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.de===0)return!1;const n=ip(e),[r,s]=sp(n);for(let o=0;o<this.hashCount;o++){const a=this.Re(r,s,o);if(!this.Ve(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new Qh(o,s,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.de===0)return;const n=ip(e),[r,s]=sp(n);for(let o=0;o<this.hashCount;o++){const a=this.Re(r,s,o);this.me(a)}}me(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ii extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Os.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new tl(F.min(),s,new ae(q),Yt(),j())}}class Os{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Os(r,n,j(),j(),j())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,n,r,s){this.fe=e,this.removedTargetIds=n,this.key=r,this.ge=s}}class T_{constructor(e,n){this.targetId=e,this.pe=n}}class I_{constructor(e,n,r=He.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class op{constructor(){this.ye=0,this.we=lp(),this.Se=He.EMPTY_BYTE_STRING,this.be=!1,this.De=!0}get current(){return this.be}get resumeToken(){return this.Se}get ve(){return this.ye!==0}get Ce(){return this.De}Fe(e){e.approximateByteSize()>0&&(this.De=!0,this.Se=e)}Me(){let e=j(),n=j(),r=j();return this.we.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:O()}}),new Os(this.Se,this.be,e,n,r)}xe(){this.De=!1,this.we=lp()}Oe(e,n){this.De=!0,this.we=this.we.insert(e,n)}Ne(e){this.De=!0,this.we=this.we.remove(e)}Be(){this.ye+=1}Le(){this.ye-=1}ke(){this.De=!0,this.be=!0}}class gI{constructor(e){this.qe=e,this.Qe=new Map,this.Ke=Yt(),this.$e=ap(),this.Ue=new ae(q)}We(e){for(const n of e.fe)e.ge&&e.ge.isFoundDocument()?this.Ge(n,e.ge):this.ze(n,e.key,e.ge);for(const n of e.removedTargetIds)this.ze(n,e.key,e.ge)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Fe(e.resumeToken);break;case 1:r.Le(),r.ve||r.xe(),r.Fe(e.resumeToken);break;case 2:r.Le(),r.ve||this.removeTarget(n);break;case 3:this.Je(n)&&(r.ke(),r.Fe(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Fe(e.resumeToken));break;default:O()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qe.forEach((r,s)=>{this.Je(s)&&n(s)})}Ze(e){var n,r;const s=e.targetId,o=e.pe.count,a=this.Xe(s);if(a){const l=a.target;if(fc(l))if(o===0){const u=new M(l.path);this.ze(s,u,Fe.newNoDocument(u,F.min()))}else ee(o===1);else{const u=this.et(s);if(u!==o){const c=this.tt(e,u);if(c.status!==0){this.Ye(s);const h=c.status===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(s,h)}(n=qh.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(f,d,y,_){var v,C,m,p,g,E;const A={localCacheCount:y,existenceFilterCount:_.count},R=_.unchangedNames;return R&&(A.bloomFilter={applied:f===0,hashCount:(v=R==null?void 0:R.hashCount)!==null&&v!==void 0?v:0,bitmapLength:(p=(m=(C=R==null?void 0:R.bits)===null||C===void 0?void 0:C.bitmap)===null||m===void 0?void 0:m.length)!==null&&p!==void 0?p:0,padding:(E=(g=R==null?void 0:R.bits)===null||g===void 0?void 0:g.padding)!==null&&E!==void 0?E:0},d&&(A.bloomFilter.mightContain=d)),A}(c.status,(r=c.nt)!==null&&r!==void 0?r:null,u,e.pe))}}}}tt(e,n){const{unchangedNames:r,count:s}=e.pe;if(!r||!r.bits)return{status:1};const{bits:{bitmap:o="",padding:a=0},hashCount:l=0}=r;let u,c;try{u=Yn(o).toUint8Array()}catch(f){if(f instanceof Jy)return Br("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),{status:1};throw f}try{c=new Qh(u,a,l)}catch(f){return Br(f instanceof Ii?"BloomFilter error: ":"Applying bloom filter failed: ",f),{status:1}}const h=f=>{const d=this.qe.rt();return c.mightContain(`projects/${d.projectId}/databases/${d.database}/documents/${f}`)};return c.de===0?{status:1}:{status:s===n-this.it(e.targetId,h)?0:2,nt:h}}it(e,n){const r=this.qe.getRemoteKeysForTarget(e);let s=0;return r.forEach(o=>{n(o.path.canonicalString())||(this.ze(e,o,null),s++)}),s}st(e){const n=new Map;this.Qe.forEach((o,a)=>{const l=this.Xe(a);if(l){if(o.current&&fc(l.target)){const u=new M(l.target.path);this.Ke.get(u)!==null||this.ot(a,u)||this.ze(a,u,Fe.newNoDocument(u,e))}o.Ce&&(n.set(a,o.Me()),o.xe())}});let r=j();this.$e.forEach((o,a)=>{let l=!0;a.forEachWhile(u=>{const c=this.Xe(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(o))}),this.Ke.forEach((o,a)=>a.setReadTime(e));const s=new tl(e,n,this.Ue,this.Ke,r);return this.Ke=Yt(),this.$e=ap(),this.Ue=new ae(q),s}Ge(e,n){if(!this.Je(e))return;const r=this.ot(e,n.key)?2:0;this.He(e).Oe(n.key,r),this.Ke=this.Ke.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const s=this.He(e);this.ot(e,n)?s.Oe(n,1):s.Ne(n),this.$e=this.$e.insert(n,this._t(n).delete(e)),r&&(this.Ke=this.Ke.insert(n,r))}removeTarget(e){this.Qe.delete(e)}et(e){const n=this.He(e).Me();return this.qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Be(e){this.He(e).Be()}He(e){let n=this.Qe.get(e);return n||(n=new op,this.Qe.set(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Be(q),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||D("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.Qe.get(e);return n&&n.ve?null:this.qe.ut(e)}Ye(e){this.Qe.set(e,new op),this.qe.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ot(e,n){return this.qe.getRemoteKeysForTarget(e).has(n)}}function ap(){return new ae(M.comparator)}function lp(){return new ae(M.comparator)}const yI=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),_I=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),vI=(()=>({and:"AND",or:"OR"}))();class EI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function mc(t,e){return t.useProto3Json||ba(e)?e:{value:e}}function pa(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function S_(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function wI(t,e){return pa(t,e.toTimestamp())}function Mt(t){return ee(!!t),F.fromTimestamp(function(n){const r=In(n);return new _e(r.seconds,r.nanos)}(t))}function Gh(t,e){return function(r){return new ne(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function A_(t){const e=ne.fromString(t);return ee(k_(e)),e}function gc(t,e){return Gh(t.databaseId,e.path)}function Gl(t,e){const n=A_(e);if(n.get(1)!==t.databaseId.projectId)throw new x(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new x(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new M(C_(n))}function yc(t,e){return Gh(t.databaseId,e)}function TI(t){const e=A_(t);return e.length===4?ne.emptyPath():C_(e)}function _c(t){return new ne(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function C_(t){return ee(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function up(t,e,n){return{name:gc(t,e),fields:n.value.mapValue.fields}}function II(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:O()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(c,h){return c.useProto3Json?(ee(h===void 0||typeof h=="string"),He.fromBase64String(h||"")):(ee(h===void 0||h instanceof Uint8Array),He.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(c){const h=c.code===void 0?w.UNKNOWN:w_(c.code);return new x(h,c.message||"")}(a);n=new I_(r,s,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Gl(t,r.document.name),o=Mt(r.document.updateTime),a=r.document.createTime?Mt(r.document.createTime):F.min(),l=new ct({mapValue:{fields:r.document.fields}}),u=Fe.newFoundDocument(s,o,a,l),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Po(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Gl(t,r.document),o=r.readTime?Mt(r.readTime):F.min(),a=Fe.newNoDocument(s,o),l=r.removedTargetIds||[];n=new Po([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Gl(t,r.document),o=r.removedTargetIds||[];n=new Po([],o,s,null)}else{if(!("filter"in e))return O();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,a=new fI(s,o),l=r.targetId;n=new T_(l,a)}}return n}function SI(t,e){let n;if(e instanceof Ms)n={update:up(t,e.key,e.value)};else if(e instanceof E_)n={delete:gc(t,e.key)};else if(e instanceof nr)n={update:up(t,e.key,e.data),updateMask:xI(e.fieldMask)};else{if(!(e instanceof uI))return O();n={verify:gc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const l=a.transform;if(l instanceof fa)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof gs)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ys)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof da)return{fieldPath:a.field.canonicalString(),increment:l.Te};throw O()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:wI(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:O()}(t,e.precondition)),n}function AI(t,e){return t&&t.length>0?(ee(e!==void 0),t.map(n=>function(s,o){let a=s.updateTime?Mt(s.updateTime):Mt(o);return a.isEqual(F.min())&&(a=Mt(o)),new oI(a,s.transformResults||[])}(n,e))):[]}function CI(t,e){return{documents:[yc(t,e.path)]}}function RI(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=yc(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=yc(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(u){if(u.length!==0)return P_(Lt.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(f){return{field:or(f.field),direction:VI(f.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=mc(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),n}function PI(t){let e=TI(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ee(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(f){const d=R_(f);return d instanceof Lt&&n_(d)?d.getFilters():[d]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(d=>function(_){return new Oi(ar(_.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(d))}(n.orderBy));let l=null;n.limit&&(l=function(f){let d;return d=typeof f=="object"?f.value:f,ba(d)?null:d}(n.limit));let u=null;n.startAt&&(u=function(f){const d=!!f.before,y=f.values||[];return new ha(y,d)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const d=!f.before,y=f.values||[];return new ha(y,d)}(n.endAt)),KT(e,s,a,o,l,"F",u,c)}function kI(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return O()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function R_(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ar(n.unaryFilter.field);return ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ar(n.unaryFilter.field);return ge.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ar(n.unaryFilter.field);return ge.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=ar(n.unaryFilter.field);return ge.create(a,"!=",{nullValue:"NULL_VALUE"});default:return O()}}(t):t.fieldFilter!==void 0?function(n){return ge.create(ar(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return O()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Lt.create(n.compositeFilter.filters.map(r=>R_(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return O()}}(n.compositeFilter.op))}(t):O()}function VI(t){return yI[t]}function DI(t){return _I[t]}function NI(t){return vI[t]}function or(t){return{fieldPath:t.canonicalString()}}function ar(t){return $e.fromServerFormat(t.fieldPath)}function P_(t){return t instanceof ge?function(n){if(n.op==="=="){if(bd(n.value))return{unaryFilter:{field:or(n.field),op:"IS_NAN"}};if(Gd(n.value))return{unaryFilter:{field:or(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(bd(n.value))return{unaryFilter:{field:or(n.field),op:"IS_NOT_NAN"}};if(Gd(n.value))return{unaryFilter:{field:or(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:or(n.field),op:DI(n.op),value:n.value}}}(t):t instanceof Lt?function(n){const r=n.getFilters().map(s=>P_(s));return r.length===1?r[0]:{compositeFilter:{op:NI(n.op),filters:r}}}(t):O()}function xI(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function k_(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,n,r,s,o=F.min(),a=F.min(),l=He.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new an(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new an(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new an(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new an(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e){this.ct=e}}function OI(t){const e=PI({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(){this.sn=new FI}addToCollectionParentIndex(e,n){return this.sn.add(n),I.resolve()}getCollectionParents(e,n){return I.resolve(this.sn.getEntries(n))}addFieldIndex(e,n){return I.resolve()}deleteFieldIndex(e,n){return I.resolve()}getDocumentsMatchingTarget(e,n){return I.resolve(null)}getIndexType(e,n){return I.resolve(0)}getFieldIndexes(e,n){return I.resolve([])}getNextCollectionGroupToUpdate(e){return I.resolve(null)}getMinOffset(e,n){return I.resolve(Tn.min())}getMinOffsetFromCollectionGroup(e,n){return I.resolve(Tn.min())}updateCollectionGroup(e,n,r){return I.resolve()}updateIndexEntries(e,n){return I.resolve()}}class FI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Be(ne.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Be(ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this.Mn=e}next(){return this.Mn+=2,this.Mn}static xn(){return new Kr(0)}static On(){return new Kr(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(){this.changes=new ni(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Fe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?I.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Fi(r.mutation,s,Et.empty(),_e.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,j()).next(()=>r))}getLocalViewOfDocuments(e,n,r=j()){const s=zn();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let a=Ti();return o.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=zn();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,j()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,s){let o=Yt();const a=Li(),l=function(){return Li()}();return n.forEach((u,c)=>{const h=r.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof nr)?o=o.insert(c.key,c):h!==void 0?(a.set(c.key,h.mutation.getFieldMask()),Fi(h.mutation,c,h.mutation.getFieldMask(),_e.now())):a.set(c.key,Et.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,h)=>a.set(c,h)),n.forEach((c,h)=>{var f;return l.set(c,new UI(h,(f=a.get(c))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Li();let s=new ae((a,l)=>a-l),o=j();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||Et.empty();h=l.applyToLocalView(c,h),r.set(u,h);const f=(s.get(l.batchId)||j()).add(u);s=s.insert(l.batchId,f)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,h=u.value,f=h_();h.forEach(d=>{if(!o.has(d)){const y=__(n.get(d),r.get(d));y!==null&&f.set(d,y),o=o.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,f))}return I.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(o){return M.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):GT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const a=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):I.resolve(zn());let l=-1,u=o;return a.next(c=>I.forEach(c,(h,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),o.get(h)?I.resolve():this.remoteDocumentCache.getEntry(e,h).next(d=>{u=u.insert(h,d)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,j())).next(h=>({batchId:l,changes:c_(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new M(n)).next(r=>{let s=Ti();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const s=n.collectionGroup;let o=Ti();return this.indexManager.getCollectionParents(e,s).next(a=>I.forEach(a,l=>{const u=function(h,f){return new Xa(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Fe.newInvalidDocument(c)))});let a=Ti();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Fi(c.mutation,u,Et.empty(),_e.now()),Ja(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e){this.serializer=e,this.ar=new Map,this.ur=new Map}getBundleMetadata(e,n){return I.resolve(this.ar.get(n))}saveBundleMetadata(e,n){return this.ar.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Mt(s.createTime)}}(n)),I.resolve()}getNamedQuery(e,n){return I.resolve(this.ur.get(n))}saveNamedQuery(e,n){return this.ur.set(n.name,function(s){return{name:s.name,query:OI(s.bundledQuery),readTime:Mt(s.readTime)}}(n)),I.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(){this.overlays=new ae(M.comparator),this.cr=new Map}getOverlay(e,n){return I.resolve(this.overlays.get(n))}getOverlays(e,n){const r=zn();return I.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.ht(e,n,o)}),I.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.cr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.cr.delete(r)),I.resolve()}getOverlaysForCollection(e,n,r){const s=zn(),o=n.length+1,a=new M(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&s.set(u.getKey(),u)}return I.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new ae((c,h)=>c-h);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=o.get(c.largestBatchId);h===null&&(h=zn(),o=o.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const l=zn(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>l.set(c,h)),!(l.size()>=s)););return I.resolve(l)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.cr.get(s.largestBatchId).delete(r.key);this.cr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new hI(n,r));let o=this.cr.get(n);o===void 0&&(o=j(),this.cr.set(n,o)),this.cr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(){this.lr=new Be(Ee.hr),this.Pr=new Be(Ee.Ir)}isEmpty(){return this.lr.isEmpty()}addReference(e,n){const r=new Ee(e,n);this.lr=this.lr.add(r),this.Pr=this.Pr.add(r)}Tr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Er(new Ee(e,n))}dr(e,n){e.forEach(r=>this.removeReference(r,n))}Ar(e){const n=new M(new ne([])),r=new Ee(n,e),s=new Ee(n,e+1),o=[];return this.Pr.forEachInRange([r,s],a=>{this.Er(a),o.push(a.key)}),o}Rr(){this.lr.forEach(e=>this.Er(e))}Er(e){this.lr=this.lr.delete(e),this.Pr=this.Pr.delete(e)}Vr(e){const n=new M(new ne([])),r=new Ee(n,e),s=new Ee(n,e+1);let o=j();return this.Pr.forEachInRange([r,s],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new Ee(e,0),r=this.lr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ee{constructor(e,n){this.key=e,this.mr=n}static hr(e,n){return M.comparator(e.key,n.key)||q(e.mr,n.mr)}static Ir(e,n){return q(e.mr,n.mr)||M.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.gr=1,this.pr=new Be(Ee.hr)}checkEmpty(e){return I.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.gr;this.gr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new cI(o,n,r,s);this.mutationQueue.push(a);for(const l of s)this.pr=this.pr.add(new Ee(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return I.resolve(a)}lookupMutationBatch(e,n){return I.resolve(this.yr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.wr(r),o=s<0?0:s;return I.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return I.resolve(this.mutationQueue.length===0?-1:this.gr-1)}getAllMutationBatches(e){return I.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ee(n,0),s=new Ee(n,Number.POSITIVE_INFINITY),o=[];return this.pr.forEachInRange([r,s],a=>{const l=this.yr(a.mr);o.push(l)}),I.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Be(q);return n.forEach(s=>{const o=new Ee(s,0),a=new Ee(s,Number.POSITIVE_INFINITY);this.pr.forEachInRange([o,a],l=>{r=r.add(l.mr)})}),I.resolve(this.Sr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;M.isDocumentKey(o)||(o=o.child(""));const a=new Ee(new M(o),0);let l=new Be(q);return this.pr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(l=l.add(u.mr)),!0)},a),I.resolve(this.Sr(l))}Sr(e){const n=[];return e.forEach(r=>{const s=this.yr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ee(this.br(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.pr;return I.forEach(n.mutations,s=>{const o=new Ee(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.pr=r})}Cn(e){}containsKey(e,n){const r=new Ee(n,0),s=this.pr.firstAfterOrEqual(r);return I.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,I.resolve()}br(e,n){return this.wr(e)}wr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}yr(e){const n=this.wr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.Dr=e,this.docs=function(){return new ae(M.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,a=this.Dr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return I.resolve(r?r.document.mutableCopy():Fe.newInvalidDocument(n))}getEntries(e,n){let r=Yt();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():Fe.newInvalidDocument(s))}),I.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=Yt();const a=n.path,l=new M(a.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||PT(RT(h),r)<=0||(s.has(h.key)||Ja(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return I.resolve(o)}getAllFromCollectionGroup(e,n,r,s){O()}vr(e,n){return I.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new KI(this)}getSize(e){return I.resolve(this.size)}}class KI extends $I{constructor(e){super(),this.sr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.sr.addEntry(e,s)):this.sr.removeEntry(r)}),I.waitFor(n)}getFromCache(e,n){return this.sr.getEntry(e,n)}getAllFromCache(e,n){return this.sr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e){this.persistence=e,this.Cr=new ni(n=>Hh(n),Wh),this.lastRemoteSnapshotVersion=F.min(),this.highestTargetId=0,this.Fr=0,this.Mr=new bh,this.targetCount=0,this.Or=Kr.xn()}forEachTarget(e,n){return this.Cr.forEach((r,s)=>n(s)),I.resolve()}getLastRemoteSnapshotVersion(e){return I.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return I.resolve(this.Fr)}allocateTargetId(e){return this.highestTargetId=this.Or.next(),I.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Fr&&(this.Fr=n),I.resolve()}Ln(e){this.Cr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Or=new Kr(n),this.highestTargetId=n),e.sequenceNumber>this.Fr&&(this.Fr=e.sequenceNumber)}addTargetData(e,n){return this.Ln(n),this.targetCount+=1,I.resolve()}updateTargetData(e,n){return this.Ln(n),I.resolve()}removeTargetData(e,n){return this.Cr.delete(n.target),this.Mr.Ar(n.targetId),this.targetCount-=1,I.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.Cr.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Cr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),I.waitFor(o).next(()=>s)}getTargetCount(e){return I.resolve(this.targetCount)}getTargetData(e,n){const r=this.Cr.get(n)||null;return I.resolve(r)}addMatchingKeys(e,n,r){return this.Mr.Tr(n,r),I.resolve()}removeMatchingKeys(e,n,r){this.Mr.dr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(a=>{o.push(s.markPotentiallyOrphaned(e,a))}),I.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Mr.Ar(n),I.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Mr.Vr(n);return I.resolve(r)}containsKey(e,n){return I.resolve(this.Mr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,n){this.Nr={},this.overlays={},this.Br=new Uh(0),this.Lr=!1,this.Lr=!0,this.referenceDelegate=e(this),this.kr=new qI(this),this.indexManager=new LI,this.remoteDocumentCache=function(s){return new WI(s)}(r=>this.referenceDelegate.qr(r)),this.serializer=new MI(n),this.Qr=new BI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Lr=!1,Promise.resolve()}get started(){return this.Lr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new jI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Nr[e.toKey()];return r||(r=new HI(n,this.referenceDelegate),this.Nr[e.toKey()]=r),r}getTargetCache(){return this.kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Qr}runTransaction(e,n,r){D("MemoryPersistence","Starting transaction:",e);const s=new GI(this.Br.next());return this.referenceDelegate.Kr(),r(s).next(o=>this.referenceDelegate.$r(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ur(e,n){return I.or(Object.values(this.Nr).map(r=>()=>r.containsKey(e,n)))}}class GI extends VT{constructor(e){super(),this.currentSequenceNumber=e}}class Xh{constructor(e){this.persistence=e,this.Wr=new bh,this.Gr=null}static zr(e){return new Xh(e)}get jr(){if(this.Gr)return this.Gr;throw O()}addReference(e,n,r){return this.Wr.addReference(r,n),this.jr.delete(r.toString()),I.resolve()}removeReference(e,n,r){return this.Wr.removeReference(r,n),this.jr.add(r.toString()),I.resolve()}markPotentiallyOrphaned(e,n){return this.jr.add(n.toString()),I.resolve()}removeTarget(e,n){this.Wr.Ar(n.targetId).forEach(s=>this.jr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Kr(){this.Gr=new Set}$r(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return I.forEach(this.jr,r=>{const s=M.fromPath(r);return this.Hr(e,s).next(o=>{o||n.removeEntry(s,F.min())})}).next(()=>(this.Gr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hr(e,n).next(r=>{r?this.jr.delete(n.toString()):this.jr.add(n.toString())})}qr(e){return 0}Hr(e,n){return I.or([()=>I.resolve(this.Wr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ur(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Li=r,this.ki=s}static qi(e,n){let r=j(),s=j();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Yh(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(){this.Qi=!1}initialize(e,n){this.Ki=e,this.indexManager=n,this.Qi=!0}getDocumentsMatchingQuery(e,n,r,s){return this.$i(e,n).next(o=>o||this.Ui(e,n,s,r)).next(o=>o||this.Wi(e,n))}$i(e,n){if(Zd(n))return I.resolve(null);let r=Xt(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=dc(n,null,"F"),r=Xt(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=j(...o);return this.Ki.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Gi(n,l);return this.zi(n,c,a,u.readTime)?this.$i(e,dc(n,null,"F")):this.ji(e,c,n,u)}))})))}Ui(e,n,r,s){return Zd(n)||s.isEqual(F.min())?this.Wi(e,n):this.Ki.getDocuments(e,r).next(o=>{const a=this.Gi(n,o);return this.zi(n,a,r,s)?this.Wi(e,n):(Wd()<=Q.DEBUG&&D("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),pc(n)),this.ji(e,a,n,CT(s,-1)))})}Gi(e,n){let r=new Be(l_(e));return n.forEach((s,o)=>{Ja(e,o)&&(r=r.add(o))}),r}zi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Wi(e,n){return Wd()<=Q.DEBUG&&D("QueryEngine","Using full collection scan to execute query:",pc(n)),this.Ki.getDocumentsMatchingQuery(e,n,Tn.min())}ji(e,n,r,s){return this.Ki.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,n,r,s){this.persistence=e,this.Hi=n,this.serializer=s,this.Ji=new ae(q),this.Yi=new ni(o=>Hh(o),Wh),this.Zi=new Map,this.Xi=e.getRemoteDocumentCache(),this.kr=e.getTargetCache(),this.Qr=e.getBundleCache(),this.es(r)}es(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zI(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function YI(t,e,n,r){return new XI(t,e,n,r)}async function V_(t,e){const n=$(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.es(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],l=[];let u=j();for(const c of s){a.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of o){l.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({ts:c,removedBatchIds:a,addedBatchIds:l}))})})}function JI(t,e){const n=$(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=n.Xi.newChangeBuffer({trackRemovals:!0});return function(l,u,c,h){const f=c.batch,d=f.keys();let y=I.resolve();return d.forEach(_=>{y=y.next(()=>h.getEntry(u,_)).next(v=>{const C=c.docVersions.get(_);ee(C!==null),v.version.compareTo(C)<0&&(f.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),h.addEntry(v)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(u,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=j();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function D_(t){const e=$(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.kr.getLastRemoteSnapshotVersion(n))}function ZI(t,e){const n=$(t),r=e.snapshotVersion;let s=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.Xi.newChangeBuffer({trackRemovals:!0});s=n.Ji;const l=[];e.targetChanges.forEach((h,f)=>{const d=s.get(f);if(!d)return;l.push(n.kr.removeMatchingKeys(o,h.removedDocuments,f).next(()=>n.kr.addMatchingKeys(o,h.addedDocuments,f)));let y=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(He.EMPTY_BYTE_STRING,F.min()).withLastLimboFreeSnapshotVersion(F.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),s=s.insert(f,y),function(v,C,m){return v.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(d,y,h)&&l.push(n.kr.updateTargetData(o,y))});let u=Yt(),c=j();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),l.push(eS(o,a,e.documentUpdates).next(h=>{u=h.ns,c=h.rs})),!r.isEqual(F.min())){const h=n.kr.getLastRemoteSnapshotVersion(o).next(f=>n.kr.setTargetsMetadata(o,o.currentSequenceNumber,r));l.push(h)}return I.waitFor(l).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.Ji=s,o))}function eS(t,e,n){let r=j(),s=j();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=Yt();return n.forEach((l,u)=>{const c=o.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(l)),u.isNoDocument()&&u.version.isEqual(F.min())?(e.removeEntry(l,u.readTime),a=a.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),a=a.insert(l,u)):D("LocalStore","Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{ns:a,rs:s}})}function tS(t,e){const n=$(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function nS(t,e){const n=$(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.kr.getTargetData(r,e).next(o=>o?(s=o,I.resolve(s)):n.kr.allocateTargetId(r).next(a=>(s=new an(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.kr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ji.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function vc(t,e,n){const r=$(t),s=r.Ji.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!xs(a))throw a;D("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(s.target)}function cp(t,e,n){const r=$(t);let s=F.min(),o=j();return r.persistence.runTransaction("Execute query","readonly",a=>function(u,c,h){const f=$(u),d=f.Yi.get(h);return d!==void 0?I.resolve(f.Ji.get(d)):f.kr.getTargetData(c,h)}(r,a,Xt(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.kr.getMatchingKeysForTargetId(a,l.targetId).next(u=>{o=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(a,e,n?s:F.min(),n?o:j())).next(l=>(rS(r,bT(e),l),{documents:l,ss:o})))}function rS(t,e,n){let r=t.Zi.get(e)||F.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Zi.set(e,r)}class hp{constructor(){this.activeTargetIds=tI()}hs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ps(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ls(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iS{constructor(){this.Hs=new hp,this.Js={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hs.hs(e),this.Js[e]||"not-current"}updateQueryState(e,n,r){this.Js[e]=n}removeLocalQueryTarget(e){this.Hs.Ps(e)}isLocalQueryTarget(e){return this.Hs.activeTargetIds.has(e)}clearQueryState(e){delete this.Js[e]}getAllActiveQueryTargets(){return this.Hs.activeTargetIds}isActiveQueryTarget(e){return this.Hs.activeTargetIds.has(e)}start(){return this.Hs=new hp,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{Ys(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(){this.Zs=()=>this.Xs(),this.eo=()=>this.no(),this.ro=[],this.io()}Ys(e){this.ro.push(e)}shutdown(){window.removeEventListener("online",this.Zs),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Zs),window.addEventListener("offline",this.eo)}Xs(){D("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ro)e(0)}no(){D("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ro)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ho=null;function bl(){return ho===null?ho=function(){return 268435456+Math.round(2147483648*Math.random())}():ho++,"0x"+ho.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e){this.so=e.so,this.oo=e.oo}_o(e){this.ao=e}uo(e){this.co=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.so(e)}ho(){this.ao()}Po(e){this.co(e)}Io(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Me="WebChannelConnection";class lS extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.To=r+"://"+n.host,this.Eo=`projects/${s}/databases/${o}`,this.Ao=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${o}`}get Ro(){return!1}Vo(n,r,s,o,a){const l=bl(),u=this.mo(n,r);D("RestConnection",`Sending RPC '${n}' ${l}:`,u,s);const c={"google-cloud-resource-prefix":this.Eo,"x-goog-request-params":this.Ao};return this.fo(c,o,a),this.po(n,u,c,s).then(h=>(D("RestConnection",`Received RPC '${n}' ${l}: `,h),h),h=>{throw Br("RestConnection",`RPC '${n}' ${l} failed with error: `,h,"url: ",u,"request:",s),h})}yo(n,r,s,o,a,l){return this.Vo(n,r,s,o,a)}fo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ei}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,a)=>n[a]=o),s&&s.headers.forEach((o,a)=>n[a]=o)}mo(n,r){const s=oS[n];return`${this.To}/v1/${r}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}po(e,n,r,s){const o=bl();return new Promise((a,l)=>{const u=new mT;u.setWithCredentials(!0),u.listenOnce(fT.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ql.NO_ERROR:const h=u.getResponseJson();D(Me,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case Ql.TIMEOUT:D(Me,`RPC '${e}' ${o} timed out`),l(new x(w.DEADLINE_EXCEEDED,"Request time out"));break;case Ql.HTTP_ERROR:const f=u.getStatus();if(D(Me,`RPC '${e}' ${o} failed with status:`,f,"response text:",u.getResponseText()),f>0){let d=u.getResponseJson();Array.isArray(d)&&(d=d[0]);const y=d==null?void 0:d.error;if(y&&y.status&&y.message){const _=function(C){const m=C.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(m)>=0?m:w.UNKNOWN}(y.status);l(new x(_,y.message))}else l(new x(w.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new x(w.UNAVAILABLE,"Connection failed."));break;default:O()}}finally{D(Me,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(s);D(Me,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",c,r,15)})}wo(e,n,r){const s=bl(),o=[this.To,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=cT(),l=hT(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new pT({})),this.fo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=o.join("");D(Me,`Creating RPC '${e}' stream ${s}: ${h}`,u);const f=a.createWebChannel(h,u);let d=!1,y=!1;const _=new aS({so:C=>{y?D(Me,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(d||(D(Me,`Opening RPC '${e}' stream ${s} transport.`),f.open(),d=!0),D(Me,`RPC '${e}' stream ${s} sending:`,C),f.send(C))},oo:()=>f.close()}),v=(C,m,p)=>{C.listen(m,g=>{try{p(g)}catch(E){setTimeout(()=>{throw E},0)}})};return v(f,ao.EventType.OPEN,()=>{y||D(Me,`RPC '${e}' stream ${s} transport opened.`)}),v(f,ao.EventType.CLOSE,()=>{y||(y=!0,D(Me,`RPC '${e}' stream ${s} transport closed`),_.Po())}),v(f,ao.EventType.ERROR,C=>{y||(y=!0,Br(Me,`RPC '${e}' stream ${s} transport errored:`,C),_.Po(new x(w.UNAVAILABLE,"The operation could not be completed")))}),v(f,ao.EventType.MESSAGE,C=>{var m;if(!y){const p=C.data[0];ee(!!p);const g=p,E=g.error||((m=g[0])===null||m===void 0?void 0:m.error);if(E){D(Me,`RPC '${e}' stream ${s} received error:`,E);const A=E.status;let R=function(re){const z=fe[re];if(z!==void 0)return w_(z)}(A),V=E.message;R===void 0&&(R=w.INTERNAL,V="Unknown error status: "+A+" with message "+E.message),y=!0,_.Po(new x(R,V)),f.close()}else D(Me,`RPC '${e}' stream ${s} received:`,p),_.Io(p)}}),v(l,dT.STAT_EVENT,C=>{C.stat===jd.PROXY?D(Me,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===jd.NOPROXY&&D(Me,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_.ho()},0),_}}function Xl(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(t){return new EI(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,n,r=1e3,s=1.5,o=6e4){this.ii=e,this.timerId=n,this.So=r,this.bo=s,this.Do=o,this.vo=0,this.Co=null,this.Fo=Date.now(),this.reset()}reset(){this.vo=0}Mo(){this.vo=this.Do}xo(e){this.cancel();const n=Math.floor(this.vo+this.Oo()),r=Math.max(0,Date.now()-this.Fo),s=Math.max(0,n-r);s>0&&D("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.vo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Co=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Fo=Date.now(),e())),this.vo*=this.bo,this.vo<this.So&&(this.vo=this.So),this.vo>this.Do&&(this.vo=this.Do)}No(){this.Co!==null&&(this.Co.skipDelay(),this.Co=null)}cancel(){this.Co!==null&&(this.Co.cancel(),this.Co=null)}Oo(){return(Math.random()-.5)*this.vo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e,n,r,s,o,a,l,u){this.ii=e,this.Bo=r,this.Lo=s,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.ko=0,this.qo=null,this.Qo=null,this.stream=null,this.Ko=new N_(e,n)}$o(){return this.state===1||this.state===5||this.Uo()}Uo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Wo()}async stop(){this.$o()&&await this.close(0)}Go(){this.state=0,this.Ko.reset()}zo(){this.Uo()&&this.qo===null&&(this.qo=this.ii.enqueueAfterDelay(this.Bo,6e4,()=>this.jo()))}Ho(e){this.Jo(),this.stream.send(e)}async jo(){if(this.Uo())return this.close(0)}Jo(){this.qo&&(this.qo.cancel(),this.qo=null)}Yo(){this.Qo&&(this.Qo.cancel(),this.Qo=null)}async close(e,n){this.Jo(),this.Yo(),this.Ko.cancel(),this.ko++,e!==4?this.Ko.reset():n&&n.code===w.RESOURCE_EXHAUSTED?(bt(n.toString()),bt("Using maximum backoff delay to prevent overloading the backend."),this.Ko.Mo()):n&&n.code===w.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Zo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.uo(n)}Zo(){}auth(){this.state=1;const e=this.Xo(this.ko),n=this.ko;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.ko===n&&this.e_(r,s)},r=>{e(()=>{const s=new x(w.UNKNOWN,"Fetching auth token failed: "+r.message);return this.t_(s)})})}e_(e,n){const r=this.Xo(this.ko);this.stream=this.n_(e,n),this.stream._o(()=>{r(()=>(this.state=2,this.Qo=this.ii.enqueueAfterDelay(this.Lo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener._o()))}),this.stream.uo(s=>{r(()=>this.t_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Wo(){this.state=5,this.Ko.xo(async()=>{this.state=0,this.start()})}t_(e){return D("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.ko===e?n():(D("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uS extends x_{constructor(e,n,r,s,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=o}n_(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.Ko.reset();const n=II(this.serializer,e),r=function(o){if(!("targetChange"in o))return F.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?F.min():a.readTime?Mt(a.readTime):F.min()}(e);return this.listener.r_(n,r)}i_(e){const n={};n.database=_c(this.serializer),n.addTarget=function(o,a){let l;const u=a.target;if(l=fc(u)?{documents:CI(o,u)}:{query:RI(o,u)},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=S_(o,a.resumeToken);const c=mc(o,a.expectedCount);c!==null&&(l.expectedCount=c)}else if(a.snapshotVersion.compareTo(F.min())>0){l.readTime=pa(o,a.snapshotVersion.toTimestamp());const c=mc(o,a.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const r=kI(this.serializer,e);r&&(n.labels=r),this.Ho(n)}s_(e){const n={};n.database=_c(this.serializer),n.removeTarget=e,this.Ho(n)}}class cS extends x_{constructor(e,n,r,s,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=o,this.o_=!1}get __(){return this.o_}start(){this.o_=!1,this.lastStreamToken=void 0,super.start()}Zo(){this.o_&&this.a_([])}n_(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(ee(!!e.streamToken),this.lastStreamToken=e.streamToken,this.o_){this.Ko.reset();const n=AI(e.writeResults,e.commitTime),r=Mt(e.commitTime);return this.listener.u_(r,n)}return ee(!e.writeResults||e.writeResults.length===0),this.o_=!0,this.listener.c_()}l_(){const e={};e.database=_c(this.serializer),this.Ho(e)}a_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>SI(this.serializer,r))};this.Ho(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.h_=!1}P_(){if(this.h_)throw new x(w.FAILED_PRECONDITION,"The client has already been terminated.")}Vo(e,n,r){return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Vo(e,n,r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new x(w.UNKNOWN,s.toString())})}yo(e,n,r,s){return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.yo(e,n,r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new x(w.UNKNOWN,o.toString())})}terminate(){this.h_=!0}}class fS{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.T_=0,this.E_=null,this.d_=!0}A_(){this.T_===0&&(this.R_("Unknown"),this.E_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.E_=null,this.V_("Backend didn't respond within 10 seconds."),this.R_("Offline"),Promise.resolve())))}m_(e){this.state==="Online"?this.R_("Unknown"):(this.T_++,this.T_>=1&&(this.f_(),this.V_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.R_("Offline")))}set(e){this.f_(),this.T_=0,e==="Online"&&(this.d_=!1),this.R_(e)}R_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}V_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.d_?(bt(n),this.d_=!1):D("OnlineStateTracker",n)}f_(){this.E_!==null&&(this.E_.cancel(),this.E_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.g_=[],this.p_=new Map,this.y_=new Set,this.w_=[],this.S_=o,this.S_.Ys(a=>{r.enqueueAndForget(async()=>{rr(this)&&(D("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=$(u);c.y_.add(4),await Ls(c),c.b_.set("Unknown"),c.y_.delete(4),await rl(c)}(this))})}),this.b_=new fS(r,s)}}async function rl(t){if(rr(t))for(const e of t.w_)await e(!0)}async function Ls(t){for(const e of t.w_)await e(!1)}function M_(t,e){const n=$(t);n.p_.has(e.targetId)||(n.p_.set(e.targetId,e),ef(n)?Zh(n):ri(n).Uo()&&Jh(n,e))}function O_(t,e){const n=$(t),r=ri(n);n.p_.delete(e),r.Uo()&&L_(n,e),n.p_.size===0&&(r.Uo()?r.zo():rr(n)&&n.b_.set("Unknown"))}function Jh(t,e){if(t.D_.Be(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(F.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ri(t).i_(e)}function L_(t,e){t.D_.Be(e),ri(t).s_(e)}function Zh(t){t.D_=new gI({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.p_.get(e)||null,rt:()=>t.datastore.serializer.databaseId}),ri(t).start(),t.b_.A_()}function ef(t){return rr(t)&&!ri(t).$o()&&t.p_.size>0}function rr(t){return $(t).y_.size===0}function F_(t){t.D_=void 0}async function pS(t){t.p_.forEach((e,n)=>{Jh(t,e)})}async function mS(t,e){F_(t),ef(t)?(t.b_.m_(e),Zh(t)):t.b_.set("Unknown")}async function gS(t,e,n){if(t.b_.set("Online"),e instanceof I_&&e.state===2&&e.cause)try{await async function(s,o){const a=o.cause;for(const l of o.targetIds)s.p_.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.p_.delete(l),s.D_.removeTarget(l))}(t,e)}catch(r){D("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ma(t,r)}else if(e instanceof Po?t.D_.We(e):e instanceof T_?t.D_.Ze(e):t.D_.je(e),!n.isEqual(F.min()))try{const r=await D_(t.localStore);n.compareTo(r)>=0&&await function(o,a){const l=o.D_.st(a);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=o.p_.get(c);h&&o.p_.set(c,h.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,c)=>{const h=o.p_.get(u);if(!h)return;o.p_.set(u,h.withResumeToken(He.EMPTY_BYTE_STRING,h.snapshotVersion)),L_(o,u);const f=new an(h.target,u,c,h.sequenceNumber);Jh(o,f)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){D("RemoteStore","Failed to raise snapshot:",r),await ma(t,r)}}async function ma(t,e,n){if(!xs(e))throw e;t.y_.add(1),await Ls(t),t.b_.set("Offline"),n||(n=()=>D_(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{D("RemoteStore","Retrying IndexedDB access"),await n(),t.y_.delete(1),await rl(t)})}function $_(t,e){return e().catch(n=>ma(t,n,e))}async function il(t){const e=$(t),n=Sn(e);let r=e.g_.length>0?e.g_[e.g_.length-1].batchId:-1;for(;yS(e);)try{const s=await tS(e.localStore,r);if(s===null){e.g_.length===0&&n.zo();break}r=s.batchId,_S(e,s)}catch(s){await ma(e,s)}U_(e)&&z_(e)}function yS(t){return rr(t)&&t.g_.length<10}function _S(t,e){t.g_.push(e);const n=Sn(t);n.Uo()&&n.__&&n.a_(e.mutations)}function U_(t){return rr(t)&&!Sn(t).$o()&&t.g_.length>0}function z_(t){Sn(t).start()}async function vS(t){Sn(t).l_()}async function ES(t){const e=Sn(t);for(const n of t.g_)e.a_(n.mutations)}async function wS(t,e,n){const r=t.g_.shift(),s=Kh.from(r,e,n);await $_(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await il(t)}async function TS(t,e){e&&Sn(t).__&&await async function(r,s){if(function(a){return dI(a)&&a!==w.ABORTED}(s.code)){const o=r.g_.shift();Sn(r).Go(),await $_(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await il(r)}}(t,e),U_(t)&&z_(t)}async function dp(t,e){const n=$(t);n.asyncQueue.verifyOperationInProgress(),D("RemoteStore","RemoteStore received new credentials");const r=rr(n);n.y_.add(3),await Ls(n),r&&n.b_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.y_.delete(3),await rl(n)}async function IS(t,e){const n=$(t);e?(n.y_.delete(2),await rl(n)):e||(n.y_.add(2),await Ls(n),n.b_.set("Unknown"))}function ri(t){return t.v_||(t.v_=function(n,r,s){const o=$(n);return o.P_(),new uS(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{_o:pS.bind(null,t),uo:mS.bind(null,t),r_:gS.bind(null,t)}),t.w_.push(async e=>{e?(t.v_.Go(),ef(t)?Zh(t):t.b_.set("Unknown")):(await t.v_.stop(),F_(t))})),t.v_}function Sn(t){return t.C_||(t.C_=function(n,r,s){const o=$(n);return o.P_(),new cS(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{_o:vS.bind(null,t),uo:TS.bind(null,t),c_:ES.bind(null,t),u_:wS.bind(null,t)}),t.w_.push(async e=>{e?(t.C_.Go(),await il(t)):(await t.C_.stop(),t.g_.length>0&&(D("RemoteStore",`Stopping write stream with ${t.g_.length} pending writes`),t.g_=[]))})),t.C_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new _n,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(e,n,r,s,o){const a=Date.now()+r,l=new tf(e,n,a,s,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new x(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nf(t,e){if(bt("AsyncQueue",`${e}: ${t}`),xs(t))return new x(w.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this.comparator=e?(n,r)=>e(n,r)||M.comparator(n.key,r.key):(n,r)=>M.comparator(n.key,r.key),this.keyedMap=Ti(),this.sortedSet=new ae(this.comparator)}static emptySet(e){return new Dr(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Dr)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Dr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(){this.F_=new ae(M.comparator)}track(e){const n=e.doc.key,r=this.F_.get(n);r?e.type!==0&&r.type===3?this.F_=this.F_.insert(n,e):e.type===3&&r.type!==1?this.F_=this.F_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.F_=this.F_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.F_=this.F_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.F_=this.F_.remove(n):e.type===1&&r.type===2?this.F_=this.F_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.F_=this.F_.insert(n,{type:2,doc:e.doc}):O():this.F_=this.F_.insert(n,e)}M_(){const e=[];return this.F_.inorderTraversal((n,r)=>{e.push(r)}),e}}class qr{constructor(e,n,r,s,o,a,l,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,o){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new qr(e,n,Dr.emptySet(n),a,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ya(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(){this.x_=void 0,this.listeners=[]}}class AS{constructor(){this.queries=new ni(e=>a_(e),Ya),this.onlineState="Unknown",this.O_=new Set}}async function CS(t,e){const n=$(t),r=e.query;let s=!1,o=n.queries.get(r);if(o||(s=!0,o=new SS),s)try{o.x_=await n.onListen(r)}catch(a){const l=nf(a,`Initialization of query '${pc(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,o),o.listeners.push(e),e.N_(n.onlineState),o.x_&&e.B_(o.x_)&&rf(n)}async function RS(t,e){const n=$(t),r=e.query;let s=!1;const o=n.queries.get(r);if(o){const a=o.listeners.indexOf(e);a>=0&&(o.listeners.splice(a,1),s=o.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function PS(t,e){const n=$(t);let r=!1;for(const s of e){const o=s.query,a=n.queries.get(o);if(a){for(const l of a.listeners)l.B_(s)&&(r=!0);a.x_=s}}r&&rf(n)}function kS(t,e,n){const r=$(t),s=r.queries.get(e);if(s)for(const o of s.listeners)o.onError(n);r.queries.delete(e)}function rf(t){t.O_.forEach(e=>{e.next()})}class VS{constructor(e,n,r){this.query=e,this.L_=n,this.k_=!1,this.q_=null,this.onlineState="Unknown",this.options=r||{}}B_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new qr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.k_?this.Q_(e)&&(this.L_.next(e),n=!0):this.K_(e,this.onlineState)&&(this.U_(e),n=!0),this.q_=e,n}onError(e){this.L_.error(e)}N_(e){this.onlineState=e;let n=!1;return this.q_&&!this.k_&&this.K_(this.q_,e)&&(this.U_(this.q_),n=!0),n}K_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.W_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Q_(e){if(e.docChanges.length>0)return!0;const n=this.q_&&this.q_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}U_(e){e=qr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.k_=!0,this.L_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e){this.key=e}}class j_{constructor(e){this.key=e}}class DS{constructor(e,n){this.query=e,this.X_=n,this.ea=null,this.hasCachedResults=!1,this.current=!1,this.ta=j(),this.mutatedKeys=j(),this.na=l_(e),this.ra=new Dr(this.na)}get ia(){return this.X_}sa(e,n){const r=n?n.oa:new pp,s=n?n.ra:this.ra;let o=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const d=s.get(h),y=Ja(this.query,f)?f:null,_=!!d&&this.mutatedKeys.has(d.key),v=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let C=!1;d&&y?d.data.isEqual(y.data)?_!==v&&(r.track({type:3,doc:y}),C=!0):this._a(d,y)||(r.track({type:2,doc:y}),C=!0,(u&&this.na(y,u)>0||c&&this.na(y,c)<0)&&(l=!0)):!d&&y?(r.track({type:0,doc:y}),C=!0):d&&!y&&(r.track({type:1,doc:d}),C=!0,(u||c)&&(l=!0)),C&&(y?(a=a.add(y),o=v?o.add(h):o.delete(h)):(a=a.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{ra:a,oa:r,zi:l,mutatedKeys:o}}_a(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.ra;this.ra=e.ra,this.mutatedKeys=e.mutatedKeys;const o=e.oa.M_();o.sort((c,h)=>function(d,y){const _=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return O()}};return _(d)-_(y)}(c.type,h.type)||this.na(c.doc,h.doc)),this.aa(r);const a=n?this.ua():[],l=this.ta.size===0&&this.current?1:0,u=l!==this.ea;return this.ea=l,o.length!==0||u?{snapshot:new qr(this.query,e.ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ca:a}:{ca:a}}N_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ra:this.ra,oa:new pp,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{ca:[]}}la(e){return!this.X_.has(e)&&!!this.ra.has(e)&&!this.ra.get(e).hasLocalMutations}aa(e){e&&(e.addedDocuments.forEach(n=>this.X_=this.X_.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.X_=this.X_.delete(n)),this.current=e.current)}ua(){if(!this.current)return[];const e=this.ta;this.ta=j(),this.ra.forEach(r=>{this.la(r.key)&&(this.ta=this.ta.add(r.key))});const n=[];return e.forEach(r=>{this.ta.has(r)||n.push(new j_(r))}),this.ta.forEach(r=>{e.has(r)||n.push(new B_(r))}),n}ha(e){this.X_=e.ss,this.ta=j();const n=this.sa(e.documents);return this.applyChanges(n,!0)}Pa(){return qr.fromInitialDocuments(this.query,this.ra,this.mutatedKeys,this.ea===0,this.hasCachedResults)}}class NS{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class xS{constructor(e){this.key=e,this.Ia=!1}}class MS{constructor(e,n,r,s,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ta={},this.Ea=new ni(l=>a_(l),Ya),this.da=new Map,this.Aa=new Set,this.Ra=new ae(M.comparator),this.Va=new Map,this.ma=new bh,this.fa={},this.ga=new Map,this.pa=Kr.On(),this.onlineState="Unknown",this.ya=void 0}get isPrimaryClient(){return this.ya===!0}}async function OS(t,e){const n=KS(t);let r,s;const o=n.Ea.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),s=o.view.Pa();else{const a=await nS(n.localStore,Xt(e)),l=n.sharedClientState.addLocalQueryTarget(a.targetId);r=a.targetId,s=await LS(n,e,r,l==="current",a.resumeToken),n.isPrimaryClient&&M_(n.remoteStore,a)}return s}async function LS(t,e,n,r,s){t.wa=(f,d,y)=>async function(v,C,m,p){let g=C.view.sa(m);g.zi&&(g=await cp(v.localStore,C.query,!1).then(({documents:R})=>C.view.sa(R,g)));const E=p&&p.targetChanges.get(C.targetId),A=C.view.applyChanges(g,v.isPrimaryClient,E);return gp(v,C.targetId,A.ca),A.snapshot}(t,f,d,y);const o=await cp(t.localStore,e,!0),a=new DS(e,o.ss),l=a.sa(o.documents),u=Os.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=a.applyChanges(l,t.isPrimaryClient,u);gp(t,n,c.ca);const h=new NS(e,n,a);return t.Ea.set(e,h),t.da.has(n)?t.da.get(n).push(e):t.da.set(n,[e]),c.snapshot}async function FS(t,e){const n=$(t),r=n.Ea.get(e),s=n.da.get(r.targetId);if(s.length>1)return n.da.set(r.targetId,s.filter(o=>!Ya(o,e))),void n.Ea.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await vc(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),O_(n.remoteStore,r.targetId),Ec(n,r.targetId)}).catch(Ns)):(Ec(n,r.targetId),await vc(n.localStore,r.targetId,!0))}async function $S(t,e,n){const r=qS(t);try{const s=await function(a,l){const u=$(a),c=_e.now(),h=l.reduce((y,_)=>y.add(_.key),j());let f,d;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let _=Yt(),v=j();return u.Xi.getEntries(y,h).next(C=>{_=C,_.forEach((m,p)=>{p.isValidDocument()||(v=v.add(m))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,_)).next(C=>{f=C;const m=[];for(const p of l){const g=lI(p,f.get(p.key).overlayedDocument);g!=null&&m.push(new nr(p.key,g,Zy(g.value.mapValue),Ht.exists(!0)))}return u.mutationQueue.addMutationBatch(y,c,m,l)}).next(C=>{d=C;const m=C.applyToLocalDocumentSet(f,v);return u.documentOverlayCache.saveOverlays(y,C.batchId,m)})}).then(()=>({batchId:d.batchId,changes:c_(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,l,u){let c=a.fa[a.currentUser.toKey()];c||(c=new ae(q)),c=c.insert(l,u),a.fa[a.currentUser.toKey()]=c}(r,s.batchId,n),await Fs(r,s.changes),await il(r.remoteStore)}catch(s){const o=nf(s,"Failed to persist write");n.reject(o)}}async function H_(t,e){const n=$(t);try{const r=await ZI(n.localStore,e);e.targetChanges.forEach((s,o)=>{const a=n.Va.get(o);a&&(ee(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?a.Ia=!0:s.modifiedDocuments.size>0?ee(a.Ia):s.removedDocuments.size>0&&(ee(a.Ia),a.Ia=!1))}),await Fs(n,r,e)}catch(r){await Ns(r)}}function mp(t,e,n){const r=$(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Ea.forEach((o,a)=>{const l=a.view.N_(e);l.snapshot&&s.push(l.snapshot)}),function(a,l){const u=$(a);u.onlineState=l;let c=!1;u.queries.forEach((h,f)=>{for(const d of f.listeners)d.N_(l)&&(c=!0)}),c&&rf(u)}(r.eventManager,e),s.length&&r.Ta.r_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function US(t,e,n){const r=$(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Va.get(e),o=s&&s.key;if(o){let a=new ae(M.comparator);a=a.insert(o,Fe.newNoDocument(o,F.min()));const l=j().add(o),u=new tl(F.min(),new Map,new ae(q),a,l);await H_(r,u),r.Ra=r.Ra.remove(o),r.Va.delete(e),sf(r)}else await vc(r.localStore,e,!1).then(()=>Ec(r,e,n)).catch(Ns)}async function zS(t,e){const n=$(t),r=e.batch.batchId;try{const s=await JI(n.localStore,e);K_(n,r,null),W_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Fs(n,s)}catch(s){await Ns(s)}}async function BS(t,e,n){const r=$(t);try{const s=await function(a,l){const u=$(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,l).next(f=>(ee(f!==null),h=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(r.localStore,e);K_(r,e,n),W_(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Fs(r,s)}catch(s){await Ns(s)}}function W_(t,e){(t.ga.get(e)||[]).forEach(n=>{n.resolve()}),t.ga.delete(e)}function K_(t,e,n){const r=$(t);let s=r.fa[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.fa[r.currentUser.toKey()]=s}}function Ec(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.da.get(e))t.Ea.delete(r),n&&t.Ta.Sa(r,n);t.da.delete(e),t.isPrimaryClient&&t.ma.Ar(e).forEach(r=>{t.ma.containsKey(r)||q_(t,r)})}function q_(t,e){t.Aa.delete(e.path.canonicalString());const n=t.Ra.get(e);n!==null&&(O_(t.remoteStore,n),t.Ra=t.Ra.remove(e),t.Va.delete(n),sf(t))}function gp(t,e,n){for(const r of n)r instanceof B_?(t.ma.addReference(r.key,e),jS(t,r)):r instanceof j_?(D("SyncEngine","Document no longer in limbo: "+r.key),t.ma.removeReference(r.key,e),t.ma.containsKey(r.key)||q_(t,r.key)):O()}function jS(t,e){const n=e.key,r=n.path.canonicalString();t.Ra.get(n)||t.Aa.has(r)||(D("SyncEngine","New document in limbo: "+n),t.Aa.add(r),sf(t))}function sf(t){for(;t.Aa.size>0&&t.Ra.size<t.maxConcurrentLimboResolutions;){const e=t.Aa.values().next().value;t.Aa.delete(e);const n=new M(ne.fromString(e)),r=t.pa.next();t.Va.set(r,new xS(n)),t.Ra=t.Ra.insert(n,r),M_(t.remoteStore,new an(Xt(o_(n.path)),r,"TargetPurposeLimboResolution",Uh.ae))}}async function Fs(t,e,n){const r=$(t),s=[],o=[],a=[];r.Ea.isEmpty()||(r.Ea.forEach((l,u)=>{a.push(r.wa(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c!=null&&c.fromCache?"not-current":"current"),c){s.push(c);const h=Yh.qi(u.targetId,c);o.push(h)}}))}),await Promise.all(a),r.Ta.r_(s),await async function(u,c){const h=$(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>I.forEach(c,d=>I.forEach(d.Li,y=>h.persistence.referenceDelegate.addReference(f,d.targetId,y)).next(()=>I.forEach(d.ki,y=>h.persistence.referenceDelegate.removeReference(f,d.targetId,y)))))}catch(f){if(!xs(f))throw f;D("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const d=f.targetId;if(!f.fromCache){const y=h.Ji.get(d),_=y.snapshotVersion,v=y.withLastLimboFreeSnapshotVersion(_);h.Ji=h.Ji.insert(d,v)}}}(r.localStore,o))}async function HS(t,e){const n=$(t);if(!n.currentUser.isEqual(e)){D("SyncEngine","User change. New user:",e.toKey());const r=await V_(n.localStore,e);n.currentUser=e,function(o,a){o.ga.forEach(l=>{l.forEach(u=>{u.reject(new x(w.CANCELLED,a))})}),o.ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Fs(n,r.ts)}}function WS(t,e){const n=$(t),r=n.Va.get(e);if(r&&r.Ia)return j().add(r.key);{let s=j();const o=n.da.get(e);if(!o)return s;for(const a of o){const l=n.Ea.get(a);s=s.unionWith(l.view.ia)}return s}}function KS(t){const e=$(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=H_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=US.bind(null,e),e.Ta.r_=PS.bind(null,e.eventManager),e.Ta.Sa=kS.bind(null,e.eventManager),e}function qS(t){const e=$(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BS.bind(null,e),e}class yp{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=nl(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return YI(this.persistence,new bI,e.initialUser,this.serializer)}createPersistence(e){return new QI(Xh.zr,this.serializer)}createSharedClientState(e){return new iS}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class QS{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>mp(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=HS.bind(null,this.syncEngine),await IS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new AS}()}createDatastore(e){const n=nl(e.databaseInfo.databaseId),r=function(o){return new lS(o)}(e.databaseInfo);return function(o,a,l,u){return new hS(o,a,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,o,a,l){return new dS(r,s,o,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>mp(this.syncEngine,n,0),function(){return fp.v()?new fp:new sS}())}createSyncEngine(e,n){return function(s,o,a,l,u,c,h){const f=new MS(s,o,a,l,u,c);return h&&(f.ya=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=$(n);D("RemoteStore","RemoteStore shutting down."),r.y_.add(5),await Ls(r),r.S_.shutdown(),r.b_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.va(this.observer.next,e)}error(e){this.observer.error?this.va(this.observer.error,e):bt("Uncaught Error in snapshot listener:",e.toString())}Ca(){this.muted=!0}va(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Oe.UNAUTHENTICATED,this.clientId=Xy.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{D("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(D("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new x(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _n;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=nf(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Yl(t,e){t.asyncQueue.verifyOperationInProgress(),D("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await V_(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function _p(t,e){t.asyncQueue.verifyOperationInProgress();const n=await YS(t);D("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>dp(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,o)=>dp(e.remoteStore,o)),t._onlineComponents=e}function XS(t){return t.name==="FirebaseError"?t.code===w.FAILED_PRECONDITION||t.code===w.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function YS(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){D("FirestoreClient","Using user provided OfflineComponentProvider");try{await Yl(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!XS(n))throw n;Br("Error using user provided cache. Falling back to memory cache: "+n),await Yl(t,new yp)}}else D("FirestoreClient","Using default OfflineComponentProvider"),await Yl(t,new yp);return t._offlineComponents}async function Q_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(D("FirestoreClient","Using user provided OnlineComponentProvider"),await _p(t,t._uninitializedComponentsProvider._online)):(D("FirestoreClient","Using default OnlineComponentProvider"),await _p(t,new QS))),t._onlineComponents}function JS(t){return Q_(t).then(e=>e.syncEngine)}async function ZS(t){const e=await Q_(t),n=e.eventManager;return n.onListen=OS.bind(null,e.syncEngine),n.onUnlisten=FS.bind(null,e.syncEngine),n}function eA(t,e,n={}){const r=new _n;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,l,u,c){const h=new GS({next:d=>{a.enqueueAndForget(()=>RS(o,f)),d.fromCache&&u.source==="server"?c.reject(new x(w.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),f=new VS(l,h,{includeMetadataChanges:!0,W_:!0});return CS(o,f)}(await ZS(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(t,e,n){if(!n)throw new x(w.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function tA(t,e,n,r){if(e===!0&&r===!0)throw new x(w.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Ep(t){if(!M.isDocumentKey(t))throw new x(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function wp(t){if(M.isDocumentKey(t))throw new x(w.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function of(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":O()}function ga(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new x(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=of(t);throw new x(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new x(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new x(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=G_((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new x(w.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new x(w.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new x(w.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sl{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new x(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new x(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tp(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new yT;switch(r.type){case"firstParty":return new wT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new x(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=vp.get(n);r&&(D("ComponentProvider","Removing Datastore"),vp.delete(n),r.terminate())}(this),Promise.resolve()}}function nA(t,e,n,r={}){var s;const o=(t=ga(t,sl))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&Br("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=Oe.MOCK_USER;else{l=G1(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new x(w.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Oe(c)}t._authCredentials=new _T(new by(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ol(this.firestore,e,this._query)}}class It{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new It(this.firestore,e,this._key)}}class vn extends ol{constructor(e,n,r){super(e,n,o_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new M(e))}withConverter(e){return new vn(this.firestore,e,this._path)}}function X_(t,e,...n){if(t=ts(t),b_("collection","path",e),t instanceof sl){const r=ne.fromString(e,...n);return wp(r),new vn(t,null,r)}{if(!(t instanceof It||t instanceof vn))throw new x(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ne.fromString(e,...n));return wp(r),new vn(t.firestore,null,r)}}function rA(t,e,...n){if(t=ts(t),arguments.length===1&&(e=Xy.V()),b_("doc","path",e),t instanceof sl){const r=ne.fromString(e,...n);return Ep(r),new It(t,null,new M(r))}{if(!(t instanceof It||t instanceof vn))throw new x(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ne.fromString(e,...n));return Ep(r),new It(t.firestore,t instanceof vn?t.converter:null,new M(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(){this.Wa=Promise.resolve(),this.Ga=[],this.za=!1,this.ja=[],this.Ha=null,this.Ja=!1,this.Ya=!1,this.Za=[],this.Ko=new N_(this,"async_queue_retry"),this.Xa=()=>{const n=Xl();n&&D("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ko.No()};const e=Xl();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xa)}get isShuttingDown(){return this.za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.eu(),this.tu(e)}enterRestrictedMode(e){if(!this.za){this.za=!0,this.Ya=e||!1;const n=Xl();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xa)}}enqueue(e){if(this.eu(),this.za)return new Promise(()=>{});const n=new _n;return this.tu(()=>this.za&&this.Ya?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ga.push(e),this.nu()))}async nu(){if(this.Ga.length!==0){try{await this.Ga[0](),this.Ga.shift(),this.Ko.reset()}catch(e){if(!xs(e))throw e;D("AsyncQueue","Operation failed with retryable error: "+e)}this.Ga.length>0&&this.Ko.xo(()=>this.nu())}}tu(e){const n=this.Wa.then(()=>(this.Ja=!0,e().catch(r=>{this.Ha=r,this.Ja=!1;const s=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(r);throw bt("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Ja=!1,r))));return this.Wa=n,n}enqueueAfterDelay(e,n,r){this.eu(),this.Za.indexOf(e)>-1&&(n=0);const s=tf.createAndSchedule(this,e,n,r,o=>this.ru(o));return this.ja.push(s),s}eu(){this.Ha&&O()}verifyOperationInProgress(){}async iu(){let e;do e=this.Wa,await e;while(e!==this.Wa)}su(e){for(const n of this.ja)if(n.timerId===e)return!0;return!1}ou(e){return this.iu().then(()=>{this.ja.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ja)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.iu()})}_u(e){this.Za.push(e)}ru(e){const n=this.ja.indexOf(e);this.ja.splice(n,1)}}class af extends sl{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new iA}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||J_(this),this._firestoreClient.terminate()}}function sA(t,e){const n=typeof t=="object"?t:JE(),r=typeof t=="string"?t:e||"(default)",s=GE(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=q1("firestore");o&&nA(s,...o)}return s}function Y_(t){return t._firestoreClient||J_(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function J_(t){var e,n,r;const s=t._freezeSettings(),o=function(l,u,c,h){return new xT(l,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,G_(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new bS(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qr(He.fromBase64String(e))}catch(n){throw new x(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qr(He.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new x(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $e(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new x(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new x(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return q(this._lat,e._lat)||q(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=/^__.*__$/;class aA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new nr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ms(e,this.data,n,this.fieldTransforms)}}function ev(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw O()}}class cf{constructor(e,n,r,s,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.au(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get uu(){return this.settings.uu}cu(e){return new cf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}lu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.cu({path:r,hu:!1});return s.Pu(e),s}Iu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.cu({path:r,hu:!1});return s.au(),s}Tu(e){return this.cu({path:void 0,hu:!0})}Eu(e){return ya(e,this.settings.methodName,this.settings.du||!1,this.path,this.settings.Au)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}au(){if(this.path)for(let e=0;e<this.path.length;e++)this.Pu(this.path.get(e))}Pu(e){if(e.length===0)throw this.Eu("Document fields must not be empty");if(ev(this.uu)&&oA.test(e))throw this.Eu('Document fields cannot begin and end with "__"')}}class lA{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||nl(e)}Ru(e,n,r,s=!1){return new cf({uu:e,methodName:n,Au:r,path:$e.emptyPath(),hu:!1,du:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uA(t){const e=t._freezeSettings(),n=nl(t._databaseId);return new lA(t._databaseId,!!e.ignoreUndefinedProperties,n)}function cA(t,e,n,r,s,o={}){const a=t.Ru(o.merge||o.mergeFields?2:0,e,n,s);iv("Data must be an object, but it was:",a,r);const l=nv(r,a);let u,c;if(o.merge)u=new Et(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){const h=[];for(const f of o.mergeFields){const d=hA(e,f,n);if(!a.contains(d))throw new x(w.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);dA(h,d)||h.push(d)}u=new Et(h),c=a.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=a.fieldTransforms;return new aA(new ct(l),u,c)}function tv(t,e){if(rv(t=ts(t)))return iv("Unsupported field value:",e,t),nv(t,e);if(t instanceof Z_)return function(r,s){if(!ev(s.uu))throw s.Eu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Eu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.hu&&e.uu!==4)throw e.Eu("Nested arrays are not supported");return function(r,s){const o=[];let a=0;for(const l of r){let u=tv(l,s.Tu(a));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,s){if((r=ts(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return nI(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=_e.fromDate(r);return{timestampValue:pa(s.serializer,o)}}if(r instanceof _e){const o=new _e(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:pa(s.serializer,o)}}if(r instanceof uf)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qr)return{bytesValue:S_(s.serializer,r._byteString)};if(r instanceof It){const o=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw s.Eu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Gh(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.Eu(`Unsupported field value: ${of(r)}`)}(t,e)}function nv(t,e){const n={};return Yy(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ti(t,(r,s)=>{const o=tv(s,e.lu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function rv(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _e||t instanceof uf||t instanceof Qr||t instanceof It||t instanceof Z_)}function iv(t,e,n){if(!rv(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=of(n);throw r==="an object"?e.Eu(t+" a custom object"):e.Eu(t+" "+r)}}function hA(t,e,n){if((e=ts(e))instanceof lf)return e._internalPath;if(typeof e=="string")return sv(t,e);throw ya("Field path arguments must be of type string or ",t,!1,void 0,n)}const fA=new RegExp("[~\\*/\\[\\]]");function sv(t,e,n){if(e.search(fA)>=0)throw ya(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new lf(...e.split("."))._internalPath}catch{throw ya(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ya(t,e,n,r,s){const o=r&&!r.isEmpty(),a=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(o||a)&&(u+=" (found",o&&(u+=` in field ${r}`),a&&(u+=` in document ${s}`),u+=")"),new x(w.INVALID_ARGUMENT,l+t+u)}function dA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(av("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class pA extends ov{data(){return super.data()}}function av(t,e){return typeof e=="string"?sv(t,e):e instanceof lf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new x(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gA{convertValue(e,n="none"){switch(Jn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return de(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Yn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw O()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ti(e,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new uf(de(e.latitude),de(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Bh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ds(e));default:return null}}convertTimestamp(e){const n=In(e);return new _e(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ne.fromString(e);ee(k_(r));const s=new ps(r.get(1),r.get(3)),o=new M(r.popFirst(5));return s.isEqual(n)||bt(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _A extends ov{constructor(e,n,r,s,o,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ko(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(av("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ko extends _A{data(e={}){return super.data(e)}}class vA{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new fo(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ko(this._firestore,this._userDataWriter,r.key,r,new fo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new x(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const u=new ko(s._firestore,s._userDataWriter,l.doc.key,l.doc,new fo(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{const u=new ko(s._firestore,s._userDataWriter,l.doc.key,l.doc,new fo(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,h=-1;return l.type!==0&&(c=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),h=a.indexOf(l.doc.key)),{type:EA(l.type),doc:u,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function EA(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return O()}}class wA extends gA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,n)}}function TA(t){t=ga(t,ol);const e=ga(t.firestore,af),n=Y_(e),r=new wA(e);return mA(t._query),eA(n,t._query).then(s=>new vA(e,r,t,s))}function IA(t,e){const n=ga(t.firestore,af),r=rA(t),s=yA(t.converter,e);return SA(n,[cA(uA(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Ht.exists(!1))]).then(()=>r)}function SA(t,e){return function(r,s){const o=new _n;return r.asyncQueue.enqueueAndForget(async()=>$S(await JS(r),s,o)),o.promise}(Y_(t),e)}(function(e,n=!0){(function(s){ei=s})(YE),na(new ns("firestore",(r,{instanceIdentifier:s,options:o})=>{const a=r.getProvider("app").getImmediate(),l=new af(new vT(r.getProvider("auth-internal")),new IT(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new x(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ps(c.options.projectId,h)}(a,s),a);return o=Object.assign({useFetchStreams:n},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),Rr(Hd,"4.1.0",e),Rr(Hd,"4.1.0","esm2017")})();const AA={apiKey:"AIzaSyBsrfiPcYcpThGB6EvAiDToCn-kIVYJFVs",authDomain:"vanlife-e1dfa.firebaseapp.com",projectId:"vanlife-e1dfa",storageBucket:"vanlife-e1dfa.appspot.com",messagingSenderId:"21397522780",appId:"1:21397522780:web:4031e923d2739191221999"},CA=Wg(AA),lv=sA(CA),RA=X_(lv,"new");function PA(){let[t,e]=Nr.useState(null);async function n(){const s=(await TA(RA)).docs.map(o=>({...o.data(),id:o.id}));e(s)}return Nr.useEffect(()=>{n()},[t]),Re.jsx(Re.Fragment,{children:Re.jsx("p",{className:"data",children:t?t.map(r=>Re.jsxs("div",{className:"text",children:[r.testData.name,Re.jsx("img",{style:{width:"300px"},src:r.testData.age,alt:""})]},r.testData.id)):Re.jsx("h1",{children:"...    "})})})}const kA=t=>{const e=X_(lv,"new");let n={testData:t};try{IA(e,n)}catch(r){console.log(r)}};function VA(){let[t,e]=Nr.useState({name:"",age:null}),n=s=>{let{value:o,name:a}=s.target;e(l=>({...l,[a]:o}))};const r=s=>{s.preventDefault(),t.name&&kA(t),e({name:"",age:""})};return Re.jsxs("form",{onSubmit:r,children:[Re.jsx("input",{name:"name",placeholder:" ",className:"form-control mt-3",onChange:n,type:"text",value:t.name}),Re.jsx("input",{name:"age",placeholder:"Enter image url",className:"form-control mt-3",onChange:n,type:"text",value:t.age}),Re.jsx("br",{}),Re.jsx("button",{className:"btn btn-info ",type:"submit",children:" "})]})}i;function DA(){return Re.jsxs(Re.Fragment,{children:[Re.jsx(VA,{}),Re.jsx(PA,{})]})}Jl.createRoot(document.getElementById("root")).render(Re.jsx(Cv.StrictMode,{children:Re.jsx(DA,{})}));
